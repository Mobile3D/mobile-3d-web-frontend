{"version":3,"sources":["images/icon-white.svg","images/icon-blue.svg","helpers/api.helper.js","services/users.service.js","contexts/user.context.js","components/snackbar.component.js","pages/login.page.js","contexts/theme.context.js","components/sidedrawer.component.js","services/socket.service.js","hooks/interval.hook.js","components/navbar.component.js","components/dashboard.component.js","components/actioncard.component.js","services/printer.service.js","components/spinner.component.js","components/confirmstopdialog.component.js","components/competeddialog.component.js","helpers/files.helper.js","components/status.component.js","services/uploads.service.js","helpers/upload.helper.js","components/uploaddialog.component.js","pages/home.page.js","components/settingscard.component.js","pages/settings.page.js","components/deletedialog.component.js","contexts/accounts.context.js","pages/accountsettings.page.js","services/connection.service.js","pages/connectionsettings.page.js","pages/addaccount.page.js","pages/files.page.js","components/axiscontrols.component.js","components/controlsettings.component.js","components/console.component.js","pages/controls.page.js","pages/info.page.js","pages/loading.page.js","contexts/printer.context.js","pages/printersettings.page.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","apiHelper","getUrl","window","location","host","split","getFileUrl","getDefaultHeaders","Content-Type","getHeaders","Authorization","localStorage","getItem","getFileUploadHeaders","checkToken","error","code","reload","checkAuth","sessionStorage","checkResponse","data","undefined","valid","type","message","userService","login","lookup","add","getAll","get","remove","_callee","body","regenerator_default","a","wrap","_context","prev","next","abrupt","fetch","method","headers","JSON","stringify","then","res","json","stop","_callee2","_context2","_callee3","_context3","_callee4","_context4","_callee5","id","_context5","_callee6","_context6","UserContext","React","createContext","authorized","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","useStyles1","makeStyles","theme","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","display","alignItems","MySnackbarContentWrapper","props","classes","className","onClose","variant","other","Object","objectWithoutProperties","Icon","react_default","createElement","SnackbarContent","assign","clsx","aria-describedby","action","IconButton","key","aria-label","color","onClick","Close_default","CustomizedSnackbar","forwardRef","ref","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","handleClose","event","reason","useImperativeHandle","handleOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","printAction","printStatus","Button","handlePrintNowClick","disabled","useStyles","root","height","image","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","paper","margin","flexDirection","avatar","width","form","marginTop","submit","Login","user","useContext","_useState","_useState2","txtUsername","setTxtUsername","_useState3","_useState4","txtPassword","setTxtPassword","_useState5","_useState6","chkRememberMe","setChkRememberMe","_useState7","_useState8","txtUsernameError","setTxtUsernameError","_useState9","_useState10","txtPasswordError","setTxtPasswordError","_useState11","_useState12","snackbarMessage","setSnackbarMessage","snackbar","useRef","checkTxtUsername","username","validator","isEmpty","checkTxtPassword","password","react_router","exact","to","Grid","container","component","CssBaseline","item","xs","sm","md","lg","Paper","elevation","square","Avatar","src","Logo","alt","Typography","onSubmit","e","preventDefault","remember","responseCheck","setItem","token","current","noValidate","TextField","required","fullWidth","label","name","autoComplete","autoFocus","onChange","target","value","helperText","FormControlLabel","control","Checkbox","snackbar_component","ThemeContext","themeStyle","setThemeStyle","list","orangeAvatar","deepOrange","pinkAvatar","pink","link","textDecoration","text","&:focus","&:active","SideDrawer","themeContext","handleLogout","removeItem","handleDarkModeClick","Consumer","Drawer","onDrawerClose","tabIndex","role","List","ListItem","ListItemAvatar","firstname","substr","ListItemText","lastname","Divider","react_router_dom","button","selected","selectedPage","ListItemIcon","Home_default","ControlCamera_default","Folder_default","NightsStay_default","NightsStayOutlined_default","Settings_default","PowerSettingsNew_default","socket","io","query","subscribeToInfo","cb","on","subscribeToStatus","status","subscribeToTemperature","temperature","emitSendManualCommand","command","emit","emitFanOn","speed","emitGetInfo","emitPrintFile","file_id","emitDeleteLoadedFile","emitLoadFile","unsubscribeFromInfo","off","unsubscribeFromStatus","unsubscribeFromTemperature","useInterval","callback","delay","savedCallback","useEffect","setInterval","clearInterval","flexGrow","grow","menuButton","marginLeft","search","defineProperty","position","borderRadius","shape","fade","common","white","&:hover","breakpoints","up","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","Navbar","showDrawer","setShowDrawer","setPrintStatus","printStatusPromiseResolved","setPrintStatusPromiseResolved","connectingIconDisabled","setConnectingIconDisabled","printIconDisabled","setPrintIconDisabled","AppBar","Toolbar","backTo","ArrowBack_default","Menu_default","title","Tooltip","disableRipple","Pause_default","Print_default","SignalCellularConnectedNoInternet4Bar_default","SignalCellular4Bar_default","Dashboard","navTitle","children","cardActionArea","down","pos","marginBottom","SelectIcon","style","CloudUpload_default","Launch_default","ActionCard","Card","CardActionArea","CardContent","align","description","CardActions","printerService","setInfo","getInfo","setLoadedFile","getLoadedFile","getStatus","getProgress","textAlign","transform","left","right","Spinner","CircularProgress","ConfirmStopDialog","Dialog","onCancelStop","aria-labelledby","DialogTitle","itemName","DialogContent","DialogContentText","DialogActions","onConfirmDelete","onCancelDelete","CompletedDialog","onConfirmCompletedPrint","onConfirm","filesHelper","setNextFile","getSize","size","parseInt","unit","_root","controls","playIcon","progressbar","chip","Status","loadedFile","loadedFilePromiseResolved","setLoadedFilePromiseResolved","openConfirmStopDialog","setOpenConfirmStopDialog","openCompletedDialog","setOpenCompletedDialog","printProgress","setPrintProgress","_useState13","hotend","set","heatbed","_useState14","printTemperature","setPrintTemperature","progress","sent","total","file","subscribeToDeleteLoadedFile","subscribeToProgress","temp","card","details","content","printer","Chip","onDelete","LinearProgress","Math","floor","PlayArrow_default","Stop_default","deleteType","uploadService","checkFile","indexOf","parts","fileEnding","length","toLowerCase","top","appBar","flex","Transition","Slide","direction","UploadDialog","setFile","uploadStarted","setUploadStarted","setUpload","upload","onBeforeUploadError","onDrop","dataTransfer","files","fullScreen","TransitionComponent","edge","FormData","append","_id","originalname","onUploadFinish","secondary","linearProgress","gutterBottom","InsertDriveFile_default","fullscreen","options","heroContent","maxWidth","padding","concat","inputFile","Home","uploadDialog","uploadField","onDragOver","justify","click","uploaddialog_component","SupervisorAccount_default","SignalCellularAlt_default","Info_default","SettingsCard","settingscard_component_SelectIcon","Settings","DeleteDialog","deleteItemName","AccountsContext","new","tableRoot","table","fab","bottom","zIndex","centering","AccountSettings","accountsContext","accounts","setAccounts","userPromiseResolved","setUserPromiseResolved","setDeleteItemName","deleteItemId","setDeleteItemId","openDeleteDialog","setOpenDeleteDialog","update","setUpdate","Table","TableHead","TableRow","TableCell","Hidden","xsDown","TableBody","map","row","scope","handleDeleteClick","Delete_default","Fab","Add_default","connectionService","setConnection","getConnection","getPorts","textField","ConnectionSettings","availablePorts","setAvailablePorts","selPort","setSelPort","selPortOpen","setSelPortOpen","txtBaudRate","setTxtBaudRate","txtBaudRateError","setTxtBaudRateError","getConnectionPromiseResolved","setGetConnectionPromiseResolved","_useState15","_useState16","getPortsPromiseResolved","setGetPortsPromiseResolved","_useState17","_useState18","noAvailablePorts","setNoAvailablePorts","inputLabel","_useState19","_useState20","labelWidth","setLabelWidth","checkTxtBaudRate","baudrate","isNumeric","offsetWidth","port","comName","manufacturer","paragraph","FormControl","InputLabel","Select","onOpen","MenuItem","AddAccount","userAdded","setUserAdded","txtFirstname","setTxtFirstname","txtLastname","setTxtLastname","txtFirstnameError","setTxtFirstnameError","txtLastnameError","setTxtLastnameError","checkTxtFirstname","checkTxtLastname","admin","history","back","Files","uploads","setUploads","uploadPromiseResolved","setUploadPromiseResolved","loadFiles","filename","SaveAlt_default","lengthSet","AxisControls","selectedLength","setSelectedLength","handleSelectedLengthClick","b","handleMoveButtonClick","emitMoveDirection","KeyboardArrowUp_default","KeyboardArrowLeft_default","KeyboardArrowRight_default","KeyboardArrowDown_default","ButtonGroup","settingsButton","ControlSettings","fanState","setFanState","numFanSpeed","setNumFanSpeed","numLength","setNumLength","numTemperature","setNumTemperature","handleFanState","state","gridItem","logBox","background","fontFamily","overflowY","Console","txtCommand","setTxtCommand","log","setLog","consoleLog","consoleLogWithId","i","push","scrollTop","scrollHeight","cLog","onKeyDown","controlWindow","listItem","Controls","openAxisControls","setOpenAxisControls","openControlSettings","setOpenControlSettings","openConsole","setOpenConsole","ExpandLess_default","ExpandMore_default","Collapse","in","timeout","Info","LoadingWithIcon","PrinterContext","setStatus","PrinterSettings","txtName","setTxtName","txtNameError","setTxtNameError","checkTxtName","theme_light","createMuiTheme","typography","useNextVariants","theme_dark","RedirectToLogin","App","setAuthorized","setUser","printerStatus","setPrinterStatus","printerInfo","setPrinterInfo","Provider","ThemeProvider","path","render","home_page_Home","settings_page_Settings","info_page_Info","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","onUpdate","onSuccess","catch","ReactDOM","src_App","document","getElementById","URL","process","href","origin","addEventListener","response","contentType","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5b4017b4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-white.3260c5c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-blue.5757a8ee.svg\";","export const apiHelper = {\r\n  getUrl,\r\n  getFileUrl,\r\n  getDefaultHeaders,\r\n  getHeaders,\r\n  getFileUploadHeaders,\r\n  checkToken,\r\n  checkAuth\r\n};\r\n\r\nfunction getUrl() {\r\n  return 'http://' + window.location.host.split(':')[0] + '/api/v1';\r\n}\r\n\r\nfunction getFileUrl() {\r\n  return 'http://' + window.location.host.split(':')[0] + '/files';\r\n}\r\n\r\nfunction getDefaultHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n  }\r\n}\r\n\r\nfunction getHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction getFileUploadHeaders() {\r\n  return {\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction checkToken(error) {\r\n  if (error.code === 'ER_TOKEN_EXPIRED') {\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\nfunction checkAuth() {\r\n  if (window.localStorage.getItem('token') !== null || window.sessionStorage.getItem('token') !== null) {\r\n    return true;\r\n  } \r\n  return false;\r\n}\r\n\r\nexport function checkResponse(data) {\r\n  if (data.error === undefined) return { valid: true };\r\n  else {\r\n\r\n    if (data.error.code === 'ER_MISSING_PARAMS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Some parameters are missing.'\r\n      };\r\n    } else if (data.error.code === 'ER_USERNAME_TAKEN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The username you entered is already taken.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested user could not be found.'\r\n      };\r\n    } else if (data.error.code === 'ER_INVALID_LOGIN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Your username or password is invalid.'\r\n      };\r\n    } else if (data.error.code === 'ER_UNAUTHORIZED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You need to be signed in to use this service.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOKEN_EXPIRED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'This session expired. Please reload the page and sign in again.'\r\n      };\r\n    } else if (data.error.code === 'ER_UPLOAD_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested upload could not be found. Please try to reload the page.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_TO_DELETE_SIGNED_IN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You cannot delete yourself.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOO_MANY_REQUESTS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Too many requests. Please wait a few seconds and try again.'\r\n      };\r\n    } else if (data.error.code === 'ER_INTERNAL') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An internal error occured. Please try again in a few seconds.'\r\n      };\r\n    } else {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An unknown error occured. Please try to reload the page.'\r\n      };\r\n    }\r\n  }\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const userService = {\r\n  login,\r\n  lookup,\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function login(body) {\r\n  return fetch(apiHelper.getUrl() + '/auth/login', {\r\n    method: 'POST',\r\n    headers: apiHelper.getDefaultHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function lookup() {\r\n  return fetch(apiHelper.getUrl() + '/user', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\n\r\nexport const user = { authorized: false }\r\nexport const UserContext = React.createContext(user);\r\n\r\nexport function checkAuth() {\r\n  if (window.localStorage.getItem('token') === null || window.sessionStorage.getItem('token') === null) {\r\n    window.location.reload();\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n  const classes = useStyles1();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst CustomizedSnackbar = forwardRef((props, ref) => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    }\r\n\r\n  }));\r\n\r\n  function handleClose(event, reason) {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n      >\r\n        { props.printAction && props.printStatus ? (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n            action={(<Button color=\"secondary\" onClick={props.handlePrintNowClick} disabled={props.printStatus !== 'ready'}>\r\n              Print Now\r\n            </Button>)}\r\n          />\r\n        ) : (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n          />\r\n        )}\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default CustomizedSnackbar;","import React, { useState, useContext, useRef } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom';\r\nimport validator from 'validator';\r\n\r\nimport Logo from '../images/icon-white.svg';\r\nimport { userService } from '../services/users.service';\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(images/login-bg.jpg)',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const user = useContext(UserContext);\r\n\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [chkRememberMe, setChkRememberMe] = useState(false);\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const snackbar = useRef();\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleChkRememberMeChange(e) {\r\n    setChkRememberMe(!chkRememberMe);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    let valid = true;\r\n\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      \r\n      userService.login({\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        remember: chkRememberMe\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n        \r\n        if (responseCheck.valid) {\r\n          window.localStorage.setItem('token', data.token);\r\n          window.location.reload();\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter your username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter your password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  // loading\r\n  if (user.authorized === undefined) {\r\n    return (<div></div>);\r\n  } else if (user.authorized) {\r\n    return (<Redirect exact to=\"/\" />);\r\n  } else {\r\n    return (\r\n      <Grid container component=\"main\" className={classes.root}>\r\n        <CssBaseline />\r\n        <Grid item xs={false} sm={5} md={7} lg={8} className={classes.image} />\r\n        <Grid item xs={12} sm={7} md={5} lg={4} component={Paper} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <img src={Logo} alt=\"Logo\" width={27} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign In\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"txtUsername\"\r\n                label=\"Username\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                autoFocus\r\n                onChange={handleTxtUsernameChange}\r\n                value={txtUsername}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"txtPassword\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"txtPassword\"\r\n                autoComplete=\"current-password\"\r\n                onChange={handleTxtPasswordChange}\r\n                value={txtPassword}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox color=\"primary\" onChange={handleChkRememberMeChange} value={chkRememberMe} />}\r\n                label=\"Remember me\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              { /*}\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n              */}\r\n            </form>\r\n          </div>\r\n        </Grid>\r\n        <Snackbar \r\n          message={snackbarMessage.message} \r\n          variant={snackbarMessage.type}\r\n          ref={snackbar} \r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport const theme = { themeStyle: 'light', setThemeStyle: () => {} };\r\n\r\nexport const ThemeContext = React.createContext(theme);","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport deepOrange from '@material-ui/core/colors/deepOrange';\r\nimport pink from '@material-ui/core/colors/pink';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport NightsStayIcon from '@material-ui/icons/NightsStay';\r\nimport NightsStayOutlinedIcon from '@material-ui/icons/NightsStayOutlined';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { ThemeContext } from '../contexts/theme.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  list: {\r\n    width: 250,\r\n  },\r\n  orangeAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  pinkAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: pink[400],\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.text.primary,\r\n    '&:focus': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n    '&:active': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SideDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const themeContext = useContext(ThemeContext);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.reload();\r\n  }\r\n\r\n  const handleDarkModeClick = () => {\r\n    if (themeContext.themeStyle === 'light') {\r\n      themeContext.setThemeStyle('dark');\r\n      window.localStorage.setItem('themeMode', 'dark');\r\n    } else {\r\n      themeContext.setThemeStyle('light');\r\n      window.localStorage.setItem('themeMode', 'light');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserContext.Consumer>\r\n      {user => (\r\n        <Drawer open={props.open} onClose={ props.onDrawerClose }>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n          >\r\n            <div className={classes.list}>\r\n              <List>\r\n                <ListItem>\r\n                  <ListItemAvatar>\r\n                    <Avatar className={classes.pinkAvatar}>{user.firstname === undefined ? '' : user.firstname.substr(0, 1)}</Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={user.firstname + ' ' + user.lastname}\r\n                  />\r\n                </ListItem>\r\n              </List>\r\n              <Divider />\r\n              <List>\r\n                <Link to=\"/\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'home' }>\r\n                    <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Home\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/controls\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'controls' }>\r\n                    <ListItemIcon><ControlCameraIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Controls\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/files\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'files' }>\r\n                    <ListItemIcon><FolderIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Files\" />\r\n                  </ListItem>\r\n                </Link>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <ListItem button onClick={handleDarkModeClick}>\r\n                  <ListItemIcon>{themeContext.themeStyle === 'dark' ? (<NightsStayIcon/>) : (<NightsStayOutlinedIcon/>)}</ListItemIcon>\r\n                  <ListItemText primary={themeContext.themeStyle === 'dark' ? 'Light Mode' : 'Dark Mode'} />\r\n                </ListItem>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <Link to=\"/settings\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'settings' }>\r\n                    <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Settings\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <ListItem button onClick={handleLogout}>\r\n                  <ListItemIcon><PowerSettingsNewIcon /></ListItemIcon>\r\n                  <ListItemText primary=\"Logout\" />\r\n                </ListItem>\r\n              </List>\r\n            </div>\r\n          </div>\r\n        </Drawer>\r\n      )}\r\n    </UserContext.Consumer>\r\n  );\r\n}","import io from 'socket.io-client';\r\n\r\nconst socket = io('http://' + window.location.host.split(':')[0], {\r\n  query: {\r\n    token: 'Bearer ' + window.localStorage.getItem('token')\r\n  }\r\n});\r\n\r\n/* Subscribers */\r\n\r\nexport function subscribeToInfo(cb) {\r\n  socket.on('info', info => cb(info));\r\n}\r\n\r\nexport function subscribeToStatus(cb) {\r\n  socket.on('status', status => cb(status));\r\n}\r\n\r\nexport function subscribeToProgress(cb) {\r\n  socket.on('progress', progress => cb(progress));\r\n}\r\n\r\nexport function subscribeToTemperature(cb) {\r\n  socket.on('temperature', temperature => cb(temperature));\r\n}\r\n\r\nexport function subscribeToConsoleLog(cb) {\r\n  socket.on('consoleLog', consoleLog => cb(consoleLog));\r\n}\r\n\r\nexport function subscribeToNewFileToPrint(cb) {\r\n  socket.on('newFileToPrint', file => cb(file));\r\n}\r\n\r\nexport function subscribeToDeleteLoadedFile(cb) {\r\n  socket.on('deleteLoadedFile', () => cb());\r\n}\r\n\r\n/* Emitters */\r\n\r\nexport function emitMoveDirection(direction, length) {\r\n  socket.emit(direction, length);\r\n}\r\n\r\nexport function emitSendManualCommand(command) {\r\n  socket.emit('sendManualCommand', command);\r\n}\r\n\r\nexport function emitFanOn(speed) {\r\n  socket.emit('fanOn', speed);\r\n}\r\n\r\nexport function emitFanOff() {\r\n  socket.emit('fanOff');\r\n}\r\n\r\nexport function emitExtrude(length) {\r\n  socket.emit('extrude', length);\r\n}\r\n\r\nexport function emitRetract(length) {\r\n  socket.emit('retract', length);\r\n}\r\n\r\nexport function emitSetHotendTemperature(temp) {\r\n  socket.emit('setHotendTemperature', temp);\r\n}\r\n\r\nexport function emitSetHeatbedTemperature(temp) {\r\n  socket.emit('setHeatbedTemperature', temp);\r\n}\r\n\r\nexport function emitGetInfo() {\r\n  socket.emit('getInfo');\r\n}\r\n\r\nexport function emitPrintFile(file_id) {\r\n  socket.emit('printFile', file_id);\r\n}\r\n\r\nexport function emitDeleteLoadedFile() {\r\n  socket.emit('deleteLoadedFile');\r\n}\r\n\r\nexport function emitPausePrint() {\r\n  socket.emit('pausePrint');\r\n}\r\n\r\nexport function emitUnpausePrint() {\r\n  socket.emit('unpausePrint');\r\n}\r\n\r\nexport function emitCancelPrint() {\r\n  socket.emit('cancelPrint');\r\n}\r\n\r\nexport function emitLoadFile(data) {\r\n  socket.emit('loadFile', data);\r\n}\r\n\r\n/* Unsubscribers */\r\n\r\nexport function unsubscribeFromInfo() {\r\n  socket.off('info');\r\n}\r\n\r\nexport function unsubscribeFromStatus() {\r\n  socket.off('status');\r\n}\r\n\r\nexport function unsubscribeFromProgress() {\r\n  socket.off('progress');\r\n}\r\n\r\nexport function unsubscribeFromTemperature() {\r\n  socket.off('temperature');\r\n}\r\n\r\nexport function unsubscribeFromConsoleLog() {\r\n  socket.off('consoleLog');\r\n}\r\n\r\nexport function unsubscribeFromNewFileToPrint() {\r\n  socket.off('newFileToPrint');\r\n}\r\n\r\nexport function unsubscribeFromDeleteLoadedFile() {\r\n  socket.off('deleteLoadedFile');\r\n}","import { useEffect, useRef } from 'react';\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport NotConnectedIcon from '@material-ui/icons/SignalCellularConnectedNoInternet4Bar';\r\nimport ConnectedIcon from '@material-ui/icons/SignalCellular4Bar';\r\nimport { Link } from 'react-router-dom';\r\nimport SideDrawer from './sidedrawer.component';\r\nimport { subscribeToStatus, subscribeToInfo, unsubscribeFromInfo, unsubscribeFromStatus, emitGetInfo } from '../services/socket.service';\r\nimport { useInterval } from '../hooks/interval.hook';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(9),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    paddingLeft: theme.spacing(10),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 120,\r\n      '&:focus': {\r\n        width: 200,\r\n      },\r\n    },\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#ffffff',\r\n    '&:focus': {\r\n      color: '#ffffff',\r\n    },\r\n    '&:active': {\r\n      color: '#ffffff',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Navbar(props) {\r\n  const classes = useStyles();\r\n\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [printStatusPromiseResolved, setPrintStatusPromiseResolved] = useState(false);\r\n  const [connectingIconDisabled, setConnectingIconDisabled] = useState(true);\r\n  const [printIconDisabled, setPrintIconDisabled] = useState(true);\r\n\r\n  function handleMenuButtonClick() {\r\n    setShowDrawer(true);\r\n  }\r\n\r\n  function handleDrawerClose() {\r\n    setShowDrawer(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToInfo((data) => {\r\n      setPrintStatus(data.status);\r\n      setPrintStatusPromiseResolved(true);\r\n    });\r\n    emitGetInfo();\r\n\r\n    subscribeToStatus((status) => {\r\n      setPrintStatus(status);\r\n      setPrintStatusPromiseResolved(true);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromInfo();\r\n      unsubscribeFromStatus();\r\n    }\r\n  }, []);\r\n  \r\n  useInterval(() => {\r\n\r\n    if (printStatus === 'connecting') {\r\n      setConnectingIconDisabled(!connectingIconDisabled);\r\n    }\r\n\r\n    if (printStatus === 'stopping' || printStatus === 'pausing') {\r\n      setPrintIconDisabled(!printIconDisabled);\r\n    }\r\n\r\n  }, 500);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          {props.backTo !== undefined ? (\r\n            <Link to={ props.backTo === 'settings' ? '/settings' : props.backTo === 'accountsettings' ? '/settings/accounts' : '/'} className={classes.link}>\r\n              <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Back\">\r\n                <ArrowBackIcon />\r\n              </IconButton> \r\n            </Link>\r\n          ) : (\r\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={ handleMenuButtonClick }>\r\n              <MenuIcon />\r\n            </IconButton>\r\n          )}\r\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n            { props.title }\r\n          </Typography>\r\n          \r\n          { printStatus === 'pausing' || printStatus === 'paused' ? (\r\n            <Tooltip title={printStatus === 'pausing' ? 'Pausing...' : 'Paused'}>\r\n            <span>\r\n              <IconButton color=\"inherit\" disableRipple>\r\n                <PauseIcon />\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n          ) : ''}\r\n\r\n          <Tooltip title={printStatus !== 'ready' ? printStatus === 'stopping' || printStatus === 'pausing' ? 'Stopping...' : 'Printing...' : 'Ready'}>\r\n            <span>\r\n              <IconButton color=\"inherit\" disableRipple disabled={(printStatus !== 'printing' && printStatus !== 'stopping' && printStatus !== 'pausing') || (printStatus === 'stopping' && printIconDisabled) || (printStatus === 'pausing' && printIconDisabled) || !printStatusPromiseResolved}>\r\n                <PrintIcon />\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n          <Tooltip title={printStatus !== 'disconnected' ? printStatus === 'connecting' ? 'Connecting...' : 'Connected' : 'Connection failed'}>\r\n            <span>\r\n              <IconButton color=\"inherit\" disableRipple disabled={connectingIconDisabled && printStatus === 'connecting'}>\r\n                { printStatus === 'disconnected' ? (<NotConnectedIcon />) : (<div></div>) }\r\n                { printStatus !== 'disconnected' ? (<ConnectedIcon />) : (<div></div>) }\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SideDrawer open={showDrawer} onDrawerClose={ handleDrawerClose } selectedPage={ props.selectedPage } />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Navbar from './navbar.component';\r\n\r\n/**\r\n * Includes the Navbar can be implemented in every view that needs a navbar\r\n */\r\nexport default function Dashboard(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Navbar title={ props.navTitle } selectedPage=\"not\" backTo={props.backTo} />\r\n      { props.children }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 400,\r\n    height: 250,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'print') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'home') {\r\n    return (<HomeIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'upload') {\r\n    return (<CloudUploadIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'files') {\r\n    return (<FolderIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'control') {\r\n    return (<ControlCameraIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'logout') {\r\n    return (<PowerSettingsNewIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  }\r\n}\r\n\r\nexport default function ActionCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h5\" component=\"h5\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"subtitle1\" component=\"h6\" color=\"textSecondary\" align=\"center\">\r\n            { props.description }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const printerService = {\r\n  setInfo,\r\n  getInfo,\r\n  setLoadedFile,\r\n  getLoadedFile,\r\n  getStatus,\r\n  getProgress\r\n};\r\n\r\nasync function setInfo(body) {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getInfo() {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function setLoadedFile(body) {\r\n  return fetch(apiHelper.getUrl() + '/printer/file', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getLoadedFile() {\r\n  return fetch(apiHelper.getUrl() + '/printer/file', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getStatus() {\r\n  return fetch(apiHelper.getUrl() + '/printer/status', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getProgress() {\r\n  return fetch(apiHelper.getUrl() + '/printer/progress', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n}));\r\n\r\nexport default function Spinner() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfirmStopDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onCancelStop}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Are you sure you want to stop printing \"{props.itemName}\"?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            If you stop this print, <b>this action cannot be undone</b> and <b>you will have to start over again.</b>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirmDelete} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.onCancelDelete} autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function CompletedDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onConfirmCompletedPrint}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Your item has been printed.\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            You can remove your item from the printer.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirm} color=\"primary\">\r\n            Okay\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import { printerService } from '../services/printer.service';\r\n\r\nexport const filesHelper = {\r\n  setNextFile,\r\n  getSize\r\n};\r\n\r\nfunction setNextFile(id, name) {\r\n  window.sessionStorage.setItem('print_file_id', id);\r\n  window.sessionStorage.setItem('print_file_name', name);\r\n  printerService.setLoadedFile({\r\n    id: id,\r\n    name: name\r\n  });\r\n}\r\n\r\nfunction getSize(size) {\r\n  if (parseInt(size/1024/1024/1024) > 0) return {size: parseInt(size/1024/1024/1024), unit: 'GB'};\r\n  else if (parseInt(size/1024/1024) > 0) return {size: parseInt(size/1024/1024), unit: 'MB'};\r\n  else if (parseInt(size/1024) > 0) return {size: parseInt(size/1024), unit: 'KB'};\r\n  else return {size: parseInt(size), unit: 'Bytes'};\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { Link } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { printerService } from '../services/printer.service';\r\nimport Spinner from '../components/spinner.component';\r\nimport ConfirmStopDialog from '../components/confirmstopdialog.component';\r\nimport CompletedDialog from '../components/competeddialog.component';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { subscribeToDeleteLoadedFile, subscribeToProgress, subscribeToStatus, subscribeToTemperature, subscribeToInfo, subscribeToNewFileToPrint, emitCancelPrint, emitGetInfo, emitPrintFile, emitPausePrint, emitUnpausePrint, emitDeleteLoadedFile, unsubscribeFromInfo, unsubscribeFromStatus, unsubscribeFromDeleteLoadedFile, unsubscribeFromNewFileToPrint, unsubscribeFromProgress, unsubscribeFromTemperature } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 600,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    textAlign: 'center',\r\n  },\r\n  controls: {\r\n    alignItems: 'center',\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38,\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#0078d7',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  progressbar: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  temperature: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  chip: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  status: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function Status(props) {\r\n  const classes = useStyles();\r\n\r\n  const [loadedFile, setLoadedFile] = useState({ id: window.sessionStorage.getItem('print_file_id'), name: window.sessionStorage.getItem('print_file_name')});\r\n  const [loadedFilePromiseResolved, setLoadedFilePromiseResolved] = useState(false);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [openConfirmStopDialog, setOpenConfirmStopDialog] = useState(false);\r\n  const [openCompletedDialog, setOpenCompletedDialog] = useState(false);\r\n  const [printProgress, setPrintProgress] = useState({});\r\n  const [printTemperature, setPrintTemperature] = useState({ hotend: { current: '...', set: '...' }, heatbed: { current: '...', set: '...' }});\r\n\r\n  useEffect(() => {\r\n    printerService.getLoadedFile().then((data) => {\r\n      if (data.id !== null || data.name !== null) {\r\n        setLoadedFile(data);\r\n        filesHelper.setNextFile(data.id, data.name);\r\n      }\r\n      setLoadedFilePromiseResolved(true);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToInfo((data) => {\r\n      setPrintStatus(data.status);\r\n      setPrintProgress((data.progress.sent/data.progress.total)*100);\r\n      if (data.status === 'completed') {\r\n        window.sessionStorage.removeItem('print_file_id');\r\n        window.sessionStorage.removeItem('print_file_name');\r\n        setLoadedFile({\r\n          id: null,\r\n          name: null\r\n        });\r\n        setOpenCompletedDialog(true);\r\n      }\r\n    });\r\n\r\n    emitGetInfo();\r\n\r\n    subscribeToNewFileToPrint((file) => {\r\n      window.sessionStorage.setItem('print_file_id', file.id);\r\n      window.sessionStorage.setItem('print_file_name', file.name);\r\n      setLoadedFile({id: file.id, name: file.name});\r\n    });\r\n\r\n    subscribeToDeleteLoadedFile(() => {\r\n      window.sessionStorage.removeItem('print_file_id');\r\n      window.sessionStorage.removeItem('print_file_name');\r\n      setLoadedFile({id: null, name: null});\r\n      printerService.setLoadedFile({\r\n        id: null,\r\n        name: null\r\n      });\r\n    });\r\n\r\n    subscribeToStatus((status) => {\r\n\r\n      setPrintStatus(status);\r\n      if (status === 'completed') {\r\n        setOpenCompletedDialog(true);\r\n        window.sessionStorage.removeItem('print_file_id');\r\n        setLoadedFile({\r\n          id: null,\r\n          name: null\r\n        });\r\n        setPrintProgress(0);\r\n        emitDeleteLoadedFile();\r\n      }\r\n\r\n    });\r\n\r\n    subscribeToProgress((progress) => {\r\n      setPrintProgress((progress.sent/progress.total)*100);\r\n    });\r\n\r\n    subscribeToTemperature((temp) => {\r\n      setPrintTemperature(temp);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromInfo();\r\n      unsubscribeFromNewFileToPrint();\r\n      unsubscribeFromDeleteLoadedFile();\r\n      unsubscribeFromStatus();\r\n      unsubscribeFromProgress();\r\n      unsubscribeFromTemperature();\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handlePlayButtonClick = (e) => {\r\n    if (printStatus === 'paused') {\r\n      emitUnpausePrint();\r\n    } else {\r\n      emitPrintFile(window.sessionStorage.getItem('print_file_id'));\r\n    }\r\n  }\r\n\r\n  const handlePauseButtonClick = (e) => {\r\n    emitPausePrint();\r\n  }\r\n\r\n  const handleStopButtonClick = (e) => {\r\n    setOpenConfirmStopDialog(true);\r\n  }\r\n\r\n  const handleStopCancel = (e) => {\r\n    setOpenConfirmStopDialog(false);\r\n  }\r\n\r\n  const handleStopConfirm = (e) => {\r\n    setOpenConfirmStopDialog(false);\r\n    emitCancelPrint();\r\n  }\r\n\r\n  const handleConfirmCompletedPrint = () => {\r\n    setOpenCompletedDialog(false);\r\n    window.sessionStorage.removeItem('print_file_name');\r\n  }\r\n\r\n  const handleDeleteClick = () => {\r\n    window.sessionStorage.removeItem('print_file_id');\r\n    window.sessionStorage.removeItem('print_file_name');\r\n    setLoadedFile({\r\n      id: null,\r\n      name: null\r\n    });\r\n    emitDeleteLoadedFile();\r\n  }\r\n\r\n  if (!loadedFilePromiseResolved) {\r\n    return (\r\n      <div>\r\n        <Spinner />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            \r\n            <Typography component=\"h5\" variant=\"h5\">\r\n              {props.printer.info.name}\r\n            </Typography>\r\n\r\n            <div className={classes.status}>\r\n              <Typography component=\"span\" variant=\"subtitle1\" color={printStatus !== 'disconnected' && printStatus !== 'pausing' ? 'textSecondary' : 'error'}>\r\n                <b>{printStatus === 'connecting' ? 'Connecting...' : ''}</b>\r\n                <b>{printStatus === 'disconnected' ? 'Not Connected' : ''}</b>\r\n                <b>{printStatus === 'paused' ? 'Paused' : ''}</b>\r\n              </Typography>\r\n            </div>\r\n\r\n            <div className={classes.status}>\r\n              <Typography component=\"span\" variant=\"subtitle1\" color={printStatus === 'stopping' || printStatus === 'pausing' ? 'error' : 'primary'}>\r\n                <b>{printStatus === 'ready' ? 'Ready' : ''}</b>\r\n                <b>{printStatus === 'printing' ? 'Printing...' : ''}</b>\r\n                <b>{printStatus === 'stopping' ? 'Stopping...' : ''}</b>\r\n                <b>{printStatus === 'pausing' ? 'Pausing...' : ''}</b>\r\n              </Typography>\r\n            </div>\r\n\r\n            {/* <Typography component=\"div\" variant=\"subtitle1\">\r\n              <b>{ printStatus !== 'disconnected' && printStatus !== 'connecting' ? 'File' : '' }</b>\r\n            </Typography> */}\r\n\r\n            <Typography variant=\"subtitle1\" color={loadedFile.id !== null ? 'initial' : 'error'}>\r\n              { (printStatus !== 'disconnected' && printStatus !== 'connecting') && loadedFile.id !== null ? \r\n\r\n                (\r\n                <div classes={classes.chip}>\r\n                  { (printStatus === 'ready' && loadedFile.id !== null) || (printStatus === 'ready' && loadedFile.id !== null) ? (\r\n                    <Chip label={loadedFile.name} onDelete={handleDeleteClick} />\r\n                  ) : (\r\n                    <Chip label={loadedFile.name} />\r\n                  )}\r\n                  \r\n                </div>\r\n                ) : '' }\r\n\r\n              {/* { (printStatus !== 'disconnected' && printStatus !== 'connecting') && loadedFile.id === null ? 'No file loaded' : '' } */}\r\n            </Typography>\r\n\r\n            { printStatus === 'printing' || printStatus === 'stopping' || printStatus === 'pausing' || printStatus === 'paused' ? (\r\n              <div>\r\n                <LinearProgress className={classes.progressbar} variant=\"determinate\" value={parseInt(printProgress)} />\r\n                <Typography variant=\"subtitle1\">\r\n                  { Math.floor(printProgress) === 0 ? printStatus === 'pausing' || printStatus === 'paused' || printStatus === 'stopping' ? '0%' : 'starting...' : Math.floor(printProgress) + '%' }\r\n                </Typography>\r\n              </div>\r\n            ) : (<div></div>) }\r\n\r\n            { printStatus !== 'disconnected' && printStatus !== 'connecting' && loadedFile.id === null ? (\r\n              <Button className={classes.button} variant=\"outlined\" color=\"primary\" aria-label=\"outlined primary button group\">\r\n                <Link to=\"/files\" className={classes.link} >\r\n                  Choose A File\r\n                </Link>\r\n              </Button>\r\n            ) : (<div></div>)}\r\n            \r\n            <div className={classes.temperature}>\r\n              <Typography component=\"div\" variant=\"subtitle1\">\r\n                <b>{printStatus !== 'disconnected' && printStatus !== 'connecting' ? 'Temperature' : ''}</b>\r\n              </Typography>\r\n\r\n              <Typography component=\"div\" variant=\"subtitle1\" color=\"initial\">\r\n                {printStatus !== 'disconnected' && printStatus !== 'connecting' ? (\r\n                  <table align=\"center\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td>Hotend:</td>\r\n                        <td><b>{printTemperature.hotend.current + 'C'}</b></td>\r\n                        <td>{'(' + printTemperature.hotend.set + 'C)'}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>Heatbed:</td>\r\n                        <td><b>{printTemperature.heatbed.current + 'C'}</b></td>\r\n                        <td>{'(' + printTemperature.heatbed.set + 'C)'}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                ) : ''}\r\n              </Typography>\r\n            </div>\r\n\r\n          </CardContent>\r\n          <div className={classes.controls}>\r\n            \r\n            <Tooltip title=\"Pause\">\r\n              <span>\r\n                <IconButton aria-label=\"pause\" disabled={printStatus !== 'printing' || printStatus === 'paused'} onClick={handlePauseButtonClick}>\r\n                  <PauseIcon />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n            <Tooltip title={printStatus === 'pausing' || printStatus === 'paused' ? 'Continue' : 'Start'}>\r\n              <span>\r\n                <IconButton aria-label=\"play\" disabled={!(printStatus !== 'disconnected' && (printStatus === 'ready' || printStatus === 'paused') && loadedFile.id !== null)} onClick={handlePlayButtonClick}>\r\n                  <PlayArrowIcon className={classes.playIcon} />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n            <Tooltip title=\"Cancel\">\r\n              <span>\r\n                <IconButton aria-label=\"stop\" disabled={!(printStatus !== 'disconnected' && printStatus !== 'ready') || printStatus === 'stopping' || printStatus === 'pausing' || printStatus === 'paused' || printStatus === 'connecting'} onClick={handleStopButtonClick}>\r\n                  <StopIcon />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n        {/* \r\n        <CardMedia\r\n          className={classes.cover}\r\n          image=\"/static/images/cards/live-from-space.jpg\"\r\n          title=\"Live from space album cover\"\r\n        />\r\n        */}\r\n      </Card>\r\n\r\n      <ConfirmStopDialog \r\n        open={openConfirmStopDialog} \r\n        itemName={loadedFile.name}\r\n        deleteType=\"file\"\r\n        onCancelDelete={handleStopCancel} \r\n        onConfirmDelete={handleStopConfirm} \r\n      />\r\n\r\n      <CompletedDialog \r\n        open={openCompletedDialog} \r\n        onConfirm={handleConfirmCompletedPrint} \r\n      />\r\n\r\n    </div>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const uploadService = {\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    method: 'POST',\r\n    headers: apiHelper.getFileUploadHeaders(),\r\n    body: body\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","export function checkFile(file) {\r\n  if (file.size % 4096 !== 0 && file.size !== 0 && file.name.indexOf('.') !== -1) {\r\n    \r\n    let parts = file.name.split('.');\r\n    let fileEnding = parts[parts.length - 1].toLowerCase();\r\n\r\n    if(fileEnding === 'gcode' || fileEnding === 'gco' || fileEnding === 'gc' || fileEnding === 'g') {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { checkFile } from '../helpers/upload.helper';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { emitLoadFile } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  icon: {\r\n    fontSize: 125,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst UploadDialog = forwardRef((props, ref) => {\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [uploadStarted, setUploadStarted] = useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    },\r\n\r\n    setUpload(upload) {\r\n      if (checkFile(upload)) {\r\n        setFile(upload);\r\n      } else {\r\n        handleClose();\r\n        props.onBeforeUploadError({\r\n          type: 'error',\r\n          message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n        });\r\n      }\r\n    }\r\n\r\n  }));\r\n\r\n  const handleClose = () => {\r\n    setFile(null);\r\n    setOpen(false);\r\n  }\r\n\r\n  const handleFileDrop = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (checkFile(e.dataTransfer.files[0])) {\r\n      setFile(e.dataTransfer.files[0]);\r\n    } else {\r\n      handleClose();\r\n      props.onBeforeUploadError({\r\n        type: 'error',\r\n        message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const handleUploadButtonClick = () => {\r\n\r\n    if (file !== null) {\r\n\r\n      let body = new FormData();\r\n      body.append('file', file);\r\n      setUploadStarted(true);\r\n\r\n      uploadService.add(body)\r\n      .then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          filesHelper.setNextFile(data._id, data.originalname);\r\n          emitLoadFile({id: data._id, name: data.originalname});\r\n          props.onUploadFinish({\r\n            type: 'success',\r\n            message: 'File \"' + data.originalname + '\" successfully uploaded.'\r\n          });\r\n        } else {\r\n          props.onUploadFinish({\r\n            type: 'error',\r\n            message: 'Files of this type cannot be uploaded.'\r\n          });\r\n        }\r\n\r\n        setUploadStarted(false);\r\n\r\n        handleClose();\r\n\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div onDrop={handleFileDrop}>\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Upload Files\r\n            </Typography>\r\n            <Button color=\"inherit\" onClick={handleUploadButtonClick} disabled={uploadStarted}>\r\n              UPLOAD\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        { file !== null ? (\r\n          <List>             \r\n            <ListItem button>\r\n              <ListItemText primary={file.name} secondary={file.size / 1000 + ' KB'} />\r\n            </ListItem>\r\n            { uploadStarted ? (<LinearProgress className={classes.linearProgress} />) : (<Divider />) }\r\n          </List>\r\n\r\n        ) : (\r\n\r\n          <div className={classes.root}>\r\n            <Typography align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              <InsertDriveFileIcon className={classes.icon} />\r\n            </Typography>\r\n            <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              Drop your GCODE file here\r\n            </Typography>\r\n          </div>\r\n\r\n        )}\r\n\r\n      </Dialog>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default UploadDialog;","import React, { useState, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport ActionCard from '../components/actioncard.component';\r\nimport Status from '../components/status.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Home(props) {\r\n  const classes = useStyles();\r\n\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = () => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen}>\r\n        <Dashboard navTitle=\"Home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Welcome Back, {props.user.firstname + ' ' + props.user.lastname}.\r\n            </Typography>\r\n          </div>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Status printer={props.printer} />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Link to=\"/controls\" className={classes.link} >\r\n                    <ActionCard action=\"control\" title=\"Controls\" description=\"Print files, control the printer, move the axis\" />\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <div onClick={handleUploadFileClick}>\r\n                    <ActionCard action=\"upload\" title=\"Upload\" description=\"Add files to the printing list\" />\r\n                  </div>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link to=\"/files\" className={classes.link} >\r\n                    <ActionCard action=\"files\" title=\"Files\" description=\"View uploaded files, load files, print them again\" />\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <input\r\n            className={classes.inputFile}\r\n            id=\"fleUpload\"\r\n            name=\"fleUpload\"\r\n            onChange={ handleFleUploadChange }\r\n            type=\"file\"\r\n            ref={uploadField}\r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            ref={snackbar} \r\n          />\r\n\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 300,\r\n    height: 180,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'accounts') {\r\n    return (<SupervisorAccountIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'connection') {\r\n    return (<SignalCellularAltIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'info') {\r\n    return (<InfoIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'printer') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  }\r\n}\r\n\r\nexport default function SettingsCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h6\" component=\"h6\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport SettingsCard from '../components/settingscard.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Settings() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Settings\" backTo=\"home\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Settings\r\n        </Typography>\r\n      </div>\r\n      <Grid container className={classes.root} spacing={4}>\r\n        <Grid item xs={12}>\r\n          <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n            <Grid item>\r\n              <Link to=\"/settings/connection\" className={classes.link} >\r\n                <SettingsCard action=\"connection\" title=\"Connection\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/printer\" className={classes.link} >\r\n                <SettingsCard action=\"printer\" title=\"Printer\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/accounts\" className={classes.link} >\r\n                <SettingsCard action=\"accounts\" title=\"Accounts\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/info\" className={classes.link} >\r\n                <SettingsCard action=\"info\" title=\"Info\" />\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function DeleteDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onCancelDelete}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Are you sure you want to delete the {props.deleteType} \"{props.deleteItemName}\"?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            This action cannot be undone.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirmDelete} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.onCancelDelete} autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import React from 'react';\r\n\r\nexport const accounts = { \r\n  new: false,\r\n  username: ''  \r\n};\r\nexport const AccountsContext = React.createContext(accounts);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport { Hidden, Tooltip } from '@material-ui/core';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AccountSettings(props) {\r\n  const classes = useStyles();\r\n  const accountsContext = useContext(AccountsContext);\r\n\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [update, setUpdate] = useState(false);\r\n\r\n  const snackbar = useRef();\r\n\r\n  useEffect(() => {\r\n    userService.getAll().then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setAccounts(data);\r\n        \r\n        if (accountsContext.new) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'User \"' + accountsContext.username + '\" successfully added.'\r\n          });\r\n          accountsContext.new = false;\r\n          accountsContext.username = '';\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n      setUserPromiseResolved(true);\r\n      setUpdate(false);\r\n    });\r\n  }, [accountsContext.new, accountsContext.username, update]);\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.username);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n\r\n    userService.remove(deleteItemId).then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUpdate(true);\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"settings\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Account Settings\r\n        </Typography>\r\n      </div>\r\n      <div className={classes.tableRoot}>\r\n        <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Accounts\r\n        </Typography>\r\n        { userPromiseResolved && accounts.length > 0 ? (\r\n          <Paper className={classes.table}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Username</TableCell>\r\n                  <Hidden xsDown={true}>\r\n                    <TableCell>Firstname</TableCell>\r\n                    <TableCell>Lastname</TableCell>\r\n                  </Hidden>\r\n                  <TableCell align=\"right\">Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n\r\n                {accounts.map(row => (\r\n                  <TableRow key={row._id}>\r\n                    <TableCell component=\"th\" scope=\"row\">\r\n                      {row.username}\r\n                    </TableCell>\r\n                    <Hidden xsDown={true}>\r\n                      <TableCell>{row.firstname}</TableCell>\r\n                      <TableCell>{row.lastname}</TableCell>\r\n                    </Hidden>\r\n                    <TableCell align=\"right\">\r\n                      <Tooltip title=\"Delete\">\r\n                        <IconButton onClick={() => handleDeleteClick(row)} aria-label=\"Delete\">\r\n                          <DeleteIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        ) : (\r\n          <Spinner/>\r\n        )}\r\n        \r\n        <Link to=\"/settings/accounts/add\" className={classes.link} >\r\n          <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab}>\r\n            <AddIcon />\r\n            Add User\r\n          </Fab>\r\n        </Link>\r\n      </div>\r\n\r\n      <DeleteDialog \r\n        open={openDeleteDialog} \r\n        deleteItemName={deleteItemName}\r\n        deleteType=\"user\"\r\n        onCancelDelete={handleDeleteCancel} \r\n        onConfirmDelete={handleDeleteConfirm} \r\n      />\r\n\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const connectionService = {\r\n  setConnection,\r\n  getConnection,\r\n  getPorts\r\n};\r\n\r\nasync function setConnection(body) {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getConnection() {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getPorts() {\r\n  return fetch(apiHelper.getUrl() + '/connection/ports', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { connectionService } from '../services/connection.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport Spinner from '../components/spinner.component';\r\nimport { useInterval } from '../hooks/interval.hook';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function ConnectionSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n\r\n  const [availablePorts, setAvailablePorts] = useState([]);\r\n  const [selPort, setSelPort] = useState('');\r\n  const [selPortOpen, setSelPortOpen] = useState(false);\r\n  const [txtBaudRate, setTxtBaudRate] = useState('');\r\n  const [txtBaudRateError, setTxtBaudRateError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [getConnectionPromiseResolved, setGetConnectionPromiseResolved] = useState(false);\r\n  const [getPortsPromiseResolved, setGetPortsPromiseResolved] = useState(false);\r\n  const [noAvailablePorts, setNoAvailablePorts] = useState(true);\r\n\r\n  const inputLabel = useRef();\r\n  const [labelWidth, setLabelWidth] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (getConnectionPromiseResolved && getPortsPromiseResolved) {\r\n      setLabelWidth(inputLabel.current.offsetWidth);\r\n    }\r\n  }, [getPortsPromiseResolved, getConnectionPromiseResolved]);\r\n\r\n  useEffect(() => {\r\n\r\n    connectionService.getConnection().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setSelPort(data.port);\r\n        setAvailablePorts([{comName: data.port, manufacturer: 'unavailable'}]);\r\n        setTxtBaudRate(data.baudrate);\r\n      }\r\n\r\n      setGetConnectionPromiseResolved(true);\r\n\r\n    });\r\n\r\n    connectionService.getPorts().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        if (data.length > 0) {\r\n          setAvailablePorts(data);\r\n          setNoAvailablePorts(false);\r\n        } else {\r\n          setNoAvailablePorts(true);\r\n        }\r\n      }\r\n\r\n      setGetPortsPromiseResolved(true);\r\n      \r\n    });\r\n\r\n  }, []);\r\n\r\n  useInterval(() => {\r\n\r\n    connectionService.getPorts().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        if (data.length > 0) {\r\n          setAvailablePorts(data);\r\n          setNoAvailablePorts(false);\r\n        } else {\r\n          setNoAvailablePorts(true);\r\n        }\r\n      }\r\n\r\n      setGetPortsPromiseResolved(true);\r\n      \r\n    });\r\n\r\n  }, 2000);\r\n\r\n  function handleSelPortOpen() {\r\n    setSelPortOpen(true);\r\n  }\r\n\r\n  function handleSelPortClose() {\r\n    setSelPortOpen(false);\r\n  }\r\n\r\n  function handleSelPortChange(e) {\r\n    setSelPort(e.target.value);\r\n  }\r\n\r\n  function handleTxtBaudRateChange(e) {\r\n    setTxtBaudRate(e.target.value);\r\n    checkTxtBaudRate(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtBaudRate(txtBaudRate)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      connectionService.setConnection({\r\n        port: selPort,\r\n        baudrate: txtBaudRate\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Connection details successfully set. The server will restart now.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n          // setTimeout(() => {\r\n          //   console.log('restarting...');\r\n          //   window.location.reload();\r\n          // }, 2000);\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtBaudRate(baudrate) {\r\n    if (validator.isEmpty(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Please enter a valid baudrate.'\r\n      });\r\n      return false;\r\n    } else if (!validator.isNumeric(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Baudrate must be a number.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtBaudRateError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtBaudRateError() {\r\n    setTxtBaudRateError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Connection Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Connection\r\n        </Typography>\r\n\r\n        { !getConnectionPromiseResolved || !getPortsPromiseResolved ? (\r\n          <Spinner />\r\n        ) : (\r\n          <Paper className={classes.paper}>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <FormControl variant=\"outlined\" margin=\"normal\" required fullWidth>\r\n              <InputLabel ref={inputLabel} id=\"demo-simple-select-outlined-label\">\r\n                Port\r\n              </InputLabel>\r\n                <Select\r\n                  id=\"demo-controlled-open-select\"\r\n                  variant=\"outlined\" \r\n                  open={selPortOpen}\r\n                  onClose={handleSelPortClose}\r\n                  onOpen={handleSelPortOpen}\r\n                  value={selPort}\r\n                  onChange={handleSelPortChange}\r\n                  labelWidth={labelWidth}\r\n                  disabled={noAvailablePorts}\r\n                >\r\n\r\n                  { availablePorts.map((port) => (\r\n                    <MenuItem key={port.comName} value={port.comName}>{port.comName + ' (' + port.manufacturer + ')'}</MenuItem>\r\n                  ))}\r\n\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <TextField  \r\n                  className={classes.textField}\r\n                  type=\"text\"\r\n                  name=\"txtBaudRate\"\r\n                  autoComplete=\"Baudrate\"\r\n                  margin=\"normal\"\r\n                  label=\"Baudrate\"\r\n                  variant=\"outlined\" \r\n                  value={txtBaudRate}\r\n                  onChange={handleTxtBaudRateChange}\r\n                  error={txtBaudRateError.error}\r\n                  helperText={txtBaudRateError.message}\r\n                  disabled={noAvailablePorts}\r\n\r\n                />\r\n              </FormControl>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={noAvailablePorts}\r\n              >\r\n                { noAvailablePorts ? 'No ports available' : 'Save' }\r\n              </Button>\r\n            </form>\r\n          </Paper>\r\n        )}\r\n\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function AddAccount() {\r\n  const classes = useStyles();\r\n  const accounts = useContext(AccountsContext);\r\n  const snackbar = useRef();\r\n\r\n  const [userAdded, setUserAdded] = useState(false);\r\n  const [txtFirstname, setTxtFirstname] = useState('');\r\n  const [txtLastname, setTxtLastname] = useState('');\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [txtFirstnameError, setTxtFirstnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtLastnameError, setTxtLastnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  function handleTxtFirstnameChange(e) {\r\n    setTxtFirstname(e.target.value);\r\n    checkTxtFirstname(e.target.value);\r\n  }\r\n\r\n  function handleTxtLastnameChange(e) {\r\n    setTxtLastname(e.target.value);\r\n    checkTxtLastname(e.target.value);\r\n  }\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtFirstname(txtFirstname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtLastname(txtLastname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      userService.add({\r\n        firstname: txtFirstname,\r\n        lastname: txtLastname,\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        admin: true\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          accounts.new = true;\r\n          accounts.username = data.username;\r\n          setUserAdded({\r\n            success: true,\r\n            username: data.username\r\n          });\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtFirstname(firstname) {\r\n    if (validator.isEmpty(firstname)) {\r\n      setTxtFirstnameError({\r\n        error: true,\r\n        message: 'Please enter a firstname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtFirstnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtFirstnameError() {\r\n    setTxtFirstnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtLastname(lastname) {\r\n    if (validator.isEmpty(lastname)) {\r\n      setTxtLastnameError({\r\n        error: true,\r\n        message: 'Please enter a lastname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtLastnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtLastnameError() {\r\n    setTxtLastnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter a username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter a password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return userAdded ? (<Redirect exact to=\"/settings/accounts\"/>\r\n  ) : (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"accountsettings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Add Account\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtFirstname\"\r\n                autoComplete=\"firstname\"\r\n                margin=\"normal\"\r\n                label=\"Firstname\"\r\n                variant=\"outlined\" \r\n                value={txtFirstname}\r\n                onChange={handleTxtFirstnameChange}\r\n                error={txtFirstnameError.error}\r\n                helperText={txtFirstnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtLastname\"\r\n                autoComplete=\"Lastname\"\r\n                margin=\"normal\"\r\n                label=\"Lastname\"\r\n                variant=\"outlined\" \r\n                value={txtLastname}\r\n                onChange={handleTxtLastnameChange}\r\n                error={txtLastnameError.error}\r\n                helperText={txtLastnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                margin=\"normal\"\r\n                label=\"Username\"\r\n                variant=\"outlined\" \r\n                value={txtUsername}\r\n                onChange={handleTxtUsernameChange}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"password\"\r\n                name=\"txtPassword\"\r\n                autoComplete=\"password\"\r\n                margin=\"normal\"\r\n                label=\"Password\"\r\n                variant=\"outlined\" \r\n                value={txtPassword}\r\n                onChange={handleTxtPasswordChange}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n          <div className={classes.centering}>\r\n            <Button className={classes.button} onClick={() => {window.history.back()}} >Back</Button>\r\n          </div>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Hidden } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse, apiHelper } from '../helpers/api.helper';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { emitLoadFile, emitGetInfo, emitPrintFile, subscribeToStatus, subscribeToInfo, unsubscribeFromInfo, unsubscribeFromStatus } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Files(props) {\r\n  const classes = useStyles();\r\n\r\n  const [uploads, setUploads] = useState([]);\r\n  const [uploadPromiseResolved, setUploadPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [printStatus, setPrintStatus] = useState({});\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  useEffect(() => {\r\n    \r\n    loadFiles();\r\n\r\n    subscribeToInfo((data) => {\r\n      setPrintStatus(data.status);\r\n    });\r\n\r\n    emitGetInfo();\r\n\r\n    subscribeToStatus((status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromInfo();\r\n      unsubscribeFromStatus();\r\n    }\r\n\r\n  }, []);\r\n\r\n  const loadFiles = () => {\r\n    uploadService.getAll().then((data) => {\r\n      \r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUploads(data);\r\n      }\r\n      setUploadPromiseResolved(true);\r\n    });\r\n  }\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.originalname);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n    \r\n    if (parseInt(deleteItemId) !== parseInt(window.sessionStorage.getItem('print_file_id'))) {\r\n      uploadService.remove(deleteItemId).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          loadFiles();\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message,\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    } else {\r\n      setSnackbarMessage({\r\n        type: 'error',\r\n        message: 'A file cannot be deleted while it\\'s in the queue.',\r\n      });\r\n      snackbar.current.handleOpen();\r\n    }\r\n\r\n  }\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = (e) => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    if (res.type !== 'success') {\r\n      setSnackbarMessage({\r\n        type: res.type,\r\n        message: res.message\r\n      }); \r\n      snackbar.current.handleOpen();\r\n    }\r\n\r\n    loadFiles();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handlePrintIconClick = (id, name) => {\r\n    filesHelper.setNextFile(id, name);\r\n    emitLoadFile({id: id, name: name});\r\n    setSnackbarMessage({\r\n      type: 'info',\r\n      message: '\"' + name + '\" is ready to be printed. You can make some adjustments in the control panel.',\r\n      printAction: true\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handleDownloadIconClick = (id, filename) => {\r\n    window.open(apiHelper.getFileUrl() + '/' + filename);\r\n  }\r\n\r\n  const handlePrintNowClick = () => {\r\n    emitPrintFile(window.sessionStorage.getItem('print_file_id'));\r\n  }\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen} >\r\n        <Dashboard navTitle=\"Files\" backTo=\"home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Files\r\n            </Typography>\r\n          </div>\r\n          <div className={classes.tableRoot}>\r\n\r\n            { uploadPromiseResolved && uploads.length === 0 ? (\r\n              <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n                Upload some files to print them.\r\n              </Typography>\r\n            ) : uploadPromiseResolved && uploads.length > 0 ? (\r\n              <Paper className={classes.table}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Name</TableCell>\r\n                      <Hidden xsDown={true}>\r\n                        <TableCell>Size</TableCell>\r\n                      </Hidden>\r\n                      <TableCell align=\"right\">Actions</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {uploads.map(row => (\r\n                      <TableRow key={row._id}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row.originalname}\r\n                        </TableCell>\r\n                        <Hidden xsDown={true}>\r\n                          <TableCell>{filesHelper.getSize(row.size).size + ' ' + filesHelper.getSize(row.size).unit}</TableCell>\r\n                        </Hidden>\r\n                        <TableCell align=\"right\">\r\n                          <Tooltip title=\"Print\">\r\n                            <span>\r\n                              <IconButton className={classes.button} aria-label=\"Print\" onClick={() => handlePrintIconClick(row._id, row.originalname)} disabled={printStatus !== 'ready' || row._id === parseInt(window.sessionStorage.getItem('print_file_id'))}>\r\n                                <PrintIcon fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </span>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Download\">\r\n                            <IconButton className={classes.button} onClick={() => handleDownloadIconClick(row._id, row.filename)} aria-label=\"Download\">\r\n                              <SaveAltIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Delete\">\r\n                            <span>\r\n                              <IconButton className={classes.button} onClick={() => handleDeleteClick(row)} aria-label=\"Delete\" disabled={row._id === parseInt(window.sessionStorage.getItem('print_file_id'))}>\r\n                                <DeleteIcon fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </span>\r\n                          </Tooltip>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            ) : !uploadPromiseResolved ? (\r\n              <Spinner/>\r\n            ) : ''}\r\n            \r\n            <input\r\n              className={classes.inputFile}\r\n              id=\"fleUpload\"\r\n              name=\"fleUpload\"\r\n              onChange={ handleFleUploadChange }\r\n              type=\"file\"\r\n              ref={uploadField}\r\n            />\r\n\r\n            <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={handleUploadFileClick}>\r\n              <AddIcon />\r\n              Upload File\r\n            </Fab>\r\n          </div>\r\n\r\n          <DeleteDialog \r\n            open={openDeleteDialog} \r\n            deleteItemName={deleteItemName}\r\n            deleteType=\"file\"\r\n            onCancelDelete={handleDeleteCancel} \r\n            onConfirmDelete={handleDeleteConfirm} \r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            printStatus={printStatus}\r\n            printAction={snackbarMessage.printAction}\r\n            handlePrintNowClick={handlePrintNowClick}\r\n            ref={snackbar} \r\n          />\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Button from '@material-ui/core/Button';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport { subscribeToStatus, subscribeToInfo, unsubscribeFromInfo, unsubscribeFromStatus, emitMoveDirection } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function AxisControls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [selectedLength, setSelectedLength] = useState(10);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n\r\n  const handleSelectedLengthClick = (b) => {\r\n    setSelectedLength(b);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToInfo((data) => {\r\n      setPrintStatus(data.status);\r\n    });\r\n\r\n    subscribeToStatus((status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromInfo();\r\n      unsubscribeFromStatus();\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleMoveButtonClick = (direction) => {\r\n    emitMoveDirection(direction, selectedLength);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n\r\n        {/* XY */}\r\n        <Grid container item sm={6} spacing={1}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveForward')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveLeft')}>\r\n                <KeyboardArrowLeftIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveXYHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveRight')}>\r\n                <KeyboardArrowRightIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveBack')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Z */}\r\n        <Grid container item spacing={1} sm={6}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveUp')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveZHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveDown')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n      <Grid className={classes.lengthSet} container justify=\"center\">\r\n        <ButtonGroup\r\n          size=\"large\"\r\n          variant=\"contained\"\r\n          aria-label=\"large contained button group\"\r\n          disabled={printStatus !== 'ready'}\r\n        >\r\n          <Button color={ selectedLength === 1 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(1)}>1mm</Button>\r\n          <Button color={ selectedLength === 10 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(10)}>10mm</Button>\r\n          <Button color={ selectedLength === 100 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(100)}>100mm</Button>\r\n        </ButtonGroup>\r\n        </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { subscribeToTemperature, subscribeToStatus, subscribeToInfo, emitSetHeatbedTemperature, emitSetHotendTemperature, emitFanOn, emitFanOff, emitExtrude, emitRetract, unsubscribeFromInfo, unsubscribeFromStatus, unsubscribeFromTemperature } from '../services/socket.service';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  settingsButton: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  card: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ControlSettings(props) {\r\n  const classes = useStyles();\r\n\r\n  const [fanState, setFanState] = useState(0);\r\n  const [numFanSpeed, setNumFanSpeed] = useState('');\r\n  const [numLength, setNumLength] = useState('');\r\n  const [numTemperature, setNumTemperature] = useState('');\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [printTemperature, setPrintTemperature] = useState({ hotend: { current: 0, set: 0 }, heatbed: { current: 0, set: 0 }});\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToInfo((data) => {\r\n      setPrintStatus(data.status);\r\n      setPrintTemperature(data.temperature);\r\n    });\r\n\r\n    subscribeToStatus((status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    subscribeToTemperature((temp) => {\r\n      setPrintTemperature(temp);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromInfo();\r\n      unsubscribeFromStatus();\r\n      unsubscribeFromTemperature();\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleFanState = (state) => {\r\n    setFanState(state);\r\n\r\n    if (state === 0) {\r\n      emitFanOff();\r\n    } else {\r\n      emitFanOn(numFanSpeed);\r\n    }\r\n\r\n  }\r\n\r\n  const handleNumFanSpeedChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumFanSpeed(null);\r\n    }\r\n\r\n    if (e.target.value > 0 && e.target.value <= 100) {\r\n      setNumFanSpeed(e.target.value);\r\n      if (fanState === 1) {\r\n        emitFanOn(numFanSpeed);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleNumLengthChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumLength('');\r\n    }\r\n\r\n    if (e.target.value > 0 && e.target.value <= 300) {\r\n      setNumLength(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleNumTemperatureChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumTemperature('');\r\n    } else if (e.target.value >= 0 && e.target.value <= 300) {\r\n      setNumTemperature(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleExtrudeClick = () => {\r\n    emitExtrude(numLength);\r\n  }\r\n\r\n  const handleRetractClick = () => {\r\n    emitRetract(numLength);\r\n  }\r\n\r\n  const handleSetHeatbedClick = () => {\r\n    emitSetHeatbedTemperature(numTemperature);\r\n  }\r\n\r\n  const handleSetHotendClick = () => {\r\n    emitSetHotendTemperature(numTemperature);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Fan\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"fanSpeed\"\r\n                  className={classes.textField}\r\n                  label=\"Speed (%)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumFanSpeedChange}\r\n                  value={numFanSpeed}\r\n                  disabled={printStatus === 'disconnected'}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" color={ fanState === 1 ? 'primary' : 'default'} onClick={() => handleFanState(1)} fullWidth disabled={printStatus === 'disconnected'}>On</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" color={ fanState === 0 ? 'primary' : 'default'} onClick={() => handleFanState(0)} fullWidth disabled={printStatus === 'disconnected'}>Off</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Extrude/Retract\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"length\"\r\n                  className={classes.textField}\r\n                  label=\"Length (mm)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumLengthChange}\r\n                  value={numLength}\r\n                  disabled={printStatus !== 'ready'}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" disabled={printStatus !== 'ready'} size=\"small\" fullWidth onClick={handleExtrudeClick}>Extrude</Button></div>\r\n              <div><Button variant=\"contained\" disabled={printStatus !== 'ready'} size=\"small\" fullWidth onClick={handleRetractClick}>Retract</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Temperature\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"temp\"\r\n                  className={classes.textField}\r\n                  label=\"Temperature (C)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumTemperatureChange}\r\n                  value={numTemperature}\r\n                  disabled={printStatus === 'disconnected'}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHeatbedClick} disabled={printStatus === 'disconnected'}>Set Heatbed {printTemperature.heatbed.set !== 0 ? '(' + printTemperature.heatbed.set + 'C)' : ''}</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHotendClick} disabled={printStatus === 'disconnected'}>Set Hotend {printTemperature.hotend.set !== 0 ? '(' + printTemperature.hotend.set + 'C)' : ''}</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { subscribeToConsoleLog, subscribeToStatus, subscribeToInfo, emitSendManualCommand, unsubscribeFromConsoleLog, unsubscribeFromInfo, unsubscribeFromStatus } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 800,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  gridItem: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n    },\r\n  },\r\n  button: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      padding: '15.5px 14px',\r\n    },\r\n  },\r\n  logBox: {\r\n    height: 300,\r\n    marginBottom: '16px',\r\n    borderRadius: 5,\r\n    background: '#e0e0e0',\r\n    fontFamily: 'Consolas',\r\n    padding: '10px',\r\n    color: '#000000',\r\n    textAlign: 'left',\r\n    overflowY: 'scroll',\r\n  },\r\n}));\r\n\r\nexport default function Console(props) {\r\n  const classes = useStyles();\r\n\r\n  const [txtCommand, setTxtCommand] = useState('');\r\n  const [log, setLog] = useState([]);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n\r\n  const logBox = useRef();\r\n\r\n  useEffect(() => {\r\n    subscribeToConsoleLog((consoleLog) => {\r\n\r\n      const consoleLogWithId = [];\r\n\r\n      for(let i = 0; i < consoleLog.length; i++) {\r\n        consoleLogWithId.push({id: i, text: consoleLog[i]});\r\n      }\r\n\r\n      setLog(consoleLogWithId);\r\n      logBox.current.scrollTop = logBox.current.scrollHeight;\r\n    });\r\n\r\n    subscribeToInfo((data) => {\r\n      setPrintStatus(data.status);\r\n    });\r\n\r\n    subscribeToStatus((status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromConsoleLog();\r\n      unsubscribeFromInfo();\r\n      unsubscribeFromStatus();\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleTxtCommandChange = (e) => {\r\n    setTxtCommand(e.target.value);\r\n  }\r\n\r\n\r\n  const handleBtnSendClick = (e) => {\r\n    if (txtCommand !== '') {\r\n      emitSendManualCommand(txtCommand);\r\n    }\r\n  }\r\n\r\n  const handleEnterKeyDown = (e) => {\r\n    if (e.key === 'Enter' && txtCommand !== '') {\r\n      emitSendManualCommand(txtCommand);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <div className={classes.logBox} ref={logBox}>\r\n              { log.map(cLog => (\r\n                <span key={cLog.id}>{cLog.text}<br/></span>\r\n              ))}\r\n            </div>\r\n            <Grid container spacing={1} justify=\"center\">\r\n              <Grid item sm={10} className={classes.gridItem}>\r\n                <TextField\r\n                  id=\"command\"\r\n                  className={classes.textField}\r\n                  label=\"Command\"\r\n                  variant=\"outlined\"\r\n                  type=\"text\"\r\n                  fullWidth\r\n                  onChange={handleTxtCommandChange}\r\n                  value={txtCommand}\r\n                  onKeyDown={handleEnterKeyDown}\r\n                  disabled={printStatus !== 'ready'}\r\n                />\r\n              </Grid>  \r\n              <Grid item sm={2} className={classes.gridItem}>\r\n                <Button className={classes.button} variant=\"contained\" color=\"primary\" fullWidth onClick={handleBtnSendClick} disabled={printStatus !== 'ready'}>Send</Button>\r\n              </Grid>            \r\n            </Grid>            \r\n          </CardContent>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Status from '../components/status.component';\r\nimport AxisControls from '../components/axiscontrols.component';\r\nimport ControlSettings from '../components/controlsettings.component';\r\nimport Console from '../components/console.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  controlWindow: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  listItem: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nexport default function Controls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [openAxisControls, setOpenAxisControls] = useState(true);\r\n  const [openControlSettings, setOpenControlSettings] = useState(false);\r\n  const [openConsole, setOpenConsole] = useState(false);\r\n\r\n  const handleOpenAxisControl = () => {\r\n    setOpenAxisControls(!openAxisControls);\r\n  }\r\n\r\n  const handleOpenControlSettings = () => {\r\n    setOpenControlSettings(!openControlSettings);\r\n  }\r\n\r\n  const handleOpenConsole = () => {\r\n    setOpenConsole(!openConsole);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dashboard navTitle=\"Controls\" backTo=\"home\">\r\n        <div className={classes.heroContent}>\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            Controls\r\n          </Typography>\r\n        </div>\r\n        <Grid container className={classes.root} spacing={4}>\r\n          <Grid item xs={12}>\r\n            <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n              <Grid item>\r\n                <Status printer={props.printer} />\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <List>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenConsole}>\r\n            <ListItemText primary=\"Console\" secondary=\"Watch the log and send manual commands\" />\r\n            {openConsole ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openConsole} timeout=\"auto\">\r\n            <div className={classes.controlWindow}>\r\n              <Grid container className={classes.root} spacing={4}>\r\n                <Grid item xs={12}>\r\n                  <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                    <Grid item>\r\n                      <Console />\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenControlSettings}>\r\n            <ListItemText primary=\"Control Settings\" secondary=\"Set the fan speed, the temperature and extrude or retract\" />\r\n            {openControlSettings ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openControlSettings} timeout=\"auto\">\r\n            <div className={classes.controlWindow}>\r\n              <ControlSettings />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenAxisControl}>\r\n            <ListItemText primary=\"Axis Controls\" secondary=\"Move the axis of the printer\" />\r\n            {openAxisControls ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openAxisControls} timeout=\"auto\">\r\n            <div className={classes.controlWindow}>\r\n              <AxisControls />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n        </List>\r\n\r\n      </Dashboard>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Dashboard from '../components/dashboard.component';\r\n\r\nexport default function Info() {\r\n  return (\r\n    <Dashboard navTitle=\"Info\" backTo=\"settings\">\r\n      Info page\r\n    </Dashboard>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport Logo from '../images/icon-blue.svg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  linearProgress: {\r\n    marginTop: 50,\r\n    margin: '0 25%',\r\n  },\r\n}));\r\n\r\nexport default function LoadingWithIcon() {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <img src={Logo} alt=\"Logo\" width={150} />\r\n      <LinearProgress className={classes.linearProgress} />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport const printer = { status: null, setStatus: () => {}, info: null, setInfo: () => {} }\r\nexport const PrinterContext = React.createContext(printer);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { printerService } from '../services/printer.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { PrinterContext } from '../contexts/printer.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function PrinterSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n  const printer = useContext(PrinterContext);\r\n\r\n  const [txtName, setTxtName] = useState('');\r\n  const [txtNameError, setTxtNameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    printerService.getInfo().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setTxtName(data.name);\r\n      }\r\n\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleTxtNameChange(e) {\r\n    setTxtName(e.target.value);\r\n    checkTxtName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtName(txtName)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      printerService.setInfo({\r\n        name: txtName,\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          printer.setInfo({\r\n            name: data.name\r\n          });\r\n\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Printer Details successfully set.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtName(name) {\r\n    if (validator.isEmpty(name)) {\r\n      setTxtNameError({\r\n        error: true,\r\n        message: 'Please enter a name.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtNameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtNameError() {\r\n    setTxtNameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Printer Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Printer Details\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtName\"\r\n                autoComplete=\"name\"\r\n                margin=\"normal\"\r\n                label=\"Name\"\r\n                variant=\"outlined\" \r\n                value={txtName}\r\n                onChange={handleTxtNameChange}\r\n                error={txtNameError.error}\r\n                helperText={txtNameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport Login from './pages/login.page';\r\nimport Home from './pages/home.page';\r\nimport Settings from './pages/settings.page';\r\nimport AccountSettings from './pages/accountsettings.page';\r\nimport ConnectionSettings from './pages/connectionsettings.page';\r\nimport AddAccount from './pages/addaccount.page';\r\nimport Files from './pages/files.page';\r\nimport Controls from './pages/controls.page';\r\nimport Info from './pages/info.page';\r\nimport LoadingWithIcon from './pages/loading.page';\r\n\r\nimport { userService } from './services/users.service';\r\nimport { printerService } from './services/printer.service';\r\nimport { UserContext } from './contexts/user.context';\r\nimport { PrinterContext } from './contexts/printer.context';\r\nimport { ThemeContext } from './contexts/theme.context';\r\nimport PrinterSettings from './pages/printersettings.page';\r\n\r\n\r\n//create consistent theme styling for app\r\nconst theme_light = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'light'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nconst theme_dark = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'dark'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nfunction RedirectToLogin() {\r\n  return (\r\n    <Redirect exact to=\"/login\" />\r\n  );\r\n}\r\n\r\nfunction App() {\r\n\r\n  const [authorized, setAuthorized] = useState(window.localStorage.getItem('token') !== null ? true : false);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printerInfo, setPrinterInfo] = useState({});\r\n  const [themeStyle, setThemeStyle] = useState(window.localStorage.getItem('themeMode') !== null ? window.localStorage.getItem('themeMode') : 'light');\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage.getItem('token') !== null) {\r\n\r\n      printerService.getStatus().then((data) => {\r\n        setPrinterStatus(data);\r\n      });\r\n      \r\n      userService.lookup().then((data) => {\r\n\r\n        if (data._id === undefined) {\r\n          setAuthorized(false);\r\n          setUser({\r\n            authorized: false\r\n          });\r\n          setUserPromiseResolved(true);\r\n        } else {\r\n          setAuthorized(true);\r\n          data.authorized = true;\r\n          setUser(data);\r\n          setUserPromiseResolved(true);\r\n        }\r\n\r\n      });\r\n\r\n      printerService.getInfo().then((data) => {\r\n        setPrinterInfo(data);\r\n      });\r\n\r\n    } else {\r\n      setUser({\r\n        authorized: false\r\n      });\r\n      setUserPromiseResolved(true);\r\n    }\r\n\r\n  }, []);\r\n\r\n  // if data has not been fetched yet\r\n  if (!userPromiseResolved) {\r\n    return (\r\n      <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n        <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n          <CssBaseline />\r\n          <LoadingWithIcon />\r\n        </MuiThemeProvider>\r\n      </ThemeContext.Provider>\r\n    );\r\n  }\r\n\r\n  // otherwise\r\n  return (\r\n    <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n      <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n        <UserContext.Provider value={user}>\r\n          <PrinterContext.Provider value={{ status: printerStatus, setStatus: setPrinterStatus, info: printerInfo, setInfo: setPrinterInfo }}>\r\n            <Router>\r\n              <div>\r\n                <CssBaseline />\r\n\r\n                { authorized ? (\r\n                  <div>                          \r\n                    <UserContext.Consumer>\r\n                      {user => (\r\n                        <PrinterContext.Consumer>\r\n                          \r\n                          {printer => (\r\n                            <div>\r\n                              <Route exact path=\"/\" render={ props => (                        \r\n                                <Home user={user} printer={printer} />        \r\n                              )} />\r\n  \r\n                              <Route exact path=\"/controls\" render={ props => (\r\n                                <Controls printer={printer} />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/files\" render={ props => (\r\n                                <Files />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings\" render={ props => (\r\n                                <Settings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/connection\" render={ props => (\r\n                                <ConnectionSettings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/printer\" render={ props => (\r\n                                <PrinterSettings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/accounts\" render={ props => (\r\n                                <AccountSettings {...props} />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/accounts/add\" render={ props => (\r\n                                <AddAccount {...props} />\r\n                              )} />\r\n\r\n                              <Route exact path=\"/settings/info\" render={ props => (\r\n                                <Info {...props} />\r\n                              )} />\r\n                            </div>\r\n                          )}\r\n\r\n                        </PrinterContext.Consumer> \r\n                      )}\r\n                    </UserContext.Consumer>\r\n                  </div>\r\n                ) : (<RedirectToLogin />)\r\n                }\r\n\r\n                <Route exact path=\"/login\" render={ props => (\r\n                  <UserContext.Consumer>\r\n                    { user => (\r\n                      <Login user={user} />\r\n                    )}\r\n                  </UserContext.Consumer>\r\n                )} />\r\n\r\n              </div>\r\n            </Router>\r\n          </PrinterContext.Provider>\r\n        </UserContext.Provider>\r\n      </MuiThemeProvider>\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}