{"version":3,"sources":["images/icon-white.svg","images/icon-blue.svg","helpers/api.helper.js","services/users.service.js","contexts/user.context.js","components/snackbar.component.js","pages/login.page.js","contexts/theme.context.js","components/sidedrawer.component.js","services/socket.service.js","hooks/interval.hook.js","components/navbar.component.js","components/dashboard.component.js","components/actioncard.component.js","services/printer.service.js","components/spinner.component.js","components/confirmstopdialog.component.js","components/competeddialog.component.js","helpers/files.helper.js","components/status.component.js","services/uploads.service.js","helpers/upload.helper.js","components/uploaddialog.component.js","pages/home.page.js","components/settingscard.component.js","pages/settings.page.js","components/deletedialog.component.js","contexts/accounts.context.js","pages/accountsettings.page.js","services/connection.service.js","pages/connectionsettings.page.js","pages/addaccount.page.js","pages/files.page.js","components/axiscontrols.component.js","components/controlsettings.component.js","components/console.component.js","pages/controls.page.js","pages/info.page.js","pages/loading.page.js","contexts/printer.context.js","pages/printersettings.page.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","apiHelper","getUrl","window","location","host","split","getFileUrl","getDefaultHeaders","Content-Type","getHeaders","Authorization","localStorage","getItem","getFileUploadHeaders","checkToken","error","code","reload","checkAuth","sessionStorage","checkResponse","data","undefined","valid","type","message","userService","login","lookup","add","getAll","get","remove","_callee","body","regenerator_default","a","wrap","_context","prev","next","abrupt","fetch","method","headers","JSON","stringify","then","res","json","stop","_callee2","_context2","_callee3","_context3","_callee4","_context4","_callee5","id","_context5","_callee6","_context6","UserContext","React","createContext","authorized","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","useStyles1","makeStyles","theme","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","display","alignItems","MySnackbarContentWrapper","props","classes","className","onClose","variant","other","Object","objectWithoutProperties","Icon","react_default","createElement","SnackbarContent","assign","clsx","aria-describedby","action","IconButton","key","aria-label","color","onClick","Close_default","CustomizedSnackbar","forwardRef","ref","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","handleClose","event","reason","useImperativeHandle","handleOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","printAction","printStatus","Button","handlePrintNowClick","disabled","useStyles","root","height","image","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","paper","margin","flexDirection","avatar","width","form","marginTop","submit","Login","user","useContext","_useState","_useState2","txtUsername","setTxtUsername","_useState3","_useState4","txtPassword","setTxtPassword","_useState5","_useState6","chkRememberMe","setChkRememberMe","_useState7","_useState8","txtUsernameError","setTxtUsernameError","_useState9","_useState10","txtPasswordError","setTxtPasswordError","_useState11","_useState12","snackbarMessage","setSnackbarMessage","snackbar","useRef","checkTxtUsername","username","validator","isEmpty","checkTxtPassword","password","react_router","exact","to","Grid","container","component","CssBaseline","item","xs","sm","md","lg","Paper","elevation","square","Avatar","src","Logo","alt","Typography","onSubmit","e","preventDefault","remember","responseCheck","setItem","token","current","noValidate","TextField","required","fullWidth","label","name","autoComplete","autoFocus","onChange","target","value","helperText","FormControlLabel","control","Checkbox","snackbar_component","ThemeContext","themeStyle","setThemeStyle","list","orangeAvatar","deepOrange","pinkAvatar","pink","link","textDecoration","text","&:focus","&:active","SideDrawer","themeContext","handleLogout","removeItem","handleDarkModeClick","Consumer","Drawer","onDrawerClose","tabIndex","role","List","ListItem","ListItemAvatar","firstname","substr","ListItemText","lastname","Divider","react_router_dom","button","selected","selectedPage","ListItemIcon","Home_default","ControlCamera_default","Folder_default","NightsStay_default","NightsStayOutlined_default","Settings_default","PowerSettingsNew_default","socket","io","query","subscribeToEvent","cb","on","emitEvent","arguments","length","emit","unsubscribeFromEvent","off","useInterval","callback","delay","savedCallback","useEffect","setInterval","clearInterval","flexGrow","grow","menuButton","marginLeft","search","defineProperty","position","borderRadius","shape","fade","common","white","&:hover","breakpoints","up","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","Navbar","showDrawer","setShowDrawer","setPrintStatus","printStatusPromiseResolved","setPrintStatusPromiseResolved","connectingIconDisabled","setConnectingIconDisabled","printIconDisabled","setPrintIconDisabled","status","AppBar","Toolbar","backTo","ArrowBack_default","Menu_default","title","Tooltip","disableRipple","Print_default","SignalCellularConnectedNoInternet4Bar_default","SignalCellular4Bar_default","Dashboard","navTitle","children","cardActionArea","down","pos","marginBottom","SelectIcon","style","CloudUpload_default","Launch_default","ActionCard","Card","CardActionArea","CardContent","align","description","CardActions","printerService","setInfo","getInfo","setLoadedFile","getLoadedFile","getStatus","getProgress","textAlign","transform","left","right","Spinner","CircularProgress","ConfirmStopDialog","Dialog","onCancelStop","aria-labelledby","DialogTitle","itemName","DialogContent","DialogContentText","DialogActions","onConfirmDelete","onCancelDelete","CompletedDialog","onConfirmCompletedPrint","onConfirm","filesHelper","setNextFile","getSize","size","parseInt","unit","_root","controls","playIcon","buttonGroup","progressbar","Status","loadedFile","loadedFilePromiseResolved","setLoadedFilePromiseResolved","openConfirmStopDialog","setOpenConfirmStopDialog","openCompletedDialog","setOpenCompletedDialog","printProgress","setPrintProgress","progress","sent","total","file","card","details","content","printer","LinearProgress","Math","floor","ButtonGroup","Delete_default","PlayArrow_default","Stop_default","deleteType","uploadService","checkFile","indexOf","parts","fileEnding","toLowerCase","top","appBar","flex","Transition","Slide","direction","UploadDialog","setFile","uploadStarted","setUploadStarted","setUpload","upload","onBeforeUploadError","onDrop","dataTransfer","files","fullScreen","TransitionComponent","edge","FormData","append","_id","originalname","onUploadFinish","secondary","linearProgress","gutterBottom","InsertDriveFile_default","fullscreen","options","heroContent","maxWidth","padding","concat","inputFile","Home","uploadDialog","uploadField","onDragOver","justify","click","uploaddialog_component","SupervisorAccount_default","SignalCellularAlt_default","Info_default","SettingsCard","settingscard_component_SelectIcon","Settings","DeleteDialog","deleteItemName","AccountsContext","new","tableRoot","table","fab","bottom","zIndex","centering","AccountSettings","accountsContext","accounts","setAccounts","userPromiseResolved","setUserPromiseResolved","setDeleteItemName","deleteItemId","setDeleteItemId","openDeleteDialog","setOpenDeleteDialog","_useState13","_useState14","update","setUpdate","Table","TableHead","TableRow","TableCell","Hidden","xsDown","TableBody","map","row","scope","handleDeleteClick","Fab","Add_default","connectionService","setConnection","getConnection","getPorts","textField","ConnectionSettings","availablePorts","setAvailablePorts","selPort","setSelPort","selPortOpen","setSelPortOpen","txtBaudRate","setTxtBaudRate","txtBaudRateError","setTxtBaudRateError","getConnectionPromiseResolved","setGetConnectionPromiseResolved","_useState15","_useState16","getPortsPromiseResolved","setGetPortsPromiseResolved","_useState17","_useState18","noAvailablePorts","setNoAvailablePorts","inputLabel","_useState19","_useState20","labelWidth","setLabelWidth","checkTxtBaudRate","baudrate","isNumeric","offsetWidth","port","comName","manufacturer","paragraph","setTimeout","console","log","FormControl","InputLabel","Select","labelId","onOpen","MenuItem","AddAccount","userAdded","setUserAdded","txtFirstname","setTxtFirstname","txtLastname","setTxtLastname","txtFirstnameError","setTxtFirstnameError","txtLastnameError","setTxtLastnameError","checkTxtFirstname","checkTxtLastname","admin","history","back","Files","uploads","setUploads","uploadPromiseResolved","setUploadPromiseResolved","loadFiles","filename","SaveAlt_default","lengthSet","AxisControls","selectedLength","setSelectedLength","handleSelectedLengthClick","b","handleMoveButtonClick","KeyboardArrowUp_default","KeyboardArrowLeft_default","KeyboardArrowRight_default","KeyboardArrowDown_default","settingsButton","ControlSettings","fanState","setFanState","numFanSpeed","setNumFanSpeed","numLength","setNumLength","numTemperature","setNumTemperature","printTemperature","setPrintTemperature","temperature","temp","handleFanState","state","heatbed","hotend","gridItem","logBox","background","fontFamily","overflowY","Console","txtCommand","setTxtCommand","setLog","consoleLog","consoleLogWithId","i","push","scrollTop","scrollHeight","cLog","onKeyDown","controlWindow","listItem","Controls","openAxisControls","setOpenAxisControls","openControlSettings","setOpenControlSettings","openConsole","setOpenConsole","ExpandLess_default","ExpandMore_default","Collapse","in","timeout","Info","LoadingWithIcon","PrinterContext","setStatus","PrinterSettings","txtName","setTxtName","txtNameError","setTxtNameError","checkTxtName","theme_light","createMuiTheme","typography","useNextVariants","theme_dark","RedirectToLogin","App","setAuthorized","setUser","printerStatus","setPrinterStatus","printerInfo","setPrinterInfo","Provider","ThemeProvider","path","render","home_page_Home","settings_page_Settings","info_page_Info","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","src_App","document","getElementById","URL","process","href","origin","addEventListener","response","contentType","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.0003ad69.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-white.7c495247.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-blue.389aa163.svg\";","export const apiHelper = {\r\n  getUrl,\r\n  getFileUrl,\r\n  getDefaultHeaders,\r\n  getHeaders,\r\n  getFileUploadHeaders,\r\n  checkToken,\r\n  checkAuth\r\n};\r\n\r\nfunction getUrl() {\r\n  return 'http://' + window.location.host.split(':')[0] + ':4000/api/v1';\r\n}\r\n\r\nfunction getFileUrl() {\r\n  return 'http://' + window.location.host.split(':')[0] + ':4000/files';\r\n}\r\n\r\nfunction getDefaultHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n  }\r\n}\r\n\r\nfunction getHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction getFileUploadHeaders() {\r\n  return {\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction checkToken(error) {\r\n  if (error.code === 'ER_TOKEN_EXPIRED') {\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\nfunction checkAuth() {\r\n  if (window.localStorage.getItem('token') !== null || window.sessionStorage.getItem('token') !== null) {\r\n    return true;\r\n  } \r\n  return false;\r\n}\r\n\r\nexport function checkResponse(data) {\r\n  if (data.error === undefined) return { valid: true };\r\n  else {\r\n\r\n    if (data.error.code === 'ER_MISSING_PARAMS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Some parameters are missing.'\r\n      };\r\n    } else if (data.error.code === 'ER_USERNAME_TAKEN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The username you entered is already taken.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested user could not be found.'\r\n      };\r\n    } else if (data.error.code === 'ER_INVALID_LOGIN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Your username or password is invalid.'\r\n      };\r\n    } else if (data.error.code === 'ER_UNAUTHORIZED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You need to be signed in to use this service.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOKEN_EXPIRED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'This session expired. Please reload the page and sign in again.'\r\n      };\r\n    } else if (data.error.code === 'ER_UPLOAD_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested upload could not be found. Please try to reload the page.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_TO_DELETE_SIGNED_IN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You cannot delete yourself.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOO_MANY_REQUESTS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Too many requests. Please wait a few seconds and try again.'\r\n      };\r\n    } else if (data.error.code === 'ER_INTERNAL') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An internal error occured. Please try again in a few seconds.'\r\n      };\r\n    } else {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An unknown error occured. Please try to reload the page.'\r\n      };\r\n    }\r\n  }\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const userService = {\r\n  login,\r\n  lookup,\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function login(body) {\r\n  return fetch(apiHelper.getUrl() + '/auth/login', {\r\n    method: 'POST',\r\n    headers: apiHelper.getDefaultHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function lookup() {\r\n  return fetch(apiHelper.getUrl() + '/user', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\n\r\nexport const user = { authorized: false }\r\nexport const UserContext = React.createContext(user);\r\n\r\nexport function checkAuth() {\r\n  if (window.localStorage.getItem('token') === null || window.sessionStorage.getItem('token') === null) {\r\n    window.location.reload();\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n  const classes = useStyles1();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst CustomizedSnackbar = forwardRef((props, ref) => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    }\r\n\r\n  }));\r\n\r\n  function handleClose(event, reason) {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n      >\r\n        { props.printAction && props.printStatus ? (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n            action={(<Button color=\"secondary\" onClick={props.handlePrintNowClick} disabled={props.printStatus !== 'ready'}>\r\n              Print Now\r\n            </Button>)}\r\n          />\r\n        ) : (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n          />\r\n        )}\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default CustomizedSnackbar;","import React, { useState, useContext, useRef } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom';\r\nimport validator from 'validator';\r\n\r\nimport Logo from '../images/icon-white.svg';\r\nimport { userService } from '../services/users.service';\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(images/login-bg.jpg)',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const user = useContext(UserContext);\r\n\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [chkRememberMe, setChkRememberMe] = useState(false);\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const snackbar = useRef();\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleChkRememberMeChange(e) {\r\n    setChkRememberMe(!chkRememberMe);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    let valid = true;\r\n\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      \r\n      userService.login({\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        remember: chkRememberMe\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n        \r\n        if (responseCheck.valid) {\r\n          window.localStorage.setItem('token', data.token);\r\n          window.location.reload();\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter your username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter your password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  // loading\r\n  if (user.authorized === undefined) {\r\n    return (<div></div>);\r\n  } else if (user.authorized) {\r\n    return (<Redirect exact to=\"/\" />);\r\n  } else {\r\n    return (\r\n      <Grid container component=\"main\" className={classes.root}>\r\n        <CssBaseline />\r\n        <Grid item xs={false} sm={5} md={7} lg={8} className={classes.image} />\r\n        <Grid item xs={12} sm={7} md={5} lg={4} component={Paper} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <img src={Logo} alt=\"Logo\" width={27} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign In\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"txtUsername\"\r\n                label=\"Username\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                autoFocus\r\n                onChange={handleTxtUsernameChange}\r\n                value={txtUsername}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"txtPassword\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"txtPassword\"\r\n                autoComplete=\"current-password\"\r\n                onChange={handleTxtPasswordChange}\r\n                value={txtPassword}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox color=\"primary\" onChange={handleChkRememberMeChange} value={chkRememberMe} />}\r\n                label=\"Remember me\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              { /*}\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n              */}\r\n            </form>\r\n          </div>\r\n        </Grid>\r\n        <Snackbar \r\n          message={snackbarMessage.message} \r\n          variant={snackbarMessage.type}\r\n          ref={snackbar} \r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport const theme = { themeStyle: 'light', setThemeStyle: () => {} };\r\n\r\nexport const ThemeContext = React.createContext(theme);","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport deepOrange from '@material-ui/core/colors/deepOrange';\r\nimport pink from '@material-ui/core/colors/pink';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport NightsStayIcon from '@material-ui/icons/NightsStay';\r\nimport NightsStayOutlinedIcon from '@material-ui/icons/NightsStayOutlined';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { ThemeContext } from '../contexts/theme.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  list: {\r\n    width: 250,\r\n  },\r\n  orangeAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  pinkAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: pink[400],\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.text.primary,\r\n    '&:focus': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n    '&:active': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SideDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const themeContext = useContext(ThemeContext);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.reload();\r\n  }\r\n\r\n  const handleDarkModeClick = () => {\r\n    if (themeContext.themeStyle === 'light') {\r\n      themeContext.setThemeStyle('dark');\r\n      window.localStorage.setItem('themeMode', 'dark');\r\n    } else {\r\n      themeContext.setThemeStyle('light');\r\n      window.localStorage.setItem('themeMode', 'light');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserContext.Consumer>\r\n      {user => (\r\n        <Drawer open={props.open} onClose={ props.onDrawerClose }>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n          >\r\n            <div className={classes.list}>\r\n              <List>\r\n                <ListItem>\r\n                  <ListItemAvatar>\r\n                    <Avatar className={classes.pinkAvatar}>{user.firstname === undefined ? '' : user.firstname.substr(0, 1)}</Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={user.firstname + ' ' + user.lastname}\r\n                  />\r\n                </ListItem>\r\n              </List>\r\n              <Divider />\r\n              <List>\r\n                <Link to=\"/\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'home' }>\r\n                    <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Home\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/controls\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'controls' }>\r\n                    <ListItemIcon><ControlCameraIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Controls\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/files\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'files' }>\r\n                    <ListItemIcon><FolderIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Files\" />\r\n                  </ListItem>\r\n                </Link>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <ListItem button onClick={handleDarkModeClick}>\r\n                  <ListItemIcon>{themeContext.themeStyle === 'dark' ? (<NightsStayIcon/>) : (<NightsStayOutlinedIcon/>)}</ListItemIcon>\r\n                  <ListItemText primary={themeContext.themeStyle === 'dark' ? 'Light Mode' : 'Dark Mode'} />\r\n                </ListItem>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <Link to=\"/settings\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'settings' }>\r\n                    <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Settings\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <ListItem button onClick={handleLogout}>\r\n                  <ListItemIcon><PowerSettingsNewIcon /></ListItemIcon>\r\n                  <ListItemText primary=\"Logout\" />\r\n                </ListItem>\r\n              </List>\r\n            </div>\r\n          </div>\r\n        </Drawer>\r\n      )}\r\n    </UserContext.Consumer>\r\n  );\r\n}","import io from 'socket.io-client';\r\n\r\nconst socket = io('http://' + window.location.host.split(':')[0] + ':4000', {\r\n  query: {\r\n    token: 'Bearer ' + window.localStorage.getItem('token')\r\n  }\r\n});\r\n\r\nexport function subscribeToEvent(event, cb) {\r\n  socket.on(event, data => cb(data));\r\n}\r\n\r\nexport function emitEvent(event, data = null) {\r\n  if (data === null) socket.emit(event);\r\n  else socket.emit(event, data);\r\n}\r\n\r\nexport function unsubscribeFromEvent(event) {\r\n  socket.off(event);\r\n}","import { useEffect, useRef } from 'react';\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport NotConnectedIcon from '@material-ui/icons/SignalCellularConnectedNoInternet4Bar';\r\nimport ConnectedIcon from '@material-ui/icons/SignalCellular4Bar';\r\nimport { Link } from 'react-router-dom';\r\nimport SideDrawer from './sidedrawer.component';\r\nimport { subscribeToEvent, unsubscribeFromEvent, emitEvent } from '../services/socket.service';\r\nimport { useInterval } from '../hooks/interval.hook';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(9),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    paddingLeft: theme.spacing(10),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 120,\r\n      '&:focus': {\r\n        width: 200,\r\n      },\r\n    },\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#ffffff',\r\n    '&:focus': {\r\n      color: '#ffffff',\r\n    },\r\n    '&:active': {\r\n      color: '#ffffff',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Navbar(props) {\r\n  const classes = useStyles();\r\n\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [printStatusPromiseResolved, setPrintStatusPromiseResolved] = useState(false);\r\n  const [connectingIconDisabled, setConnectingIconDisabled] = useState(true);\r\n  const [printIconDisabled, setPrintIconDisabled] = useState(true);\r\n\r\n  function handleMenuButtonClick() {\r\n    setShowDrawer(true);\r\n  }\r\n\r\n  function handleDrawerClose() {\r\n    setShowDrawer(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToEvent('info', (data) => {\r\n      setPrintStatus(data.status);\r\n      setPrintStatusPromiseResolved(true);\r\n    });\r\n    emitEvent('getInfo');\r\n\r\n    subscribeToEvent('printStatus', (status) => {\r\n      setPrintStatus(status);\r\n      setPrintStatusPromiseResolved(true);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('info');\r\n      unsubscribeFromEvent('printStatus');\r\n    }\r\n  }, []);\r\n  \r\n  useInterval(() => {\r\n\r\n    if (printStatus === 'connecting') {\r\n      setConnectingIconDisabled(!connectingIconDisabled);\r\n    }\r\n\r\n    if (printStatus === 'stopping') {\r\n      setPrintIconDisabled(!printIconDisabled);\r\n    }\r\n\r\n  }, 500);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          {props.backTo !== undefined ? (\r\n            <Link to={ props.backTo === 'settings' ? '/settings' : props.backTo === 'accountsettings' ? '/settings/accounts' : '/'} className={classes.link}>\r\n              <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Back\">\r\n                <ArrowBackIcon />\r\n              </IconButton> \r\n            </Link>\r\n          ) : (\r\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={ handleMenuButtonClick }>\r\n              <MenuIcon />\r\n            </IconButton>\r\n          )}\r\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n            { props.title }\r\n          </Typography>\r\n\r\n          <Tooltip title={printStatus === 'printing' ? 'Printing...' : 'Ready'}>\r\n            <span>\r\n              <IconButton color=\"inherit\" disableRipple disabled={(printStatus !== 'printing' && printStatus !== 'stopping') || (printStatus === 'stopping' && printIconDisabled) || !printStatusPromiseResolved}>\r\n                <PrintIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n          <Tooltip title={printStatus !== 'disconnected' ? printStatus === 'connecting' ? 'Connecting...' : 'Connected' : 'Connection failed'}>\r\n            <span>\r\n              <IconButton color=\"inherit\" disableRipple disabled={connectingIconDisabled && printStatus === 'connecting'}>\r\n                { printStatus === 'disconnected' ? (<NotConnectedIcon fontSize=\"small\" />) : (<div></div>) }\r\n                { printStatus !== 'disconnected' ? (<ConnectedIcon fontSize=\"small\" />) : (<div></div>) }\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SideDrawer open={showDrawer} onDrawerClose={ handleDrawerClose } selectedPage={ props.selectedPage } />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Navbar from './navbar.component';\r\n\r\n/**\r\n * Includes the Navbar can be implemented in every view that needs a navbar\r\n */\r\nexport default function Dashboard(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Navbar title={ props.navTitle } selectedPage=\"not\" backTo={props.backTo} />\r\n      { props.children }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 400,\r\n    height: 250,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'print') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'home') {\r\n    return (<HomeIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'upload') {\r\n    return (<CloudUploadIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'files') {\r\n    return (<FolderIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'control') {\r\n    return (<ControlCameraIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'logout') {\r\n    return (<PowerSettingsNewIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  }\r\n}\r\n\r\nexport default function ActionCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h5\" component=\"h5\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"subtitle1\" component=\"h6\" color=\"textSecondary\" align=\"center\">\r\n            { props.description }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const printerService = {\r\n  setInfo,\r\n  getInfo,\r\n  setLoadedFile,\r\n  getLoadedFile,\r\n  getStatus,\r\n  getProgress\r\n};\r\n\r\nasync function setInfo(body) {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getInfo() {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function setLoadedFile(body) {\r\n  return fetch(apiHelper.getUrl() + '/printer/file', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getLoadedFile() {\r\n  return fetch(apiHelper.getUrl() + '/printer/file', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getStatus() {\r\n  return fetch(apiHelper.getUrl() + '/printer/status', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getProgress() {\r\n  return fetch(apiHelper.getUrl() + '/printer/progress', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n}));\r\n\r\nexport default function Spinner() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfirmStopDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onCancelStop}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Are you sure you want to stop printing \"{props.itemName}\"?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            If you stop this print, <b>this action cannot be undone</b> and <b>you will have to start over again.</b>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirmDelete} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.onCancelDelete} autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function CompletedDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onConfirmCompletedPrint}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Your item has been printed.\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            You can remove your item from the printer.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirm} color=\"primary\">\r\n            Okay\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import { printerService } from '../services/printer.service';\r\n\r\nexport const filesHelper = {\r\n  setNextFile,\r\n  getSize\r\n};\r\n\r\nfunction setNextFile(id, name) {\r\n  window.sessionStorage.setItem('print_file_id', id);\r\n  window.sessionStorage.setItem('print_file_name', name);\r\n  printerService.setLoadedFile({\r\n    id: id,\r\n    name: name\r\n  });\r\n}\r\n\r\nfunction getSize(size) {\r\n  if (parseInt(size/1024/1024/1024) > 0) return {size: parseInt(size/1024/1024/1024), unit: 'GB'};\r\n  else if (parseInt(size/1024/1024) > 0) return {size: parseInt(size/1024/1024), unit: 'MB'};\r\n  else if (parseInt(size/1024) > 0) return {size: parseInt(size/1024), unit: 'KB'};\r\n  else return {size: parseInt(size), unit: 'Bytes'};\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n//import PauseIcon from '@material-ui/icons/Pause';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { Link } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { printerService } from '../services/printer.service';\r\nimport Spinner from '../components/spinner.component';\r\nimport ConfirmStopDialog from '../components/confirmstopdialog.component';\r\nimport CompletedDialog from '../components/competeddialog.component';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { subscribeToEvent, emitEvent, unsubscribeFromEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 600,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    textAlign: 'center',\r\n  },\r\n  controls: {\r\n    alignItems: 'center',\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38,\r\n  },\r\n  buttonGroup: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#0078d7',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  progressbar: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Status(props) {\r\n  const classes = useStyles();\r\n\r\n  const [loadedFile, setLoadedFile] = useState({ id: window.sessionStorage.getItem('print_file_id'), name: window.sessionStorage.getItem('print_file_name')});\r\n  const [loadedFilePromiseResolved, setLoadedFilePromiseResolved] = useState(false);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [openConfirmStopDialog, setOpenConfirmStopDialog] = useState(false);\r\n  const [openCompletedDialog, setOpenCompletedDialog] = useState(false);\r\n  const [printProgress, setPrintProgress] = useState({});\r\n\r\n  useEffect(() => {\r\n    printerService.getLoadedFile().then((data) => {\r\n      if (data.id !== null || data.name !== null) {\r\n        setLoadedFile(data);\r\n        filesHelper.setNextFile(data.id, data.name);\r\n      }\r\n      setLoadedFilePromiseResolved(true);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToEvent('info', (data) => {\r\n      setPrintStatus(data.status);\r\n      setPrintProgress((data.progress.sent/data.progress.total)*100);\r\n      if (data.status === 'completed') {\r\n        window.sessionStorage.removeItem('print_file_id');\r\n        window.sessionStorage.removeItem('print_file_name');\r\n        setLoadedFile({\r\n          id: null,\r\n          name: null\r\n        });\r\n        setOpenCompletedDialog(true);\r\n      }\r\n    });\r\n\r\n    emitEvent('getInfo');\r\n\r\n    subscribeToEvent('newFileToPrint', (file) => {\r\n      window.sessionStorage.setItem('print_file_id', file.id);\r\n      window.sessionStorage.setItem('print_file_name', file.name);\r\n      setLoadedFile({id: file.id, name: file.name});\r\n    });\r\n\r\n    subscribeToEvent('deleteLoadedFile', () => {\r\n      window.sessionStorage.removeItem('print_file_id');\r\n      window.sessionStorage.removeItem('print_file_name');\r\n      setLoadedFile({id: null, name: null});\r\n      printerService.setLoadedFile({\r\n        id: null,\r\n        name: null\r\n      });\r\n    });\r\n\r\n    subscribeToEvent('printStatus', (status) => {\r\n\r\n      setPrintStatus(status);\r\n      if (status === 'completed') {\r\n        setOpenCompletedDialog(true);\r\n        window.sessionStorage.removeItem('print_file_id');\r\n        setLoadedFile({\r\n          id: null,\r\n          name: null\r\n        });\r\n        setPrintProgress(0);\r\n        emitEvent('deleteLoadedFile');\r\n      }\r\n\r\n    });\r\n\r\n    subscribeToEvent('printProgress', (progress) => {\r\n      setPrintProgress((progress.sent/progress.total)*100);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('info');\r\n      unsubscribeFromEvent('newFileToPrint');\r\n      unsubscribeFromEvent('deleteLoadedFile');\r\n      unsubscribeFromEvent('printStatus');\r\n      unsubscribeFromEvent('printProgress');\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handlePlayButtonClick = (e) => {\r\n    emitEvent('printFile', window.sessionStorage.getItem('print_file_id'));\r\n  }\r\n\r\n  const handleStopButtonClick = (e) => {\r\n    setOpenConfirmStopDialog(true);\r\n  }\r\n\r\n  const handleStopCancel = (e) => {\r\n    setOpenConfirmStopDialog(false);\r\n  }\r\n\r\n  const handleStopConfirm = (e) => {\r\n    setOpenConfirmStopDialog(false);\r\n    emitEvent('cancelPrint');\r\n  }\r\n\r\n  const handleConfirmCompletedPrint = () => {\r\n    setOpenCompletedDialog(false);\r\n    window.sessionStorage.removeItem('print_file_name');\r\n  }\r\n\r\n  const handleDeleteClick = () => {\r\n    window.sessionStorage.removeItem('print_file_id');\r\n    window.sessionStorage.removeItem('print_file_name');\r\n    setLoadedFile({\r\n      id: null,\r\n      name: null\r\n    });\r\n    emitEvent('deleteLoadedFile');\r\n  }\r\n\r\n  if (!loadedFilePromiseResolved) {\r\n    return (\r\n      <div>\r\n        <Spinner />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            \r\n            <Typography component=\"h5\" variant=\"h5\">\r\n              {props.printer.info.name}\r\n            </Typography>\r\n\r\n            <Typography component=\"span\" variant=\"subtitle1\" color={printStatus !== 'disconnected' ? 'textSecondary' : 'error'}>\r\n              {printStatus === 'connecting' ? 'Connecting...' : ''}\r\n              {printStatus === 'disconnected' ? 'Not Connected' : ''}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color={printStatus === 'stopping' ? 'error' : 'primary'}>\r\n              {printStatus === 'ready' ? 'Ready' : ''}\r\n              {printStatus === 'printing' ? 'Printing...' : ''}\r\n              {printStatus === 'stopping' ? 'Stopping...' : ''}\r\n            </Typography>\r\n\r\n            <Typography variant=\"subtitle1\" color={loadedFile.id !== null ? 'initial' : 'error'}>\r\n              { printStatus === 'disconnected' || loadedFile.id !== null ? loadedFile.name : 'No file loaded' }\r\n            </Typography>\r\n\r\n           { printStatus !== 'disconnected' && (printStatus === 'printing' || printStatus === 'stopping') ? (\r\n              <div>\r\n                <LinearProgress className={classes.progressbar} variant=\"determinate\" value={parseInt(printProgress)} />\r\n                <Typography variant=\"subtitle1\">\r\n                  { Math.floor(printProgress) === 0 ? 'loading...' : Math.floor(printProgress) + '%' }\r\n                </Typography>\r\n              </div>\r\n           ) : (<div></div>) }\r\n\r\n            { printStatus === 'disconnected' || loadedFile.id !== null ? (<div></div>) : (\r\n              <ButtonGroup className={classes.buttonGroup} color=\"primary\" aria-label=\"outlined primary button group\">\r\n                <Button>\r\n                  <Link to=\"/files\" className={classes.link} >\r\n                    Choose From Files\r\n                  </Link>\r\n                </Button>\r\n              </ButtonGroup>\r\n            )}\r\n\r\n          </CardContent>\r\n          <div className={classes.controls}>\r\n            {/* <IconButton aria-label=\"pause\" disabled={!printerStatus.ready && !printerStatus.busy}>\r\n              <PauseIcon />\r\n            </IconButton> */}\r\n\r\n            { (printStatus === 'disconnected' && loadedFile.id !== null) || (printStatus === 'ready' && loadedFile.id !== null) ? (\r\n            <Tooltip title=\"Remove File\">\r\n              <span>\r\n                <IconButton className={classes.button} onClick={handleDeleteClick} aria-label=\"Delete\">\r\n                  <DeleteIcon fontSize=\"small\" />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>) : (<div></div>)}\r\n            \r\n            <Tooltip title=\"Start Printing\">\r\n              <span>\r\n                <IconButton aria-label=\"play\" disabled={!(printStatus !== 'disconnected' && printStatus === 'ready' && loadedFile.id !== null)} onClick={handlePlayButtonClick}>\r\n                  <PlayArrowIcon className={classes.playIcon} />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n            <Tooltip title=\"Cancel\">\r\n              <span>\r\n                <IconButton aria-label=\"stop\" disabled={!(printStatus !== 'disconnected' && printStatus !== 'ready') || printStatus === 'stopping'} onClick={handleStopButtonClick}>\r\n                  <StopIcon />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n        {/* \r\n        <CardMedia\r\n          className={classes.cover}\r\n          image=\"/static/images/cards/live-from-space.jpg\"\r\n          title=\"Live from space album cover\"\r\n        />\r\n        */}\r\n      </Card>\r\n\r\n      <ConfirmStopDialog \r\n        open={openConfirmStopDialog} \r\n        itemName={loadedFile.name}\r\n        deleteType=\"file\"\r\n        onCancelDelete={handleStopCancel} \r\n        onConfirmDelete={handleStopConfirm} \r\n      />\r\n\r\n      <CompletedDialog \r\n        open={openCompletedDialog} \r\n        onConfirm={handleConfirmCompletedPrint} \r\n      />\r\n\r\n    </div>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const uploadService = {\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    method: 'POST',\r\n    headers: apiHelper.getFileUploadHeaders(),\r\n    body: body\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","export function checkFile(file) {\r\n  if (file.size % 4096 !== 0 && file.size !== 0 && file.name.indexOf('.') !== -1) {\r\n    \r\n    let parts = file.name.split('.');\r\n    let fileEnding = parts[parts.length - 1].toLowerCase();\r\n\r\n    if(fileEnding === 'gcode' || fileEnding === 'gco' || fileEnding === 'gc' || fileEnding === 'g') {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { checkFile } from '../helpers/upload.helper';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { emitEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  icon: {\r\n    fontSize: 125,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst UploadDialog = forwardRef((props, ref) => {\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [uploadStarted, setUploadStarted] = useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    },\r\n\r\n    setUpload(upload) {\r\n      if (checkFile(upload)) {\r\n        setFile(upload);\r\n      } else {\r\n        handleClose();\r\n        props.onBeforeUploadError({\r\n          type: 'error',\r\n          message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n        });\r\n      }\r\n    }\r\n\r\n  }));\r\n\r\n  const handleClose = () => {\r\n    setFile(null);\r\n    setOpen(false);\r\n  }\r\n\r\n  const handleFileDrop = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (checkFile(e.dataTransfer.files[0])) {\r\n      setFile(e.dataTransfer.files[0]);\r\n    } else {\r\n      handleClose();\r\n      props.onBeforeUploadError({\r\n        type: 'error',\r\n        message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const handleUploadButtonClick = () => {\r\n\r\n    if (file !== null) {\r\n\r\n      let body = new FormData();\r\n      body.append('file', file);\r\n      setUploadStarted(true);\r\n\r\n      uploadService.add(body)\r\n      .then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          filesHelper.setNextFile(data._id, data.originalname);\r\n          emitEvent('loadFile', {id: data._id, name: data.originalname});\r\n          props.onUploadFinish({\r\n            type: 'success',\r\n            message: 'File \"' + data.originalname + '\" successfully uploaded.'\r\n          });\r\n        } else {\r\n          props.onUploadFinish({\r\n            type: 'error',\r\n            message: 'Files of this type cannot be uploaded.'\r\n          });\r\n        }\r\n\r\n        setUploadStarted(false);\r\n\r\n        handleClose();\r\n\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div onDrop={handleFileDrop}>\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Upload Files\r\n            </Typography>\r\n            <Button color=\"inherit\" onClick={handleUploadButtonClick} disabled={uploadStarted}>\r\n              UPLOAD\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        { file !== null ? (\r\n          <List>             \r\n            <ListItem button>\r\n              <ListItemText primary={file.name} secondary={file.size / 1000 + ' KB'} />\r\n            </ListItem>\r\n            { uploadStarted ? (<LinearProgress className={classes.linearProgress} />) : (<Divider />) }\r\n          </List>\r\n\r\n        ) : (\r\n\r\n          <div className={classes.root}>\r\n            <Typography align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              <InsertDriveFileIcon className={classes.icon} />\r\n            </Typography>\r\n            <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              Drop your GCODE file here\r\n            </Typography>\r\n          </div>\r\n\r\n        )}\r\n\r\n      </Dialog>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default UploadDialog;","import React, { useState, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport ActionCard from '../components/actioncard.component';\r\nimport Status from '../components/status.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Home(props) {\r\n  const classes = useStyles();\r\n\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = () => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen}>\r\n        <Dashboard navTitle=\"Home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Welcome Back, {props.user.firstname + ' ' + props.user.lastname}.\r\n            </Typography>\r\n          </div>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Status printer={props.printer} />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Link to=\"/controls\" className={classes.link} >\r\n                    <ActionCard action=\"control\" title=\"Controls\" description=\"Print files, control the printer, move the axis\" />\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <div onClick={handleUploadFileClick}>\r\n                    <ActionCard action=\"upload\" title=\"Upload\" description=\"Add files to the printing list\" />\r\n                  </div>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link to=\"/files\" className={classes.link} >\r\n                    <ActionCard action=\"files\" title=\"Files\" description=\"View uploaded files, load files, print them again\" />\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <input\r\n            className={classes.inputFile}\r\n            id=\"fleUpload\"\r\n            name=\"fleUpload\"\r\n            onChange={ handleFleUploadChange }\r\n            type=\"file\"\r\n            ref={uploadField}\r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            ref={snackbar} \r\n          />\r\n\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 300,\r\n    height: 180,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'accounts') {\r\n    return (<SupervisorAccountIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'connection') {\r\n    return (<SignalCellularAltIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'info') {\r\n    return (<InfoIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'printer') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  }\r\n}\r\n\r\nexport default function SettingsCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h6\" component=\"h6\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport SettingsCard from '../components/settingscard.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Settings() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Settings\" backTo=\"home\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Settings\r\n        </Typography>\r\n      </div>\r\n      <Grid container className={classes.root} spacing={4}>\r\n        <Grid item xs={12}>\r\n          <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n            <Grid item>\r\n              <Link to=\"/settings/connection\" className={classes.link} >\r\n                <SettingsCard action=\"connection\" title=\"Connection\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/printer\" className={classes.link} >\r\n                <SettingsCard action=\"printer\" title=\"Printer\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/accounts\" className={classes.link} >\r\n                <SettingsCard action=\"accounts\" title=\"Accounts\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/info\" className={classes.link} >\r\n                <SettingsCard action=\"info\" title=\"Info\" />\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function DeleteDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onCancelDelete}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Are you sure you want to delete the {props.deleteType} \"{props.deleteItemName}\"?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            This action cannot be undone.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirmDelete} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.onCancelDelete} autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import React from 'react';\r\n\r\nexport const accounts = { \r\n  new: false,\r\n  username: ''  \r\n};\r\nexport const AccountsContext = React.createContext(accounts);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport { Hidden, Tooltip } from '@material-ui/core';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AccountSettings(props) {\r\n  const classes = useStyles();\r\n  const accountsContext = useContext(AccountsContext);\r\n\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [update, setUpdate] = useState(false);\r\n\r\n  const snackbar = useRef();\r\n\r\n  useEffect(() => {\r\n    userService.getAll().then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setAccounts(data);\r\n        \r\n        if (accountsContext.new) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'User \"' + accountsContext.username + '\" successfully added.'\r\n          });\r\n          accountsContext.new = false;\r\n          accountsContext.username = '';\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n      setUserPromiseResolved(true);\r\n      setUpdate(false);\r\n    });\r\n  }, [accountsContext.new, accountsContext.username, update]);\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.username);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n\r\n    userService.remove(deleteItemId).then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUpdate(true);\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"settings\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Account Settings\r\n        </Typography>\r\n      </div>\r\n      <div className={classes.tableRoot}>\r\n        <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Accounts\r\n        </Typography>\r\n        { userPromiseResolved && accounts.length > 0 ? (\r\n          <Paper className={classes.table}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Username</TableCell>\r\n                  <Hidden xsDown={true}>\r\n                    <TableCell>Firstname</TableCell>\r\n                    <TableCell>Lastname</TableCell>\r\n                  </Hidden>\r\n                  <TableCell align=\"right\">Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n\r\n                {accounts.map(row => (\r\n                  <TableRow key={row._id}>\r\n                    <TableCell component=\"th\" scope=\"row\">\r\n                      {row.username}\r\n                    </TableCell>\r\n                    <Hidden xsDown={true}>\r\n                      <TableCell>{row.firstname}</TableCell>\r\n                      <TableCell>{row.lastname}</TableCell>\r\n                    </Hidden>\r\n                    <TableCell align=\"right\">\r\n                      <Tooltip title=\"Delete\">\r\n                        <IconButton onClick={() => handleDeleteClick(row)} aria-label=\"Delete\">\r\n                          <DeleteIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        ) : (\r\n          <Spinner/>\r\n        )}\r\n        \r\n        <Link to=\"/settings/accounts/add\" className={classes.link} >\r\n          <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab}>\r\n            <AddIcon />\r\n            Add User\r\n          </Fab>\r\n        </Link>\r\n      </div>\r\n\r\n      <DeleteDialog \r\n        open={openDeleteDialog} \r\n        deleteItemName={deleteItemName}\r\n        deleteType=\"user\"\r\n        onCancelDelete={handleDeleteCancel} \r\n        onConfirmDelete={handleDeleteConfirm} \r\n      />\r\n\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const connectionService = {\r\n  setConnection,\r\n  getConnection,\r\n  getPorts\r\n};\r\n\r\nasync function setConnection(body) {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getConnection() {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getPorts() {\r\n  return fetch(apiHelper.getUrl() + '/connection/ports', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { connectionService } from '../services/connection.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport Spinner from '../components/spinner.component';\r\nimport { useInterval } from '../hooks/interval.hook';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function ConnectionSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n\r\n  const [availablePorts, setAvailablePorts] = useState([]);\r\n  const [selPort, setSelPort] = useState('');\r\n  const [selPortOpen, setSelPortOpen] = useState(false);\r\n  const [txtBaudRate, setTxtBaudRate] = useState('');\r\n  const [txtBaudRateError, setTxtBaudRateError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [getConnectionPromiseResolved, setGetConnectionPromiseResolved] = useState(false);\r\n  const [getPortsPromiseResolved, setGetPortsPromiseResolved] = useState(false);\r\n  const [noAvailablePorts, setNoAvailablePorts] = useState(true);\r\n\r\n  const inputLabel = useRef();\r\n  const [labelWidth, setLabelWidth] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (getConnectionPromiseResolved && getPortsPromiseResolved) {\r\n      setLabelWidth(inputLabel.current.offsetWidth);\r\n    }\r\n  }, [getPortsPromiseResolved, getConnectionPromiseResolved]);\r\n\r\n  useEffect(() => {\r\n\r\n    connectionService.getConnection().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setSelPort(data.port);\r\n        setAvailablePorts([{comName: data.port, manufacturer: 'unavailable'}]);\r\n        setTxtBaudRate(data.baudrate);\r\n      }\r\n\r\n      setGetConnectionPromiseResolved(true);\r\n\r\n    });\r\n\r\n    connectionService.getPorts().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        if (data.length > 0) {\r\n          setAvailablePorts(data);\r\n          setNoAvailablePorts(false);\r\n        } else {\r\n          setNoAvailablePorts(true);\r\n        }\r\n      }\r\n\r\n      setGetPortsPromiseResolved(true);\r\n      \r\n    });\r\n\r\n  }, []);\r\n\r\n  useInterval(() => {\r\n\r\n    connectionService.getPorts().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        if (data.length > 0) {\r\n          setAvailablePorts(data);\r\n          setNoAvailablePorts(false);\r\n        } else {\r\n          setNoAvailablePorts(true);\r\n        }\r\n      }\r\n\r\n      setGetPortsPromiseResolved(true);\r\n      \r\n    });\r\n\r\n  }, 2000);\r\n\r\n  function handleSelPortOpen() {\r\n    setSelPortOpen(true);\r\n  }\r\n\r\n  function handleSelPortClose() {\r\n    setSelPortOpen(false);\r\n  }\r\n\r\n  function handleSelPortChange(e) {\r\n    setSelPort(e.target.value);\r\n  }\r\n\r\n  function handleTxtBaudRateChange(e) {\r\n    setTxtBaudRate(e.target.value);\r\n    checkTxtBaudRate(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtBaudRate(txtBaudRate)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      connectionService.setConnection({\r\n        port: selPort,\r\n        baudrate: txtBaudRate\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Connection details successfully set. The server will restart now.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n          setTimeout(() => {\r\n            console.log('restarting...');\r\n            window.location.reload();\r\n          }, 2000);\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtBaudRate(baudrate) {\r\n    if (validator.isEmpty(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Please enter a valid baudrate.'\r\n      });\r\n      return false;\r\n    } else if (!validator.isNumeric(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Baudrate must be a number.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtBaudRateError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtBaudRateError() {\r\n    setTxtBaudRateError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Connection Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Connection\r\n        </Typography>\r\n\r\n        { !getConnectionPromiseResolved || !getPortsPromiseResolved ? (\r\n          <Spinner />\r\n        ) : (\r\n          <Paper className={classes.paper}>\r\n            <form className={classes.form} onSubmit={handleSubmit}>\r\n              <FormControl variant=\"outlined\" margin=\"normal\" required fullWidth>\r\n              <InputLabel ref={inputLabel} id=\"demo-simple-select-outlined-label\">\r\n                Port\r\n              </InputLabel>\r\n                <Select\r\n                  labelId=\"demo-controlled-open-select-label\"\r\n                  id=\"demo-controlled-open-select\"\r\n                  variant=\"outlined\" \r\n                  open={selPortOpen}\r\n                  onClose={handleSelPortClose}\r\n                  onOpen={handleSelPortOpen}\r\n                  value={selPort}\r\n                  onChange={handleSelPortChange}\r\n                  labelWidth={labelWidth}\r\n                  disabled={noAvailablePorts}\r\n                >\r\n\r\n                  { availablePorts.map((port) => (\r\n                    <MenuItem key={port.comName} value={port.comName}>{port.comName + ' (' + port.manufacturer + ')'}</MenuItem>\r\n                  ))}\r\n\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <TextField  \r\n                  className={classes.textField}\r\n                  type=\"text\"\r\n                  name=\"txtBaudRate\"\r\n                  autoComplete=\"Baudrate\"\r\n                  margin=\"normal\"\r\n                  label=\"Baudrate\"\r\n                  variant=\"outlined\" \r\n                  value={txtBaudRate}\r\n                  onChange={handleTxtBaudRateChange}\r\n                  error={txtBaudRateError.error}\r\n                  helperText={txtBaudRateError.message}\r\n                  disabled={noAvailablePorts}\r\n\r\n                />\r\n              </FormControl>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={noAvailablePorts}\r\n              >\r\n                { noAvailablePorts ? 'No ports available' : 'Save' }\r\n              </Button>\r\n            </form>\r\n          </Paper>\r\n        )}\r\n\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function AddAccount() {\r\n  const classes = useStyles();\r\n  const accounts = useContext(AccountsContext);\r\n  const snackbar = useRef();\r\n\r\n  const [userAdded, setUserAdded] = useState(false);\r\n  const [txtFirstname, setTxtFirstname] = useState('');\r\n  const [txtLastname, setTxtLastname] = useState('');\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [txtFirstnameError, setTxtFirstnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtLastnameError, setTxtLastnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  function handleTxtFirstnameChange(e) {\r\n    setTxtFirstname(e.target.value);\r\n    checkTxtFirstname(e.target.value);\r\n  }\r\n\r\n  function handleTxtLastnameChange(e) {\r\n    setTxtLastname(e.target.value);\r\n    checkTxtLastname(e.target.value);\r\n  }\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtFirstname(txtFirstname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtLastname(txtLastname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      userService.add({\r\n        firstname: txtFirstname,\r\n        lastname: txtLastname,\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        admin: true\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          accounts.new = true;\r\n          accounts.username = data.username;\r\n          setUserAdded({\r\n            success: true,\r\n            username: data.username\r\n          });\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtFirstname(firstname) {\r\n    if (validator.isEmpty(firstname)) {\r\n      setTxtFirstnameError({\r\n        error: true,\r\n        message: 'Please enter a firstname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtFirstnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtFirstnameError() {\r\n    setTxtFirstnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtLastname(lastname) {\r\n    if (validator.isEmpty(lastname)) {\r\n      setTxtLastnameError({\r\n        error: true,\r\n        message: 'Please enter a lastname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtLastnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtLastnameError() {\r\n    setTxtLastnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter a username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter a password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return userAdded ? (<Redirect exact to=\"/settings/accounts\"/>\r\n  ) : (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"accountsettings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Add Account\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtFirstname\"\r\n                autoComplete=\"firstname\"\r\n                margin=\"normal\"\r\n                label=\"Firstname\"\r\n                variant=\"outlined\" \r\n                value={txtFirstname}\r\n                onChange={handleTxtFirstnameChange}\r\n                error={txtFirstnameError.error}\r\n                helperText={txtFirstnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtLastname\"\r\n                autoComplete=\"Lastname\"\r\n                margin=\"normal\"\r\n                label=\"Lastname\"\r\n                variant=\"outlined\" \r\n                value={txtLastname}\r\n                onChange={handleTxtLastnameChange}\r\n                error={txtLastnameError.error}\r\n                helperText={txtLastnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                margin=\"normal\"\r\n                label=\"Username\"\r\n                variant=\"outlined\" \r\n                value={txtUsername}\r\n                onChange={handleTxtUsernameChange}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"password\"\r\n                name=\"txtPassword\"\r\n                autoComplete=\"password\"\r\n                margin=\"normal\"\r\n                label=\"Password\"\r\n                variant=\"outlined\" \r\n                value={txtPassword}\r\n                onChange={handleTxtPasswordChange}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n          <div className={classes.centering}>\r\n            <Button className={classes.button} onClick={() => {window.history.back()}} >Back</Button>\r\n          </div>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Hidden } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse, apiHelper } from '../helpers/api.helper';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { emitEvent, subscribeToEvent, unsubscribeFromEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Files(props) {\r\n  const classes = useStyles();\r\n\r\n  const [uploads, setUploads] = useState([]);\r\n  const [uploadPromiseResolved, setUploadPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [printStatus, setPrintStatus] = useState({});\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  useEffect(() => {\r\n    \r\n    loadFiles();\r\n\r\n    subscribeToEvent('info', (data) => {\r\n      setPrintStatus(data.status);\r\n    });\r\n\r\n    emitEvent('getInfo');\r\n\r\n    subscribeToEvent('printStatus', (status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('info');\r\n      unsubscribeFromEvent('printStatus');\r\n    }\r\n\r\n  }, []);\r\n\r\n  const loadFiles = () => {\r\n    uploadService.getAll().then((data) => {\r\n      \r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUploads(data);\r\n      }\r\n      setUploadPromiseResolved(true);\r\n    });\r\n  }\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.originalname);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n    \r\n    if (parseInt(deleteItemId) !== parseInt(window.sessionStorage.getItem('print_file_id'))) {\r\n      uploadService.remove(deleteItemId).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          loadFiles();\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message,\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    } else {\r\n      setSnackbarMessage({\r\n        type: 'error',\r\n        message: 'A file cannot be deleted while it\\'s in the queue.',\r\n      });\r\n      snackbar.current.handleOpen();\r\n    }\r\n\r\n  }\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = (e) => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    if (res.type !== 'success') {\r\n      setSnackbarMessage({\r\n        type: res.type,\r\n        message: res.message\r\n      }); \r\n      snackbar.current.handleOpen();\r\n    }\r\n\r\n    loadFiles();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handlePrintIconClick = (id, name) => {\r\n    filesHelper.setNextFile(id, name);\r\n    emitEvent('loadFile', {id: id, name: name});\r\n    setSnackbarMessage({\r\n      type: 'info',\r\n      message: '\"' + name + '\" is ready to be printed. You can make some adjustments in the control panel.',\r\n      printAction: true\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handleDownloadIconClick = (id, filename) => {\r\n    window.open(apiHelper.getFileUrl() + '/' + filename);\r\n  }\r\n\r\n  const handlePrintNowClick = () => {\r\n    emitEvent('printFile', window.sessionStorage.getItem('print_file_id'));\r\n  }\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen} >\r\n        <Dashboard navTitle=\"Files\" backTo=\"home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Files\r\n            </Typography>\r\n          </div>\r\n          <div className={classes.tableRoot}>\r\n\r\n            { uploadPromiseResolved && uploads.length === 0 ? (\r\n              <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n                Upload some files to print them.\r\n              </Typography>\r\n            ) : uploadPromiseResolved && uploads.length > 0 ? (\r\n              <Paper className={classes.table}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Name</TableCell>\r\n                      <Hidden xsDown={true}>\r\n                        <TableCell>Size</TableCell>\r\n                      </Hidden>\r\n                      <TableCell align=\"right\">Actions</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {uploads.map(row => (\r\n                      <TableRow key={row._id}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row.originalname}\r\n                        </TableCell>\r\n                        <Hidden xsDown={true}>\r\n                          <TableCell>{filesHelper.getSize(row.size).size + ' ' + filesHelper.getSize(row.size).unit}</TableCell>\r\n                        </Hidden>\r\n                        <TableCell align=\"right\">\r\n                          <Tooltip title=\"Print\">\r\n                            <span>\r\n                              <IconButton className={classes.button} aria-label=\"Print\" onClick={() => handlePrintIconClick(row._id, row.originalname)} disabled={printStatus !== 'ready'}>\r\n                                <PrintIcon fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </span>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Download\">\r\n                            <IconButton className={classes.button} onClick={() => handleDownloadIconClick(row._id, row.filename)} aria-label=\"Download\">\r\n                              <SaveAltIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Delete\">\r\n                            <span>\r\n                              <IconButton className={classes.button} onClick={() => handleDeleteClick(row)} aria-label=\"Delete\" disabled={row._id === parseInt(window.sessionStorage.getItem('print_file_id'))}>\r\n                                <DeleteIcon fontSize=\"small\" />\r\n                              </IconButton>\r\n                            </span>\r\n                          </Tooltip>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            ) : !uploadPromiseResolved ? (\r\n              <Spinner/>\r\n            ) : ''}\r\n            \r\n            <input\r\n              className={classes.inputFile}\r\n              id=\"fleUpload\"\r\n              name=\"fleUpload\"\r\n              onChange={ handleFleUploadChange }\r\n              type=\"file\"\r\n              ref={uploadField}\r\n            />\r\n\r\n            <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={handleUploadFileClick}>\r\n              <AddIcon />\r\n              Upload File\r\n            </Fab>\r\n          </div>\r\n\r\n          <DeleteDialog \r\n            open={openDeleteDialog} \r\n            deleteItemName={deleteItemName}\r\n            deleteType=\"file\"\r\n            onCancelDelete={handleDeleteCancel} \r\n            onConfirmDelete={handleDeleteConfirm} \r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            printStatus={printStatus}\r\n            printAction={snackbarMessage.printAction}\r\n            handlePrintNowClick={handlePrintNowClick}\r\n            ref={snackbar} \r\n          />\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Button from '@material-ui/core/Button';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport { subscribeToEvent, unsubscribeFromEvent, emitEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function AxisControls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [selectedLength, setSelectedLength] = useState(10);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n\r\n  const handleSelectedLengthClick = (b) => {\r\n    setSelectedLength(b);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToEvent('info', (data) => {\r\n      setPrintStatus(data.status);\r\n    });\r\n\r\n    subscribeToEvent('printStatus', (status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('info');\r\n      unsubscribeFromEvent('printStatus');\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleMoveButtonClick = (direction) => {\r\n    emitEvent(direction, selectedLength);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n\r\n        {/* XY */}\r\n        <Grid container item sm={6} spacing={1}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveForward')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveLeft')}>\r\n                <KeyboardArrowLeftIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveXYHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveRight')}>\r\n                <KeyboardArrowRightIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveBack')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Z */}\r\n        <Grid container item spacing={1} sm={6}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveUp')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveZHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={printStatus !== 'ready'} className={classes.button} onClick={() => handleMoveButtonClick('moveDown')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n      <Grid className={classes.lengthSet} container justify=\"center\">\r\n        <ButtonGroup\r\n          size=\"large\"\r\n          variant=\"contained\"\r\n          aria-label=\"large contained button group\"\r\n          disabled={printStatus !== 'ready'}\r\n        >\r\n          <Button color={ selectedLength === 1 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(1)}>1mm</Button>\r\n          <Button color={ selectedLength === 10 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(10)}>10mm</Button>\r\n          <Button color={ selectedLength === 100 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(100)}>100mm</Button>\r\n        </ButtonGroup>\r\n        </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { subscribeToEvent, emitEvent, unsubscribeFromEvent } from '../services/socket.service';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  settingsButton: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  card: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ControlSettings(props) {\r\n  const classes = useStyles();\r\n\r\n  const [fanState, setFanState] = useState(0);\r\n  const [numFanSpeed, setNumFanSpeed] = useState('');\r\n  const [numLength, setNumLength] = useState('');\r\n  const [numTemperature, setNumTemperature] = useState('');\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [printTemperature, setPrintTemperature] = useState({});\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToEvent('info', (data) => {\r\n      setPrintStatus(data.status);\r\n      setPrintTemperature(data.temperature);\r\n    });\r\n\r\n    subscribeToEvent('printStatus', (status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    subscribeToEvent('temperature', (temp) => {\r\n      setPrintTemperature(temp);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('info');\r\n      unsubscribeFromEvent('printStatus');\r\n      unsubscribeFromEvent('temperature');\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleFanState = (state) => {\r\n    setFanState(state);\r\n\r\n    if (state === 0) {\r\n      emitEvent('fanOff');\r\n    } else {\r\n      emitEvent('fanOn', numFanSpeed);\r\n    }\r\n\r\n  }\r\n\r\n  const handleNumFanSpeedChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumFanSpeed(null);\r\n    }\r\n\r\n    if (e.target.value > 0 && e.target.value <= 100) {\r\n      setNumFanSpeed(e.target.value);\r\n      if (fanState === 1) {\r\n        emitEvent('fanOn', numFanSpeed);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleNumLengthChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumLength('');\r\n    }\r\n\r\n    if (e.target.value > 0 && e.target.value <= 300) {\r\n      setNumLength(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleNumTemperatureChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumTemperature('');\r\n    } else if (e.target.value >= 0 && e.target.value <= 300) {\r\n      setNumTemperature(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleExtrudeClick = () => {\r\n    emitEvent('extrude', numLength);\r\n  }\r\n\r\n  const handleRetractClick = () => {\r\n    emitEvent('retract', numLength);\r\n  }\r\n\r\n  const handleSetHeatbedClick = () => {\r\n    emitEvent('setHeatbedTemperature', numTemperature);\r\n  }\r\n\r\n  const handleSetHotendClick = () => {\r\n    emitEvent('setHotendTemperature', numTemperature);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Fan\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"fanSpeed\"\r\n                  className={classes.textField}\r\n                  label=\"Speed (%)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumFanSpeedChange}\r\n                  value={numFanSpeed}\r\n                  disabled={printStatus === 'disconnected'}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" color={ fanState === 1 ? 'primary' : 'default'} onClick={() => handleFanState(1)} fullWidth disabled={printStatus === 'disconnected'}>On</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" color={ fanState === 0 ? 'primary' : 'default'} onClick={() => handleFanState(0)} fullWidth disabled={printStatus === 'disconnected'}>Off</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Extrude/Retract\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"length\"\r\n                  className={classes.textField}\r\n                  label=\"Length (mm)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumLengthChange}\r\n                  value={numLength}\r\n                  disabled={printStatus !== 'ready'}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" disabled={printStatus !== 'ready'} size=\"small\" fullWidth onClick={handleExtrudeClick}>Extrude</Button></div>\r\n              <div><Button variant=\"contained\" disabled={printStatus !== 'ready'} size=\"small\" fullWidth onClick={handleRetractClick}>Retract</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Temperature\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"temp\"\r\n                  className={classes.textField}\r\n                  label=\"Temperature (°C)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumTemperatureChange}\r\n                  value={numTemperature}\r\n                  disabled={printStatus === 'disconnected'}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHeatbedClick} disabled={printStatus === 'disconnected'}>Set Heatbed {printTemperature.heatbed !== 0 ? '(' + printTemperature.heatbed + '°C)' : ''}</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHotendClick} disabled={printStatus === 'disconnected'}>Set Hotend {printTemperature.hotend !== 0 ? '(' + printTemperature.hotend + '°C)' : ''}</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { subscribeToEvent, emitEvent, unsubscribeFromEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 800,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  gridItem: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n    },\r\n  },\r\n  button: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      padding: '15.5px 14px',\r\n    },\r\n  },\r\n  logBox: {\r\n    height: 300,\r\n    marginBottom: '16px',\r\n    borderRadius: 5,\r\n    background: '#e0e0e0',\r\n    fontFamily: 'Consolas',\r\n    padding: '10px',\r\n    color: '#000000',\r\n    textAlign: 'left',\r\n    overflowY: 'scroll',\r\n  },\r\n}));\r\n\r\nexport default function Console(props) {\r\n  const classes = useStyles();\r\n\r\n  const [txtCommand, setTxtCommand] = useState('');\r\n  const [log, setLog] = useState([]);\r\n  const [printStatus, setPrintStatus] = useState('');\r\n\r\n  const logBox = useRef();\r\n\r\n  useEffect(() => {\r\n    subscribeToEvent('printConsoleLog', (consoleLog) => {\r\n\r\n      const consoleLogWithId = [];\r\n\r\n      for(let i = 0; i < consoleLog.length; i++) {\r\n        consoleLogWithId.push({id: i, text: consoleLog[i]});\r\n      }\r\n\r\n      setLog(consoleLogWithId);\r\n      logBox.current.scrollTop = logBox.current.scrollHeight;\r\n    });\r\n\r\n    subscribeToEvent('info', (data) => {\r\n      setPrintStatus(data.status);\r\n    });\r\n\r\n    subscribeToEvent('printStatus', (status) => {\r\n      setPrintStatus(status);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('printConsoleLog');\r\n      unsubscribeFromEvent('info');\r\n      unsubscribeFromEvent('printStatus');\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleTxtCommandChange = (e) => {\r\n    setTxtCommand(e.target.value);\r\n  }\r\n\r\n\r\n  const handleBtnSendClick = (e) => {\r\n    if (txtCommand !== '') {\r\n      emitEvent('sendManualCommand', txtCommand);\r\n    }\r\n  }\r\n\r\n  const handleEnterKeyDown = (e) => {\r\n    if (e.key === 'Enter' && txtCommand !== '') {\r\n      emitEvent('sendManualCommand', txtCommand);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <div className={classes.logBox} ref={logBox}>\r\n              { log.map(cLog => (\r\n                <span key={cLog.id}>{cLog.text}<br/></span>\r\n              ))}\r\n            </div>\r\n            <Grid container spacing={1} justify=\"center\">\r\n              <Grid item sm={10} className={classes.gridItem}>\r\n                <TextField\r\n                  id=\"command\"\r\n                  className={classes.textField}\r\n                  label=\"Command\"\r\n                  variant=\"outlined\"\r\n                  type=\"text\"\r\n                  fullWidth\r\n                  onChange={handleTxtCommandChange}\r\n                  value={txtCommand}\r\n                  onKeyDown={handleEnterKeyDown}\r\n                  disabled={printStatus === 'disconnected'}\r\n                />\r\n              </Grid>  \r\n              <Grid item sm={2} className={classes.gridItem}>\r\n                <Button className={classes.button} variant=\"contained\" color=\"primary\" fullWidth onClick={handleBtnSendClick} disabled={printStatus === 'disconnected'}>Send</Button>\r\n              </Grid>            \r\n            </Grid>            \r\n          </CardContent>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Status from '../components/status.component';\r\nimport AxisControls from '../components/axiscontrols.component';\r\nimport ControlSettings from '../components/controlsettings.component';\r\nimport Console from '../components/console.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  controlWindow: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  listItem: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nexport default function Controls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [openAxisControls, setOpenAxisControls] = useState(true);\r\n  const [openControlSettings, setOpenControlSettings] = useState(false);\r\n  const [openConsole, setOpenConsole] = useState(false);\r\n\r\n  const handleOpenAxisControl = () => {\r\n    setOpenAxisControls(!openAxisControls);\r\n  }\r\n\r\n  const handleOpenControlSettings = () => {\r\n    setOpenControlSettings(!openControlSettings);\r\n  }\r\n\r\n  const handleOpenConsole = () => {\r\n    setOpenConsole(!openConsole);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dashboard navTitle=\"Controls\" backTo=\"home\">\r\n        <div className={classes.heroContent}>\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            Controls\r\n          </Typography>\r\n        </div>\r\n        <Grid container className={classes.root} spacing={4}>\r\n          <Grid item xs={12}>\r\n            <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n              <Grid item>\r\n                <Status printer={props.printer} />\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <List>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenConsole}>\r\n            <ListItemText primary=\"Console\" secondary=\"Watch the log and send manual commands\" />\r\n            {openConsole ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openConsole} timeout=\"auto\">\r\n            <div className={classes.controlWindow}>\r\n              <Grid container className={classes.root} spacing={4}>\r\n                <Grid item xs={12}>\r\n                  <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                    <Grid item>\r\n                      <Console />\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenControlSettings}>\r\n            <ListItemText primary=\"Control Settings\" secondary=\"Set the fan speed, the temperature and extrude or retract\" />\r\n            {openControlSettings ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openControlSettings} timeout=\"auto\">\r\n            <div className={classes.controlWindow}>\r\n              <ControlSettings />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenAxisControl}>\r\n            <ListItemText primary=\"Axis Controls\" secondary=\"Move the axis of the printer\" />\r\n            {openAxisControls ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openAxisControls} timeout=\"auto\">\r\n            <div className={classes.controlWindow}>\r\n              <AxisControls />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n        </List>\r\n\r\n      </Dashboard>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Dashboard from '../components/dashboard.component';\r\n\r\nexport default function Info() {\r\n  return (\r\n    <Dashboard navTitle=\"Info\" backTo=\"settings\">\r\n      Info page\r\n    </Dashboard>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport Logo from '../images/icon-blue.svg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  linearProgress: {\r\n    marginTop: 50,\r\n    margin: '0 25%',\r\n  },\r\n}));\r\n\r\nexport default function LoadingWithIcon() {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <img src={Logo} alt=\"Logo\" width={150} />\r\n      <LinearProgress className={classes.linearProgress} />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport const printer = { status: null, setStatus: () => {}, info: null, setInfo: () => {} }\r\nexport const PrinterContext = React.createContext(printer);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { printerService } from '../services/printer.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { PrinterContext } from '../contexts/printer.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function PrinterSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n  const printer = useContext(PrinterContext);\r\n\r\n  const [txtName, setTxtName] = useState('');\r\n  const [txtNameError, setTxtNameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    printerService.getInfo().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setTxtName(data.name);\r\n      }\r\n\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleTxtNameChange(e) {\r\n    setTxtName(e.target.value);\r\n    checkTxtName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtName(txtName)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      printerService.setInfo({\r\n        name: txtName,\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          printer.setInfo({\r\n            name: data.name\r\n          });\r\n\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Printer Details successfully set.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtName(name) {\r\n    if (validator.isEmpty(name)) {\r\n      setTxtNameError({\r\n        error: true,\r\n        message: 'Please enter a name.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtNameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtNameError() {\r\n    setTxtNameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Printer Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Printer Details\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtName\"\r\n                autoComplete=\"name\"\r\n                margin=\"normal\"\r\n                label=\"Name\"\r\n                variant=\"outlined\" \r\n                value={txtName}\r\n                onChange={handleTxtNameChange}\r\n                error={txtNameError.error}\r\n                helperText={txtNameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport Login from './pages/login.page';\r\nimport Home from './pages/home.page';\r\nimport Settings from './pages/settings.page';\r\nimport AccountSettings from './pages/accountsettings.page';\r\nimport ConnectionSettings from './pages/connectionsettings.page';\r\nimport AddAccount from './pages/addaccount.page';\r\nimport Files from './pages/files.page';\r\nimport Controls from './pages/controls.page';\r\nimport Info from './pages/info.page';\r\nimport LoadingWithIcon from './pages/loading.page';\r\n\r\nimport { userService } from './services/users.service';\r\nimport { printerService } from './services/printer.service';\r\nimport { UserContext } from './contexts/user.context';\r\nimport { PrinterContext } from './contexts/printer.context';\r\nimport { ThemeContext } from './contexts/theme.context';\r\nimport PrinterSettings from './pages/printersettings.page';\r\n\r\n\r\n//create consistent theme styling for app\r\nconst theme_light = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'light'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nconst theme_dark = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'dark'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nfunction RedirectToLogin() {\r\n  return (\r\n    <Redirect exact to=\"/login\" />\r\n  );\r\n}\r\n\r\nfunction App() {\r\n\r\n  const [authorized, setAuthorized] = useState(window.localStorage.getItem('token') !== null ? true : false);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printerInfo, setPrinterInfo] = useState({});\r\n  const [themeStyle, setThemeStyle] = useState(window.localStorage.getItem('themeMode') !== null ? window.localStorage.getItem('themeMode') : 'light');\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage.getItem('token') !== null) {\r\n\r\n      printerService.getStatus().then((data) => {\r\n        setPrinterStatus(data);\r\n      });\r\n      \r\n      userService.lookup().then((data) => {\r\n\r\n        if (data._id === undefined) {\r\n          setAuthorized(false);\r\n          setUser({\r\n            authorized: false\r\n          });\r\n          setUserPromiseResolved(true);\r\n        } else {\r\n          setAuthorized(true);\r\n          data.authorized = true;\r\n          setUser(data);\r\n          setUserPromiseResolved(true);\r\n        }\r\n\r\n      });\r\n\r\n      printerService.getInfo().then((data) => {\r\n        setPrinterInfo(data);\r\n      });\r\n\r\n    } else {\r\n      setUser({\r\n        authorized: false\r\n      });\r\n      setUserPromiseResolved(true);\r\n    }\r\n\r\n  }, []);\r\n\r\n  // if data has not been fetched yet\r\n  if (!userPromiseResolved) {\r\n    return (\r\n      <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n        <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n          <CssBaseline />\r\n          <LoadingWithIcon />\r\n        </MuiThemeProvider>\r\n      </ThemeContext.Provider>\r\n    );\r\n  }\r\n\r\n  // otherwise\r\n  return (\r\n    <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n      <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n        <UserContext.Provider value={user}>\r\n          <PrinterContext.Provider value={{ status: printerStatus, setStatus: setPrinterStatus, info: printerInfo, setInfo: setPrinterInfo }}>\r\n            <Router>\r\n              <div>\r\n                <CssBaseline />\r\n\r\n                { authorized ? (\r\n                  <div>                          \r\n                    <UserContext.Consumer>\r\n                      {user => (\r\n                        <PrinterContext.Consumer>\r\n                          \r\n                          {printer => (\r\n                            <div>\r\n                              <Route exact path=\"/\" render={ props => (                        \r\n                                <Home user={user} printer={printer} />        \r\n                              )} />\r\n  \r\n                              <Route exact path=\"/controls\" render={ props => (\r\n                                <Controls printer={printer} />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/files\" render={ props => (\r\n                                <Files />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings\" render={ props => (\r\n                                <Settings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/connection\" render={ props => (\r\n                                <ConnectionSettings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/printer\" render={ props => (\r\n                                <PrinterSettings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/accounts\" render={ props => (\r\n                                <AccountSettings {...props} />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/accounts/add\" render={ props => (\r\n                                <AddAccount {...props} />\r\n                              )} />\r\n\r\n                              <Route exact path=\"/settings/info\" render={ props => (\r\n                                <Info {...props} />\r\n                              )} />\r\n                            </div>\r\n                          )}\r\n\r\n                        </PrinterContext.Consumer> \r\n                      )}\r\n                    </UserContext.Consumer>\r\n                  </div>\r\n                ) : (<RedirectToLogin />)\r\n                }\r\n\r\n                <Route exact path=\"/login\" render={ props => (\r\n                  <UserContext.Consumer>\r\n                    { user => (\r\n                      <Login user={user} />\r\n                    )}\r\n                  </UserContext.Consumer>\r\n                )} />\r\n\r\n              </div>\r\n            </Router>\r\n          </PrinterContext.Provider>\r\n        </UserContext.Provider>\r\n      </MuiThemeProvider>\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}