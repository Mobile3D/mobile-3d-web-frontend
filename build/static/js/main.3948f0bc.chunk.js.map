{"version":3,"sources":["images/icon-white.svg","images/icon-blue.svg","helpers/api.helper.js","services/users.service.js","contexts/user.context.js","components/snackbar.component.js","pages/login.page.js","contexts/theme.context.js","components/sidedrawer.component.js","components/navbar.component.js","components/dashboard.component.js","components/actioncard.component.js","services/printer.service.js","components/spinner.component.js","components/confirmstopdialog.component.js","helpers/files.helper.js","services/socket.service.js","components/status.component.js","services/uploads.service.js","helpers/upload.helper.js","components/uploaddialog.component.js","pages/home.page.js","components/settingscard.component.js","pages/settings.page.js","components/deletedialog.component.js","contexts/accounts.context.js","pages/accountsettings.page.js","services/connection.service.js","pages/connectionsettings.page.js","pages/addaccount.page.js","pages/files.page.js","components/axiscontrols.component.js","components/controlsettings.component.js","components/console.component.js","pages/controls.page.js","pages/info.page.js","pages/loading.page.js","contexts/printer.context.js","pages/printersettings.page.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","apiHelper","getUrl","window","location","host","split","getDefaultHeaders","Content-Type","getHeaders","Authorization","localStorage","getItem","getFileUploadHeaders","checkToken","error","code","reload","checkAuth","sessionStorage","checkResponse","data","undefined","valid","type","message","userService","login","lookup","add","getAll","get","remove","_callee","body","regenerator_default","a","wrap","_context","prev","next","abrupt","fetch","method","headers","JSON","stringify","then","res","json","stop","_callee2","_context2","_callee3","_context3","_callee4","_context4","_callee5","id","_context5","_callee6","_context6","UserContext","React","createContext","authorized","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","useStyles1","makeStyles","theme","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","display","alignItems","MySnackbarContentWrapper","props","classes","className","onClose","variant","other","Object","objectWithoutProperties","Icon","react_default","createElement","SnackbarContent","assign","clsx","aria-describedby","action","IconButton","key","aria-label","color","onClick","Close_default","CustomizedSnackbar","forwardRef","ref","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","handleClose","event","reason","useImperativeHandle","handleOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","printAction","Button","handlePrintNowClick","useStyles","root","height","image","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","paper","margin","flexDirection","avatar","width","form","marginTop","submit","Login","user","useContext","_useState","_useState2","txtUsername","setTxtUsername","_useState3","_useState4","txtPassword","setTxtPassword","_useState5","_useState6","chkRememberMe","setChkRememberMe","_useState7","_useState8","txtUsernameError","setTxtUsernameError","_useState9","_useState10","txtPasswordError","setTxtPasswordError","_useState11","_useState12","snackbarMessage","setSnackbarMessage","snackbar","useRef","checkTxtUsername","username","validator","isEmpty","checkTxtPassword","password","react_router","exact","to","Grid","container","component","CssBaseline","item","xs","sm","md","lg","Paper","elevation","square","Avatar","src","Logo","alt","Typography","onSubmit","e","preventDefault","remember","responseCheck","setItem","token","current","noValidate","TextField","required","fullWidth","label","name","autoComplete","autoFocus","onChange","target","value","helperText","FormControlLabel","control","Checkbox","snackbar_component","ThemeContext","themeStyle","setThemeStyle","list","orangeAvatar","deepOrange","pinkAvatar","pink","link","textDecoration","text","&:focus","&:active","SideDrawer","themeContext","handleLogout","removeItem","handleDarkModeClick","Consumer","Drawer","onDrawerClose","tabIndex","role","List","ListItem","ListItemAvatar","firstname","substr","ListItemText","lastname","Divider","react_router_dom","button","selected","selectedPage","ListItemIcon","Home_default","ControlCamera_default","Folder_default","NightsStay_default","NightsStayOutlined_default","Settings_default","PowerSettingsNew_default","flexGrow","grow","menuButton","marginLeft","search","defineProperty","position","borderRadius","shape","fade","common","white","&:hover","breakpoints","up","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","Navbar","showDrawer","setShowDrawer","AppBar","Toolbar","backTo","ArrowBack_default","Menu_default","title","Dashboard","navTitle","children","cardActionArea","down","pos","marginBottom","SelectIcon","Print_default","style","CloudUpload_default","Launch_default","ActionCard","Card","CardActionArea","CardContent","align","description","CardActions","printerService","setInfo","getInfo","setLoadedFile","getLoadedFile","getStatus","getProgress","textAlign","transform","left","right","Spinner","CircularProgress","ConfirmStopDialog","Dialog","onCancelStop","aria-labelledby","DialogTitle","itemName","DialogContent","DialogContentText","DialogActions","onConfirmDelete","onCancelDelete","filesHelper","setNextFile","socket","io","query","subscribeToEvent","cb","on","emitEvent","arguments","length","emit","unsubscribeFromEvent","off","_root","controls","playIcon","buttonGroup","progressbar","Status","loadedFile","loadedFilePromiseResolved","setLoadedFilePromiseResolved","printerStatus","setPrinterStatus","printStatus","setPrintStatus","printerStatusPromiseResolved","setPrinterStatusPromiseResolved","openConfirmStopDialog","setOpenConfirmStopDialog","_useState13","_useState14","printProgress","setPrintProgress","useEffect","file","progress","sent","total","status","console","log","connected","ready","busy","connecting","card","details","content","printer","LinearProgress","parseInt","Math","floor","ButtonGroup","Tooltip","Delete_default","disabled","PlayArrow_default","Stop_default","deleteType","uploadService","checkFile","size","indexOf","parts","fileEnding","toLowerCase","top","appBar","flex","Transition","Slide","direction","UploadDialog","setFile","uploadStarted","setUploadStarted","setUpload","upload","onBeforeUploadError","onDrop","dataTransfer","files","fullScreen","TransitionComponent","edge","FormData","append","_id","originalname","onUploadFinish","secondary","linearProgress","gutterBottom","InsertDriveFile_default","fullscreen","options","heroContent","maxWidth","padding","concat","inputFile","Home","uploadDialog","uploadField","onDragOver","justify","click","uploaddialog_component","SupervisorAccount_default","SignalCellularAlt_default","Info_default","SettingsCard","settingscard_component_SelectIcon","Settings","AlertDialog","deleteItemName","AccountsContext","new","tableRoot","table","fab","bottom","zIndex","centering","AccountSettings","accountsContext","accounts","setAccounts","userPromiseResolved","setUserPromiseResolved","setDeleteItemName","deleteItemId","setDeleteItemId","openDeleteDialog","setOpenDeleteDialog","update","setUpdate","Table","TableHead","TableRow","TableCell","Hidden","xsDown","TableBody","map","row","scope","handleDeleteClick","Fab","Add_default","connectionService","setConnection","getConnection","textField","ConnectionSettings","txtPort","setTxtPort","txtBaudRate","setTxtBaudRate","txtPortError","setTxtPortError","txtBaudRateError","setTxtBaudRateError","checkTxtPort","port","checkTxtBaudRate","baudrate","isNumeric","paragraph","setTimeout","FormControl","AddAccount","userAdded","setUserAdded","txtFirstname","setTxtFirstname","txtLastname","setTxtLastname","txtFirstnameError","setTxtFirstnameError","txtLastnameError","setTxtLastnameError","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","checkTxtFirstname","checkTxtLastname","admin","history","back","Files","uploads","setUploads","uploadPromiseResolved","setUploadPromiseResolved","loadFiles","SaveAlt_default","lengthSet","AxisControls","selectedLength","setSelectedLength","handleSelectedLengthClick","b","handleMoveButtonClick","KeyboardArrowUp_default","KeyboardArrowLeft_default","KeyboardArrowRight_default","KeyboardArrowDown_default","settingsButton","ControlSettings","fanState","setFanState","numFanSpeed","setNumFanSpeed","numLength","setNumLength","numTemperature","setNumTemperature","handleFanState","state","gridItem","logBox","background","fontFamily","overflowY","Console","txtCommand","setTxtCommand","setLog","consoleLog","consoleLogWithId","i","push","scrollTop","scrollHeight","cLog","onKeyDown","controlWindow","listItem","Controls","openAxisControls","setOpenAxisControls","openControlSettings","setOpenControlSettings","openConsole","setOpenConsole","ExpandLess_default","ExpandMore_default","Collapse","in","timeout","unmountOnExit","Info","LoadingWithIcon","PrinterContext","setStatus","PrinterSettings","txtName","setTxtName","txtNameError","setTxtNameError","checkTxtName","theme_light","createMuiTheme","typography","useNextVariants","theme_dark","RedirectToLogin","App","setAuthorized","setUser","printerInfo","setPrinterInfo","Provider","ThemeProvider","path","render","home_page_Home","settings_page_Settings","info_page_Info","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","src_App","document","getElementById","URL","process","href","origin","addEventListener","response","contentType","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3948f0bc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-white.7c495247.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-blue.389aa163.svg\";","export const apiHelper = {\r\n  getUrl,\r\n  getDefaultHeaders,\r\n  getHeaders,\r\n  getFileUploadHeaders,\r\n  checkToken,\r\n  checkAuth\r\n};\r\n\r\nfunction getUrl() {\r\n  return 'http://' + window.location.host.split(':')[0] + ':4000/api/v1';\r\n}\r\n\r\nfunction getDefaultHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n  }\r\n}\r\n\r\nfunction getHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction getFileUploadHeaders() {\r\n  return {\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction checkToken(error) {\r\n  if (error.code === 'ER_TOKEN_EXPIRED') {\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\nfunction checkAuth() {\r\n  if (window.localStorage.getItem('token') !== null || window.sessionStorage.getItem('token') !== null) {\r\n    return true;\r\n  } \r\n  return false;\r\n}\r\n\r\nexport function checkResponse(data) {\r\n  if (data.error === undefined) return { valid: true };\r\n  else {\r\n\r\n    if (data.error.code === 'ER_MISSING_PARAMS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Some parameters are missing.'\r\n      };\r\n    } else if (data.error.code === 'ER_USERNAME_TAKEN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The username you entered is already taken.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested user could not be found.'\r\n      };\r\n    } else if (data.error.code === 'ER_INVALID_LOGIN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Your username or password is invalid.'\r\n      };\r\n    } else if (data.error.code === 'ER_UNAUTHORIZED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You need to be signed in to use this service.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOKEN_EXPIRED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'This session expired. Please reload the page and sign in again.'\r\n      };\r\n    } else if (data.error.code === 'ER_UPLOAD_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested upload could not be found. Please try to reload the page.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_TO_DELETE_SIGNED_IN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You cannot delete yourself.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOO_MANY_REQUESTS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Too many requests. Please wait a few seconds and try again.'\r\n      };\r\n    } else if (data.error.code === 'ER_INTERNAL') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An internal error occured. Please try again in a few seconds.'\r\n      };\r\n    } else {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An unknown error occured. Please try to reload the page.'\r\n      };\r\n    }\r\n  }\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const userService = {\r\n  login,\r\n  lookup,\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function login(body) {\r\n  return fetch(apiHelper.getUrl() + '/auth/login', {\r\n    method: 'POST',\r\n    headers: apiHelper.getDefaultHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function lookup() {\r\n  return fetch(apiHelper.getUrl() + '/user', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\n\r\nexport const user = { authorized: false }\r\nexport const UserContext = React.createContext(user);\r\n\r\nexport function checkAuth() {\r\n  if (window.localStorage.getItem('token') === null || window.sessionStorage.getItem('token') === null) {\r\n    window.location.reload();\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n  const classes = useStyles1();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst CustomizedSnackbar = forwardRef((props, ref) => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    }\r\n\r\n  }));\r\n\r\n  function handleClose(event, reason) {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n      >\r\n        { props.printAction ? (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n            action={(<Button color=\"secondary\" onClick={props.handlePrintNowClick}>\r\n              Print Now\r\n            </Button>)}\r\n          />\r\n        ) : (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n          />\r\n        )}\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default CustomizedSnackbar;","import React, { useState, useContext, useRef } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom';\r\nimport validator from 'validator';\r\n\r\nimport Logo from '../images/icon-white.svg';\r\nimport { userService } from '../services/users.service';\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(images/login-bg.jpg)',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const user = useContext(UserContext);\r\n\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [chkRememberMe, setChkRememberMe] = useState(false);\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const snackbar = useRef();\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleChkRememberMeChange(e) {\r\n    setChkRememberMe(!chkRememberMe);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    let valid = true;\r\n\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      \r\n      userService.login({\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        remember: chkRememberMe\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n        \r\n        if (responseCheck.valid) {\r\n          window.localStorage.setItem('token', data.token);\r\n          window.location.reload();\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter your username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter your password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  // loading\r\n  if (user.authorized === undefined) {\r\n    return (<div></div>);\r\n  } else if (user.authorized) {\r\n    return (<Redirect exact to=\"/\" />);\r\n  } else {\r\n    return (\r\n      <Grid container component=\"main\" className={classes.root}>\r\n        <CssBaseline />\r\n        <Grid item xs={false} sm={5} md={7} lg={8} className={classes.image} />\r\n        <Grid item xs={12} sm={7} md={5} lg={4} component={Paper} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <img src={Logo} alt=\"Logo\" width={27} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign In\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"txtUsername\"\r\n                label=\"Username\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                autoFocus\r\n                onChange={handleTxtUsernameChange}\r\n                value={txtUsername}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"txtPassword\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"txtPassword\"\r\n                autoComplete=\"current-password\"\r\n                onChange={handleTxtPasswordChange}\r\n                value={txtPassword}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox color=\"primary\" onChange={handleChkRememberMeChange} value={chkRememberMe} />}\r\n                label=\"Remember me\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              { /*}\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n              */}\r\n            </form>\r\n          </div>\r\n        </Grid>\r\n        <Snackbar \r\n          message={snackbarMessage.message} \r\n          variant={snackbarMessage.type}\r\n          ref={snackbar} \r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport const theme = { themeStyle: 'light', setThemeStyle: () => {} };\r\n\r\nexport const ThemeContext = React.createContext(theme);","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport deepOrange from '@material-ui/core/colors/deepOrange';\r\nimport pink from '@material-ui/core/colors/pink';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport NightsStayIcon from '@material-ui/icons/NightsStay';\r\nimport NightsStayOutlinedIcon from '@material-ui/icons/NightsStayOutlined';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { ThemeContext } from '../contexts/theme.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  list: {\r\n    width: 250,\r\n  },\r\n  orangeAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  pinkAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: pink[400],\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.text.primary,\r\n    '&:focus': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n    '&:active': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SideDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const themeContext = useContext(ThemeContext);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.reload();\r\n  }\r\n\r\n  const handleDarkModeClick = () => {\r\n    if (themeContext.themeStyle === 'light') {\r\n      themeContext.setThemeStyle('dark');\r\n      window.localStorage.setItem('themeMode', 'dark');\r\n    } else {\r\n      themeContext.setThemeStyle('light');\r\n      window.localStorage.setItem('themeMode', 'light');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserContext.Consumer>\r\n      {user => (\r\n        <Drawer open={props.open} onClose={ props.onDrawerClose }>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n          >\r\n            <div className={classes.list}>\r\n              <List>\r\n                <ListItem>\r\n                  <ListItemAvatar>\r\n                    <Avatar className={classes.pinkAvatar}>{user.firstname === undefined ? '' : user.firstname.substr(0, 1)}</Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={user.firstname + ' ' + user.lastname}\r\n                  />\r\n                </ListItem>\r\n              </List>\r\n              <Divider />\r\n              <List>\r\n                <Link to=\"/\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'home' }>\r\n                    <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Home\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/controls\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'controls' }>\r\n                    <ListItemIcon><ControlCameraIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Controls\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/files\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'files' }>\r\n                    <ListItemIcon><FolderIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Files\" />\r\n                  </ListItem>\r\n                </Link>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <ListItem button onClick={handleDarkModeClick}>\r\n                  <ListItemIcon>{themeContext.themeStyle === 'dark' ? (<NightsStayIcon/>) : (<NightsStayOutlinedIcon/>)}</ListItemIcon>\r\n                  <ListItemText primary={themeContext.themeStyle === 'dark' ? 'Light Mode' : 'Dark Mode'} />\r\n                </ListItem>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <Link to=\"/settings\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'settings' }>\r\n                    <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Settings\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <ListItem button onClick={handleLogout}>\r\n                  <ListItemIcon><PowerSettingsNewIcon /></ListItemIcon>\r\n                  <ListItemText primary=\"Logout\" />\r\n                </ListItem>\r\n              </List>\r\n            </div>\r\n          </div>\r\n        </Drawer>\r\n      )}\r\n    </UserContext.Consumer>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { Link } from 'react-router-dom';\r\nimport SideDrawer from './sidedrawer.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(9),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    paddingLeft: theme.spacing(10),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 120,\r\n      '&:focus': {\r\n        width: 200,\r\n      },\r\n    },\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#ffffff',\r\n    '&:focus': {\r\n      color: '#ffffff',\r\n    },\r\n    '&:active': {\r\n      color: '#ffffff',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Navbar(props) {\r\n  const classes = useStyles();\r\n\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n\r\n  function handleMenuButtonClick() {\r\n    setShowDrawer(true);\r\n  }\r\n\r\n  function handleDrawerClose() {\r\n    setShowDrawer(false);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          {props.backTo !== undefined ? (\r\n            <Link to={ props.backTo === 'settings' ? '/settings' : props.backTo === 'accountsettings' ? '/settings/accounts' : '/'} className={classes.link}>\r\n              <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Back\">\r\n                <ArrowBackIcon />\r\n              </IconButton> \r\n            </Link>\r\n          ) : (\r\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={ handleMenuButtonClick }>\r\n              <MenuIcon />\r\n            </IconButton>\r\n          )}\r\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n            { props.title }\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SideDrawer open={showDrawer} onDrawerClose={ handleDrawerClose } selectedPage={ props.selectedPage } />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Navbar from './navbar.component';\r\n\r\n/**\r\n * Includes the Navbar can be implemented in every view that needs a navbar\r\n */\r\nexport default function Dashboard(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Navbar title={ props.navTitle } selectedPage=\"not\" backTo={props.backTo} />\r\n      { props.children }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 400,\r\n    height: 250,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'print') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'home') {\r\n    return (<HomeIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'upload') {\r\n    return (<CloudUploadIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'files') {\r\n    return (<FolderIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'control') {\r\n    return (<ControlCameraIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'logout') {\r\n    return (<PowerSettingsNewIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  }\r\n}\r\n\r\nexport default function ActionCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h5\" component=\"h5\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"subtitle1\" component=\"h6\" color=\"textSecondary\" align=\"center\">\r\n            { props.description }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const printerService = {\r\n  setInfo,\r\n  getInfo,\r\n  setLoadedFile,\r\n  getLoadedFile,\r\n  getStatus,\r\n  getProgress\r\n};\r\n\r\nasync function setInfo(body) {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getInfo() {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function setLoadedFile(body) {\r\n  return fetch(apiHelper.getUrl() + '/printer/file', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getLoadedFile() {\r\n  return fetch(apiHelper.getUrl() + '/printer/file', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getStatus() {\r\n  return fetch(apiHelper.getUrl() + '/printer/status', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getProgress() {\r\n  return fetch(apiHelper.getUrl() + '/printer/progress', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n}));\r\n\r\nexport default function Spinner() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function ConfirmStopDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onCancelStop}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Are you sure you want to stop printing \"{props.itemName}\"?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            If you stop this print, <b>this action cannot be undone</b> and <b>you will have to start over again.</b>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirmDelete} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.onCancelDelete} autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import { printerService } from '../services/printer.service';\r\n\r\nexport const filesHelper = {\r\n  setNextFile,\r\n};\r\n\r\nfunction setNextFile(id, name) {\r\n  window.sessionStorage.setItem('print_file_id', id);\r\n  window.sessionStorage.setItem('print_file_name', name);\r\n  printerService.setLoadedFile({\r\n    id: id,\r\n    name: name\r\n  });\r\n}","import io from 'socket.io-client';\r\n\r\nconst socket = io('http://' + window.location.host.split(':')[0] + ':4000', {\r\n  query: {\r\n    token: 'Bearer ' + window.localStorage.getItem('token')\r\n  }\r\n});\r\n\r\nexport function subscribeToEvent(event, cb) {\r\n  socket.on(event, data => cb(data));\r\n}\r\n\r\nexport function emitEvent(event, data = null) {\r\n  if (data === null) socket.emit(event);\r\n  else socket.emit(event, data);\r\n}\r\n\r\nexport function unsubscribeFromEvent(event) {\r\n  socket.off(event);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n//import PauseIcon from '@material-ui/icons/Pause';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { Link } from 'react-router-dom';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { printerService } from '../services/printer.service';\r\nimport Spinner from '../components/spinner.component';\r\nimport ConfirmStopDialog from '../components/confirmstopdialog.component';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { subscribeToEvent, emitEvent, unsubscribeFromEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 600,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    textAlign: 'center',\r\n  },\r\n  controls: {\r\n    alignItems: 'center',\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38,\r\n  },\r\n  buttonGroup: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#0078d7',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  progressbar: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Status(props) {\r\n  const classes = useStyles();\r\n\r\n  const [loadedFile, setLoadedFile] = useState({ id: window.sessionStorage.getItem('print_file_id'), name: window.sessionStorage.getItem('print_file_name')});\r\n  const [loadedFilePromiseResolved, setLoadedFilePromiseResolved] = useState(false);\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [printerStatusPromiseResolved, setPrinterStatusPromiseResolved] = useState(false);\r\n  const [openConfirmStopDialog, setOpenConfirmStopDialog] = useState(false);\r\n  const [printProgress, setPrintProgress] = useState(window.sessionStorage.getItem('print_progress_percentage') !== 0 ? window.sessionStorage.getItem('print_progress_percentage') : 0);\r\n\r\n  useEffect(() => {\r\n    printerService.getStatus().then((data) => {\r\n      setPrinterStatus(data);\r\n      setPrinterStatusPromiseResolved(true);\r\n    });\r\n\r\n    printerService.getLoadedFile().then((data) => {\r\n      if (data.id !== null || data.name !== null) {\r\n        setLoadedFile(data);\r\n        filesHelper.setNextFile(data.id, data.name);\r\n      }\r\n      setLoadedFilePromiseResolved(true);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    subscribeToEvent('newFileToPrint', (file) => {\r\n      window.sessionStorage.setItem('print_file_id', file.id);\r\n      window.sessionStorage.setItem('print_file_name', file.name);\r\n      setLoadedFile({id: file.id, name: file.name});\r\n    });\r\n\r\n    subscribeToEvent('deleteLoadedFile', () => {\r\n      window.sessionStorage.removeItem('print_file_id');\r\n      window.sessionStorage.removeItem('print_file_name');\r\n      setLoadedFile({id: null, name: null});\r\n      printerService.setLoadedFile({\r\n        id: null,\r\n        name: null\r\n      });\r\n    });\r\n\r\n    subscribeToEvent('printProgress', (progress) => {\r\n      setPrintProgress((progress.sent/progress.total)*100);\r\n      window.sessionStorage.setItem('print_progress_percentage', (progress.sent/progress.total)*100);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('newFileToPrint');\r\n      unsubscribeFromEvent('deleteLoadedFile');\r\n      unsubscribeFromEvent('printProgress');\r\n    }\r\n\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    subscribeToEvent('printStatus', (status) => {\r\n      console.log(status);\r\n      if (status !== printStatus) {\r\n        setPrintStatus(status);\r\n        if (status === 'connected') {\r\n          setPrinterStatus({\r\n            connected: true,\r\n            ready: true,\r\n            busy: printerStatus.busy,\r\n            connecting: false\r\n          });\r\n        } else if (status === 'connecting') {\r\n          setPrinterStatus({\r\n            connected: printerStatus.connected,\r\n            ready: printerStatus.ready,\r\n            busy: printerStatus.busy,\r\n            connecting: true\r\n          });\r\n        } else if (status === 'ready') {\r\n          setPrinterStatus({\r\n            connected: printerStatus.connected,\r\n            ready: true,\r\n            busy: printerStatus.busy,\r\n            connecting: false\r\n          });\r\n        } else if (status === 'printing') {\r\n          setPrinterStatus({\r\n            connected: printerStatus.connected,\r\n            ready: false,\r\n            busy: printerStatus.busy,\r\n            connecting: false\r\n          });\r\n        } else if (status === 'completed') {\r\n          window.sessionStorage.removeItem('print_file_id');\r\n          window.sessionStorage.removeItem('print_file_name');\r\n          window.sessionStorage.removeItem('print_progress_percentage');\r\n          setLoadedFile({\r\n            id: null,\r\n            name: null\r\n          });\r\n        } else if (status === 'stopped') {\r\n          setPrinterStatus({\r\n            connected: printerStatus.connected,\r\n            ready: true,\r\n            busy: printerStatus.busy,\r\n            connecting: false\r\n          });\r\n        } else if (status === 'disconnected') {\r\n          setPrinterStatus({\r\n            connected: false,\r\n            ready: false,\r\n            busy: printerStatus.busy,\r\n            connecting: false\r\n          });\r\n        }\r\n      }\r\n  \r\n    });\r\n\r\n  }, [printStatus, printerStatus]);\r\n\r\n  const handlePlayButtonClick = (e) => {\r\n    emitEvent('printFile', window.sessionStorage.getItem('print_file_id'));\r\n    setPrinterStatus({\r\n      connected: printerStatus.connected,\r\n      ready: false,\r\n      busy: printerStatus.busy,\r\n      connecting: false\r\n    });\r\n  }\r\n\r\n  const handleStopButtonClick = (e) => {\r\n    setOpenConfirmStopDialog(true);\r\n  }\r\n\r\n  const handleStopCancel = (e) => {\r\n    setOpenConfirmStopDialog(false);\r\n  }\r\n\r\n  const handleStopConfirm = (e) => {\r\n    setOpenConfirmStopDialog(false);\r\n    emitEvent('cancelPrint');\r\n  }\r\n\r\n  const handleDeleteClick = () => {\r\n    window.sessionStorage.removeItem('print_file_id');\r\n    window.sessionStorage.removeItem('print_file_name');\r\n    setLoadedFile({\r\n      id: null,\r\n      name: null\r\n    });\r\n    emitEvent('deleteLoadedFile');\r\n  }\r\n\r\n  if (!printerStatusPromiseResolved || !loadedFilePromiseResolved) {\r\n    return (\r\n      <div>\r\n        <Spinner />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <Typography component=\"h5\" variant=\"h5\">\r\n              {props.printer.info.name}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color={printerStatus.connected || printerStatus.connecting ? 'textSecondary' : 'error'}>\r\n              {printerStatus.connected && !printerStatus.connecting ? 'Connected' : 'Not Connected'}\r\n              {printerStatus.connecting ? 'Connecting...' : ''}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\">\r\n              {printerStatus.connected ? (<span>&nbsp;-&nbsp;</span>) : (<span></span>)}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color={printStatus === 'stopping' ? 'error' : 'primary'}>\r\n              {printerStatus.connected ? !printerStatus.ready ? printStatus === 'stopping' ? 'Stopping...' : 'Printing...' : 'Ready' : (<div></div>)}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color={loadedFile.id !== null ? 'initial' : 'error'}>\r\n              { !printerStatus.connected || loadedFile.id !== null ? loadedFile.name : 'No file loaded' }\r\n            </Typography>\r\n           { printerStatus.connected && !printerStatus.ready ? (\r\n              <div>\r\n                <LinearProgress className={classes.progressbar} variant=\"determinate\" value={parseInt(printProgress)} />\r\n                <Typography variant=\"subtitle1\">\r\n                  { Math.floor(printProgress) === 0 ? 'loading...' : Math.floor(printProgress) + '%' }\r\n                </Typography>\r\n              </div>\r\n           ) : (<div></div>) }\r\n            { !printerStatus.connected || loadedFile.id !== null ? (<div></div>): (\r\n              <ButtonGroup className={classes.buttonGroup} color=\"primary\" aria-label=\"outlined primary button group\">\r\n                <Button>\r\n                  <Link to=\"/files\" className={classes.link} >\r\n                    Choose From Files\r\n                  </Link>\r\n                </Button>\r\n              </ButtonGroup>\r\n            )}\r\n          </CardContent>\r\n          <div className={classes.controls}>\r\n            {/* <IconButton aria-label=\"pause\" disabled={!printerStatus.ready && !printerStatus.busy}>\r\n              <PauseIcon />\r\n            </IconButton> */}\r\n\r\n            { (!printerStatus.connected && loadedFile.id !== null) || (printerStatus.ready && loadedFile.id !== null) ? (\r\n            <Tooltip title=\"Remove File\">\r\n              <span>\r\n                <IconButton className={classes.button} onClick={handleDeleteClick} aria-label=\"Delete\">\r\n                  <DeleteIcon fontSize=\"small\" />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>) : (<div></div>)}\r\n            \r\n            <Tooltip title=\"Start Printing\">\r\n              <span>\r\n                <IconButton aria-label=\"play\" disabled={!(printerStatus.connected && printerStatus.ready && loadedFile.id !== null)} onClick={handlePlayButtonClick}>\r\n                  <PlayArrowIcon className={classes.playIcon} />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n            <Tooltip title=\"Cancel\">\r\n              <span>\r\n                <IconButton aria-label=\"stop\" disabled={!(printerStatus.connected && !printerStatus.ready) || printStatus === 'stopping'} onClick={handleStopButtonClick}>\r\n                  <StopIcon />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n        {/* \r\n        <CardMedia\r\n          className={classes.cover}\r\n          image=\"/static/images/cards/live-from-space.jpg\"\r\n          title=\"Live from space album cover\"\r\n        />\r\n        */}\r\n      </Card>\r\n\r\n      <ConfirmStopDialog \r\n        open={openConfirmStopDialog} \r\n        itemName={loadedFile.name}\r\n        deleteType=\"file\"\r\n        onCancelDelete={handleStopCancel} \r\n        onConfirmDelete={handleStopConfirm} \r\n      />\r\n\r\n    </div>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const uploadService = {\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    method: 'POST',\r\n    headers: apiHelper.getFileUploadHeaders(),\r\n    body: body\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","export function checkFile(file) {\r\n  if (file.size % 4096 !== 0 && file.size !== 0 && file.name.indexOf('.') !== -1) {\r\n    \r\n    let parts = file.name.split('.');\r\n    let fileEnding = parts[parts.length - 1].toLowerCase();\r\n\r\n    if(fileEnding === 'gcode' || fileEnding === 'gco' || fileEnding === 'gc' || fileEnding === 'g') {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { checkFile } from '../helpers/upload.helper';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { emitEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  icon: {\r\n    fontSize: 125,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst UploadDialog = forwardRef((props, ref) => {\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [uploadStarted, setUploadStarted] = useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    },\r\n\r\n    setUpload(upload) {\r\n      if (checkFile(upload)) {\r\n        setFile(upload);\r\n      } else {\r\n        handleClose();\r\n        props.onBeforeUploadError({\r\n          type: 'error',\r\n          message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n        });\r\n      }\r\n    }\r\n\r\n  }));\r\n\r\n  const handleClose = () => {\r\n    setFile(null);\r\n    setOpen(false);\r\n  }\r\n\r\n  const handleFileDrop = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (checkFile(e.dataTransfer.files[0])) {\r\n      setFile(e.dataTransfer.files[0]);\r\n    } else {\r\n      handleClose();\r\n      props.onBeforeUploadError({\r\n        type: 'error',\r\n        message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const handleUploadButtonClick = () => {\r\n\r\n    if (file !== null) {\r\n\r\n      let body = new FormData();\r\n      body.append('file', file);\r\n      setUploadStarted(true);\r\n\r\n      uploadService.add(body)\r\n      .then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          filesHelper.setNextFile(data._id, data.originalname);\r\n          emitEvent('loadFile', {id: data._id, name: data.originalname});\r\n          props.onUploadFinish({\r\n            type: 'success',\r\n            message: 'File \"' + data.originalname + '\" successfully uploaded.'\r\n          });\r\n        } else {\r\n          props.onUploadFinish({\r\n            type: 'error',\r\n            message: 'Files of this type cannot be uploaded.'\r\n          });\r\n        }\r\n\r\n        setUploadStarted(false);\r\n\r\n        handleClose();\r\n\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div onDrop={handleFileDrop}>\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Upload Files\r\n            </Typography>\r\n            <Button color=\"inherit\" onClick={handleUploadButtonClick} disabled={uploadStarted}>\r\n              UPLOAD\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        { file !== null ? (\r\n          <List>             \r\n            <ListItem button>\r\n              <ListItemText primary={file.name} secondary={file.size / 1000 + ' KB'} />\r\n            </ListItem>\r\n            { uploadStarted ? (<LinearProgress className={classes.linearProgress} />) : (<Divider />) }\r\n          </List>\r\n\r\n        ) : (\r\n\r\n          <div className={classes.root}>\r\n            <Typography align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              <InsertDriveFileIcon className={classes.icon} />\r\n            </Typography>\r\n            <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              Drop your GCODE file here\r\n            </Typography>\r\n          </div>\r\n\r\n        )}\r\n\r\n      </Dialog>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default UploadDialog;","import React, { useState, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport ActionCard from '../components/actioncard.component';\r\nimport Status from '../components/status.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Home(props) {\r\n  const classes = useStyles();\r\n\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = () => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen}>\r\n        <Dashboard navTitle=\"Home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Welcome Back, {props.user.firstname + ' ' + props.user.lastname}.\r\n            </Typography>\r\n          </div>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Status printer={props.printer} />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Link to=\"/controls\" className={classes.link} >\r\n                    <ActionCard action=\"control\" title=\"Controls\" description=\"Print files, control the printer, move the axis\" />\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <div onClick={handleUploadFileClick}>\r\n                    <ActionCard action=\"upload\" title=\"Upload\" description=\"Add files to the printing list\" />\r\n                  </div>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link to=\"/files\" className={classes.link} >\r\n                    <ActionCard action=\"files\" title=\"Files\" description=\"View uploaded files, load files, print them again\" />\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <input\r\n            className={classes.inputFile}\r\n            id=\"fleUpload\"\r\n            name=\"fleUpload\"\r\n            onChange={ handleFleUploadChange }\r\n            type=\"file\"\r\n            ref={uploadField}\r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            ref={snackbar} \r\n          />\r\n\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 300,\r\n    height: 180,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'accounts') {\r\n    return (<SupervisorAccountIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'connection') {\r\n    return (<SignalCellularAltIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'info') {\r\n    return (<InfoIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'printer') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  }\r\n}\r\n\r\nexport default function SettingsCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h6\" component=\"h6\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport SettingsCard from '../components/settingscard.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Settings() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Settings\" backTo=\"home\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Settings\r\n        </Typography>\r\n      </div>\r\n      <Grid container className={classes.root} spacing={4}>\r\n        <Grid item xs={12}>\r\n          <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n            <Grid item>\r\n              <Link to=\"/settings/connection\" className={classes.link} >\r\n                <SettingsCard action=\"connection\" title=\"Connection\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/printer\" className={classes.link} >\r\n                <SettingsCard action=\"printer\" title=\"Printer\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/accounts\" className={classes.link} >\r\n                <SettingsCard action=\"accounts\" title=\"Accounts\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/info\" className={classes.link} >\r\n                <SettingsCard action=\"info\" title=\"Info\" />\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onCancelDelete}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Are you sure you want to delete the {props.deleteType} \"{props.deleteItemName}\"?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            This action cannot be undone.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirmDelete} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.onCancelDelete} autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import React from 'react';\r\n\r\nexport const accounts = { \r\n  new: false,\r\n  username: ''  \r\n};\r\nexport const AccountsContext = React.createContext(accounts);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport { Hidden, Tooltip } from '@material-ui/core';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AccountSettings(props) {\r\n  const classes = useStyles();\r\n  const accountsContext = useContext(AccountsContext);\r\n\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [update, setUpdate] = useState(false);\r\n\r\n  const snackbar = useRef();\r\n\r\n  useEffect(() => {\r\n    userService.getAll().then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setAccounts(data);\r\n        \r\n        if (accountsContext.new) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'User \"' + accountsContext.username + '\" successfully added.'\r\n          });\r\n          accountsContext.new = false;\r\n          accountsContext.username = '';\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n      setUserPromiseResolved(true);\r\n      setUpdate(false);\r\n    });\r\n  }, [accountsContext.new, accountsContext.username, update]);\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.username);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n\r\n    userService.remove(deleteItemId).then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUpdate(true);\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"settings\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Account Settings\r\n        </Typography>\r\n      </div>\r\n      <div className={classes.tableRoot}>\r\n        <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Accounts\r\n        </Typography>\r\n        { userPromiseResolved && accounts.length > 0 ? (\r\n          <Paper className={classes.table}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Username</TableCell>\r\n                  <Hidden xsDown={true}>\r\n                    <TableCell>Firstname</TableCell>\r\n                    <TableCell>Lastname</TableCell>\r\n                  </Hidden>\r\n                  <TableCell align=\"right\">Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n\r\n                {accounts.map(row => (\r\n                  <TableRow key={row._id}>\r\n                    <TableCell component=\"th\" scope=\"row\">\r\n                      {row.username}\r\n                    </TableCell>\r\n                    <Hidden xsDown={true}>\r\n                      <TableCell>{row.firstname}</TableCell>\r\n                      <TableCell>{row.lastname}</TableCell>\r\n                    </Hidden>\r\n                    <TableCell align=\"right\">\r\n                      <Tooltip title=\"Delete\">\r\n                        <IconButton onClick={() => handleDeleteClick(row)} aria-label=\"Delete\">\r\n                          <DeleteIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        ) : (\r\n          <Spinner/>\r\n        )}\r\n        \r\n        <Link to=\"/settings/accounts/add\" className={classes.link} >\r\n          <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab}>\r\n            <AddIcon />\r\n            Add User\r\n          </Fab>\r\n        </Link>\r\n      </div>\r\n\r\n      <DeleteDialog \r\n        open={openDeleteDialog} \r\n        deleteItemName={deleteItemName}\r\n        deleteType=\"user\"\r\n        onCancelDelete={handleDeleteCancel} \r\n        onConfirmDelete={handleDeleteConfirm} \r\n      />\r\n\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const connectionService = {\r\n  setConnection,\r\n  getConnection\r\n};\r\n\r\nasync function setConnection(body) {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getConnection() {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { connectionService } from '../services/connection.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function ConnectionSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n\r\n  const [txtPort, setTxtPort] = useState('');\r\n  const [txtBaudRate, setTxtBaudRate] = useState('');\r\n  const [txtPortError, setTxtPortError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtBaudRateError, setTxtBaudRateError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    connectionService.getConnection().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setTxtPort(data.port);\r\n        setTxtBaudRate(data.baudrate);\r\n      }\r\n\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleTxtPortChange(e) {\r\n    setTxtPort(e.target.value);\r\n    checkTxtPort(e.target.value);\r\n  }\r\n\r\n  function handleTxtBaudRateChange(e) {\r\n    setTxtBaudRate(e.target.value);\r\n    checkTxtBaudRate(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtPort(txtPort)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtBaudRate(txtBaudRate)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      connectionService.setConnection({\r\n        port: txtPort,\r\n        baudrate: txtBaudRate\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Connection details successfully set. The server will restart now.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n          setTimeout(() => {\r\n            console.log('restarting...');\r\n            window.location.reload();\r\n          }, 2000);\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtPort(port) {\r\n    if (validator.isEmpty(port)) {\r\n      setTxtPortError({\r\n        error: true,\r\n        message: 'Please enter a port.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPortError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPortError() {\r\n    setTxtPortError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtBaudRate(baudrate) {\r\n    if (validator.isEmpty(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Please enter a valid baudrate.'\r\n      });\r\n      return false;\r\n    } else if (!validator.isNumeric(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Baudrate must be a number.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtBaudRateError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtBaudRateError() {\r\n    setTxtBaudRateError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Connection Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Connection\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtPort\"\r\n                autoComplete=\"port\"\r\n                margin=\"normal\"\r\n                label=\"Port\"\r\n                variant=\"outlined\" \r\n                value={txtPort}\r\n                onChange={handleTxtPortChange}\r\n                error={txtPortError.error}\r\n                helperText={txtPortError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtBaudRate\"\r\n                autoComplete=\"Baudrate\"\r\n                margin=\"normal\"\r\n                label=\"Baudrate\"\r\n                variant=\"outlined\" \r\n                value={txtBaudRate}\r\n                onChange={handleTxtBaudRateChange}\r\n                error={txtBaudRateError.error}\r\n                helperText={txtBaudRateError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function AddAccount() {\r\n  const classes = useStyles();\r\n  const accounts = useContext(AccountsContext);\r\n  const snackbar = useRef();\r\n\r\n  const [userAdded, setUserAdded] = useState(false);\r\n  const [txtFirstname, setTxtFirstname] = useState('');\r\n  const [txtLastname, setTxtLastname] = useState('');\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [txtFirstnameError, setTxtFirstnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtLastnameError, setTxtLastnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  function handleTxtFirstnameChange(e) {\r\n    setTxtFirstname(e.target.value);\r\n    checkTxtFirstname(e.target.value);\r\n  }\r\n\r\n  function handleTxtLastnameChange(e) {\r\n    setTxtLastname(e.target.value);\r\n    checkTxtLastname(e.target.value);\r\n  }\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtFirstname(txtFirstname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtLastname(txtLastname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      userService.add({\r\n        firstname: txtFirstname,\r\n        lastname: txtLastname,\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        admin: true\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          accounts.new = true;\r\n          accounts.username = data.username;\r\n          setUserAdded({\r\n            success: true,\r\n            username: data.username\r\n          });\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtFirstname(firstname) {\r\n    if (validator.isEmpty(firstname)) {\r\n      setTxtFirstnameError({\r\n        error: true,\r\n        message: 'Please enter a firstname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtFirstnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtFirstnameError() {\r\n    setTxtFirstnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtLastname(lastname) {\r\n    if (validator.isEmpty(lastname)) {\r\n      setTxtLastnameError({\r\n        error: true,\r\n        message: 'Please enter a lastname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtLastnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtLastnameError() {\r\n    setTxtLastnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter a username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter a password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return userAdded ? (<Redirect exact to=\"/settings/accounts\"/>\r\n  ) : (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"accountsettings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Add Account\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtFirstname\"\r\n                autoComplete=\"firstname\"\r\n                margin=\"normal\"\r\n                label=\"Firstname\"\r\n                variant=\"outlined\" \r\n                value={txtFirstname}\r\n                onChange={handleTxtFirstnameChange}\r\n                error={txtFirstnameError.error}\r\n                helperText={txtFirstnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtLastname\"\r\n                autoComplete=\"Lastname\"\r\n                margin=\"normal\"\r\n                label=\"Lastname\"\r\n                variant=\"outlined\" \r\n                value={txtLastname}\r\n                onChange={handleTxtLastnameChange}\r\n                error={txtLastnameError.error}\r\n                helperText={txtLastnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                margin=\"normal\"\r\n                label=\"Username\"\r\n                variant=\"outlined\" \r\n                value={txtUsername}\r\n                onChange={handleTxtUsernameChange}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"password\"\r\n                name=\"txtPassword\"\r\n                autoComplete=\"password\"\r\n                margin=\"normal\"\r\n                label=\"Password\"\r\n                variant=\"outlined\" \r\n                value={txtPassword}\r\n                onChange={handleTxtPasswordChange}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n          <div className={classes.centering}>\r\n            <Button className={classes.button} onClick={() => {window.history.back()}} >Back</Button>\r\n          </div>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Hidden } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { filesHelper } from '../helpers/files.helper';\r\nimport { emitEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Files(props) {\r\n  const classes = useStyles();\r\n\r\n  const [uploads, setUploads] = useState([]);\r\n  const [uploadPromiseResolved, setUploadPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  useEffect(() => {\r\n    loadFiles();\r\n  }, []);\r\n\r\n  const loadFiles = () => {\r\n    uploadService.getAll().then((data) => {\r\n      \r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUploads(data);\r\n      }\r\n      setUploadPromiseResolved(true);\r\n    });\r\n  }\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.originalname);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n\r\n    uploadService.remove(deleteItemId).then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        loadFiles();\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message,\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = (e) => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    if (res.type !== 'success') {\r\n      setSnackbarMessage({\r\n        type: res.type,\r\n        message: res.message\r\n      }); \r\n      snackbar.current.handleOpen();\r\n    }\r\n\r\n    loadFiles();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handlePrintIconClick = (id, name) => {\r\n    filesHelper.setNextFile(id, name);\r\n    emitEvent('loadFile', {id: id, name: name});\r\n    setSnackbarMessage({\r\n      type: 'info',\r\n      message: '\"' + name + '\" is ready to be printed. You can make some adjustments in the control panel.',\r\n      printAction: true\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handlePrintNowClick = () => {\r\n    emitEvent('printFile', window.sessionStorage.getItem('print_file_id'));\r\n  }\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen} >\r\n        <Dashboard navTitle=\"Files\" backTo=\"home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Files\r\n            </Typography>\r\n          </div>\r\n          <div className={classes.tableRoot}>\r\n\r\n            { uploadPromiseResolved && uploads.length === 0 ? (\r\n              <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n                Upload some files to print them.\r\n              </Typography>\r\n            ) : uploadPromiseResolved && uploads.length > 0 ? (\r\n              <Paper className={classes.table}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Name</TableCell>\r\n                      <Hidden xsDown={true}>\r\n                        <TableCell>Size</TableCell>\r\n                      </Hidden>\r\n                      <TableCell align=\"right\">Actions</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {uploads.map(row => (\r\n                      <TableRow key={row._id}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row.originalname}\r\n                        </TableCell>\r\n                        <Hidden xsDown={true}>\r\n                          <TableCell>{(row.size / 1000) + ' KB'}</TableCell>\r\n                        </Hidden>\r\n                        <TableCell align=\"right\">\r\n                          <Tooltip title=\"Print\">\r\n                            <IconButton className={classes.button} aria-label=\"Print\" onClick={() => handlePrintIconClick(row._id, row.originalname)}>\r\n                              <PrintIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Download\">\r\n                            <IconButton className={classes.button} aria-label=\"Download\">\r\n                              <SaveAltIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Delete\">\r\n                            <IconButton className={classes.button} onClick={() => handleDeleteClick(row)} aria-label=\"Delete\">\r\n                              <DeleteIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            ) : !uploadPromiseResolved ? (\r\n              <Spinner/>\r\n            ) : ''}\r\n            \r\n            <input\r\n              className={classes.inputFile}\r\n              id=\"fleUpload\"\r\n              name=\"fleUpload\"\r\n              onChange={ handleFleUploadChange }\r\n              type=\"file\"\r\n              ref={uploadField}\r\n            />\r\n\r\n            <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={handleUploadFileClick}>\r\n              <AddIcon />\r\n              Upload File\r\n            </Fab>\r\n          </div>\r\n\r\n          <DeleteDialog \r\n            open={openDeleteDialog} \r\n            deleteItemName={deleteItemName}\r\n            deleteType=\"file\"\r\n            onCancelDelete={handleDeleteCancel} \r\n            onConfirmDelete={handleDeleteConfirm} \r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            printAction={snackbarMessage.printAction}\r\n            handlePrintNowClick={handlePrintNowClick}\r\n            ref={snackbar} \r\n          />\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Button from '@material-ui/core/Button';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nimport { printerService } from '../services/printer.service';\r\nimport { subscribeToEvent, unsubscribeFromEvent, emitEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function AxisControls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [selectedLength, setSelectedLength] = useState(10);\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printerStatusPromiseResolved, setPrinterStatusPromiseResolved] = useState(false);\r\n\r\n  const handleSelectedLengthClick = (b) => {\r\n    setSelectedLength(b);\r\n  }\r\n\r\n  useEffect(() => {\r\n    printerService.getStatus().then((data) => {\r\n      setPrinterStatus(data);\r\n      setPrinterStatusPromiseResolved(true);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    subscribeToEvent('printStatus', (status) => {\r\n      if (status !== 'ready' && status !== 'connected') {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: false,\r\n          busy: printerStatus.busy\r\n        });\r\n      } else {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: true,\r\n          busy: printerStatus.busy\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('printStatus');\r\n    }\r\n\r\n  })\r\n\r\n  const handleMoveButtonClick = (direction) => {\r\n    emitEvent(direction, selectedLength);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n\r\n        {/* XY */}\r\n        <Grid container item sm={6} spacing={1}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveForward')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveLeft')}>\r\n                <KeyboardArrowLeftIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveXYHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveRight')}>\r\n                <KeyboardArrowRightIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveBack')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Z */}\r\n        <Grid container item spacing={1} sm={6}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveUp')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveZHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} className={classes.button} onClick={() => handleMoveButtonClick('moveDown')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n      <Grid className={classes.lengthSet} container justify=\"center\">\r\n        <ButtonGroup\r\n          size=\"large\"\r\n          variant=\"contained\"\r\n          aria-label=\"large contained button group\"\r\n          disabled={!printerStatusPromiseResolved || !printerStatus.ready}\r\n        >\r\n          <Button color={ selectedLength === 1 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(1)}>1mm</Button>\r\n          <Button color={ selectedLength === 10 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(10)}>10mm</Button>\r\n          <Button color={ selectedLength === 100 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(100)}>100mm</Button>\r\n        </ButtonGroup>\r\n        </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { printerService } from '../services/printer.service';\r\nimport { subscribeToEvent, emitEvent } from '../services/socket.service';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  settingsButton: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  card: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ControlSettings(props) {\r\n  const classes = useStyles();\r\n\r\n  const [fanState, setFanState] = useState(0);\r\n  const [numFanSpeed, setNumFanSpeed] = useState('');\r\n  const [numLength, setNumLength] = useState('');\r\n  const [numTemperature, setNumTemperature] = useState('');\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printerStatusPromiseResolved, setPrinterStatusPromiseResolved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    printerService.getStatus().then((data) => {\r\n      setPrinterStatus(data);\r\n      setPrinterStatusPromiseResolved(true);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    subscribeToEvent('printStatus', (status) => {\r\n      if (status !== 'ready' && status !== 'connected') {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: false,\r\n          busy: printerStatus.busy\r\n        });\r\n      } else {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: true,\r\n          busy: printerStatus.busy\r\n        });\r\n      }\r\n    });\r\n\r\n  }, [printerStatus]);\r\n\r\n  const handleFanState = (state) => {\r\n    setFanState(state);\r\n\r\n    if (state === 0) {\r\n      emitEvent('fanOff');\r\n    } else {\r\n      emitEvent('fanOn', numFanSpeed);\r\n    }\r\n\r\n  }\r\n\r\n  const handleNumFanSpeedChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumFanSpeed(null);\r\n    }\r\n\r\n    if (e.target.value > 0 && e.target.value <= 100) {\r\n      setNumFanSpeed(e.target.value);\r\n      if (fanState === 1) {\r\n        emitEvent('fanOn', numFanSpeed);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleNumLengthChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumLength('');\r\n    }\r\n\r\n    if (e.target.value > 0 && e.target.value <= 300) {\r\n      setNumLength(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleNumTemperatureChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumTemperature('');\r\n    } else if (e.target.value >= 0 && e.target.value <= 300) {\r\n      setNumTemperature(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleExtrudeClick = () => {\r\n    emitEvent('extrude', numLength);\r\n  }\r\n\r\n  const handleRetractClick = () => {\r\n    emitEvent('retract', numLength);\r\n  }\r\n\r\n  const handleSetHeatbedClick = () => {\r\n    emitEvent('setHeatbedTemperature', numTemperature);\r\n  }\r\n\r\n  const handleSetHotendClick = () => {\r\n    emitEvent('setHotendTemperature', numTemperature);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Fan\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"fanSpeed\"\r\n                  className={classes.textField}\r\n                  label=\"Speed (%)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumFanSpeedChange}\r\n                  value={numFanSpeed}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" color={ fanState === 1 ? 'primary' : 'default'} onClick={() => handleFanState(1)} fullWidth>On</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" color={ fanState === 0 ? 'primary' : 'default'} onClick={() => handleFanState(0)} fullWidth>Off</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Extrude/Retract\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"length\"\r\n                  className={classes.textField}\r\n                  label=\"Length (mm)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumLengthChange}\r\n                  value={numLength}\r\n                  disabled={!printerStatusPromiseResolved || !printerStatus.ready}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} size=\"small\" fullWidth onClick={handleExtrudeClick}>Extrude</Button></div>\r\n              <div><Button variant=\"contained\" disabled={!printerStatusPromiseResolved || !printerStatus.ready} size=\"small\" fullWidth onClick={handleRetractClick}>Retract</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Temperature\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"temp\"\r\n                  className={classes.textField}\r\n                  label=\"Temperature (C)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumTemperatureChange}\r\n                  value={numTemperature}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHeatbedClick}>Set Heatbed</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHotendClick}>Set Hotend</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { subscribeToEvent, emitEvent, unsubscribeFromEvent } from '../services/socket.service';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 800,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  gridItem: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n    },\r\n  },\r\n  button: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      padding: '15.5px 14px',\r\n    },\r\n  },\r\n  logBox: {\r\n    height: 300,\r\n    marginBottom: '16px',\r\n    borderRadius: 5,\r\n    background: '#e0e0e0',\r\n    fontFamily: 'Consolas',\r\n    padding: '10px',\r\n    color: '#000000',\r\n    textAlign: 'left',\r\n    overflowY: 'scroll',\r\n  },\r\n}));\r\n\r\nexport default function Console(props) {\r\n  const classes = useStyles();\r\n\r\n  const [txtCommand, setTxtCommand] = useState('');\r\n  const [log, setLog] = useState([]);\r\n\r\n  const logBox = useRef();\r\n\r\n\r\n  useEffect(() => {\r\n    subscribeToEvent('printConsoleLog', (consoleLog) => {\r\n\r\n      const consoleLogWithId = [];\r\n\r\n      for(let i = 0; i < consoleLog.length; i++) {\r\n        consoleLogWithId.push({id: i, text: consoleLog[i]});\r\n      }\r\n\r\n      setLog(consoleLogWithId);\r\n      logBox.current.scrollTop = logBox.current.scrollHeight;\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent('printConsoleLog');\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleTxtCommandChange = (e) => {\r\n    setTxtCommand(e.target.value);\r\n  }\r\n\r\n\r\n  const handleBtnSendClick = (e) => {\r\n    if (txtCommand !== '') {\r\n      emitEvent('sendManualCommand', txtCommand);\r\n    }\r\n  }\r\n\r\n  const handleEnterKeyDown = (e) => {\r\n    if (e.key === 'Enter' && txtCommand !== '') {\r\n      emitEvent('sendManualCommand', txtCommand);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <div className={classes.logBox} ref={logBox}>\r\n              { log.map(cLog => (\r\n                <span key={cLog.id}>{cLog.text}<br/></span>\r\n              ))}\r\n            </div>\r\n            <Grid container spacing={1} justify=\"center\">\r\n              <Grid item sm={10} className={classes.gridItem}>\r\n                <TextField\r\n                  id=\"command\"\r\n                  className={classes.textField}\r\n                  label=\"Command\"\r\n                  variant=\"outlined\"\r\n                  type=\"text\"\r\n                  fullWidth\r\n                  onChange={handleTxtCommandChange}\r\n                  value={txtCommand}\r\n                  onKeyDown={handleEnterKeyDown}\r\n                />\r\n              </Grid>  \r\n              <Grid item sm={2} className={classes.gridItem}>\r\n                <Button className={classes.button} variant=\"contained\" color=\"primary\" fullWidth onClick={handleBtnSendClick}>Send</Button>\r\n              </Grid>            \r\n            </Grid>            \r\n          </CardContent>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Status from '../components/status.component';\r\nimport AxisControls from '../components/axiscontrols.component';\r\nimport ControlSettings from '../components/controlsettings.component';\r\nimport Console from '../components/console.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  controlWindow: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  listItem: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nexport default function Controls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [openAxisControls, setOpenAxisControls] = useState(true);\r\n  const [openControlSettings, setOpenControlSettings] = useState(false);\r\n  const [openConsole, setOpenConsole] = useState(false);\r\n\r\n  const handleOpenAxisControl = () => {\r\n    setOpenAxisControls(!openAxisControls);\r\n  }\r\n\r\n  const handleOpenControlSettings = () => {\r\n    setOpenControlSettings(!openControlSettings);\r\n  }\r\n\r\n  const handleOpenConsole = () => {\r\n    setOpenConsole(!openConsole);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dashboard navTitle=\"Controls\" backTo=\"home\">\r\n        <div className={classes.heroContent}>\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            Controls\r\n          </Typography>\r\n        </div>\r\n        <Grid container className={classes.root} spacing={4}>\r\n          <Grid item xs={12}>\r\n            <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n              <Grid item>\r\n                <Status printer={props.printer} />\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <List>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenConsole}>\r\n            <ListItemText primary=\"Console\" secondary=\"Watch the log and send manual commands\" />\r\n            {openConsole ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openConsole} timeout=\"auto\">\r\n            <div className={classes.controlWindow}>\r\n              <Grid container className={classes.root} spacing={4}>\r\n                <Grid item xs={12}>\r\n                  <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                    <Grid item>\r\n                      <Console />\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenControlSettings}>\r\n            <ListItemText primary=\"Control Settings\" secondary=\"Set the fan speed, the temperature and extrude or retract\" />\r\n            {openControlSettings ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openControlSettings} timeout=\"auto\" unmountOnExit>\r\n            <div className={classes.controlWindow}>\r\n              <ControlSettings />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenAxisControl}>\r\n            <ListItemText primary=\"Axis Controls\" secondary=\"Move the axis of the printer\" />\r\n            {openAxisControls ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openAxisControls} timeout=\"auto\" unmountOnExit>\r\n            <div className={classes.controlWindow}>\r\n              <AxisControls />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n        </List>\r\n\r\n      </Dashboard>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Dashboard from '../components/dashboard.component';\r\n\r\nexport default function Info() {\r\n  return (\r\n    <Dashboard navTitle=\"Info\" backTo=\"settings\">\r\n      Info page\r\n    </Dashboard>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport Logo from '../images/icon-blue.svg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  linearProgress: {\r\n    marginTop: 50,\r\n    margin: '0 25%',\r\n  },\r\n}));\r\n\r\nexport default function LoadingWithIcon() {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <img src={Logo} alt=\"Logo\" width={150} />\r\n      <LinearProgress className={classes.linearProgress} />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport const printer = { status: null, setStatus: () => {}, info: null, setInfo: () => {} }\r\nexport const PrinterContext = React.createContext(printer);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { printerService } from '../services/printer.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { PrinterContext } from '../contexts/printer.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function PrinterSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n  const printer = useContext(PrinterContext);\r\n\r\n  const [txtName, setTxtName] = useState('');\r\n  const [txtNameError, setTxtNameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    printerService.getInfo().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setTxtName(data.name);\r\n      }\r\n\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleTxtNameChange(e) {\r\n    setTxtName(e.target.value);\r\n    checkTxtName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtName(txtName)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      printerService.setInfo({\r\n        name: txtName,\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          printer.setInfo({\r\n            name: data.name\r\n          });\r\n\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Printer Details successfully set.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtName(name) {\r\n    if (validator.isEmpty(name)) {\r\n      setTxtNameError({\r\n        error: true,\r\n        message: 'Please enter a name.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtNameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtNameError() {\r\n    setTxtNameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Printer Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Printer Details\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtName\"\r\n                autoComplete=\"name\"\r\n                margin=\"normal\"\r\n                label=\"Name\"\r\n                variant=\"outlined\" \r\n                value={txtName}\r\n                onChange={handleTxtNameChange}\r\n                error={txtNameError.error}\r\n                helperText={txtNameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport Login from './pages/login.page';\r\nimport Home from './pages/home.page';\r\nimport Settings from './pages/settings.page';\r\nimport AccountSettings from './pages/accountsettings.page';\r\nimport ConnectionSettings from './pages/connectionsettings.page';\r\nimport AddAccount from './pages/addaccount.page';\r\nimport Files from './pages/files.page';\r\nimport Controls from './pages/controls.page';\r\nimport Info from './pages/info.page';\r\nimport LoadingWithIcon from './pages/loading.page';\r\n\r\nimport { userService } from './services/users.service';\r\nimport { printerService } from './services/printer.service';\r\nimport { UserContext } from './contexts/user.context';\r\nimport { PrinterContext } from './contexts/printer.context';\r\nimport { ThemeContext } from './contexts/theme.context';\r\nimport PrinterSettings from './pages/printersettings.page';\r\n\r\n\r\n//create consistent theme styling for app\r\nconst theme_light = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'light'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nconst theme_dark = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'dark'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nfunction RedirectToLogin() {\r\n  return (\r\n    <Redirect exact to=\"/login\" />\r\n  );\r\n}\r\n\r\nfunction App() {\r\n\r\n  const [authorized, setAuthorized] = useState(window.localStorage.getItem('token') !== null ? true : false);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printerInfo, setPrinterInfo] = useState({});\r\n  const [themeStyle, setThemeStyle] = useState(window.localStorage.getItem('themeMode') !== null ? window.localStorage.getItem('themeMode') : 'light');\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage.getItem('token') !== null) {\r\n\r\n      printerService.getStatus().then((data) => {\r\n        setPrinterStatus(data);\r\n      });\r\n      \r\n      userService.lookup().then((data) => {\r\n\r\n        if (data._id === undefined) {\r\n          setAuthorized(false);\r\n          setUser({\r\n            authorized: false\r\n          });\r\n          setUserPromiseResolved(true);\r\n        } else {\r\n          setAuthorized(true);\r\n          data.authorized = true;\r\n          setUser(data);\r\n          setUserPromiseResolved(true);\r\n        }\r\n\r\n      });\r\n\r\n      printerService.getInfo().then((data) => {\r\n        setPrinterInfo(data);\r\n      });\r\n\r\n    } else {\r\n      setUser({\r\n        authorized: false\r\n      });\r\n      setUserPromiseResolved(true);\r\n    }\r\n\r\n  }, []);\r\n\r\n  // if data has not been fetched yet\r\n  if (!userPromiseResolved) {\r\n    return (\r\n      <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n        <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n          <CssBaseline />\r\n          <LoadingWithIcon />\r\n        </MuiThemeProvider>\r\n      </ThemeContext.Provider>\r\n    );\r\n  }\r\n\r\n  // otherwise\r\n  return (\r\n    <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n      <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n        <UserContext.Provider value={user}>\r\n          <PrinterContext.Provider value={{ status: printerStatus, setStatus: setPrinterStatus, info: printerInfo, setInfo: setPrinterInfo }}>\r\n            <Router>\r\n              <div>\r\n                <CssBaseline />\r\n\r\n                { authorized ? (\r\n                  <div>                          \r\n                    <UserContext.Consumer>\r\n                      {user => (\r\n                        <PrinterContext.Consumer>\r\n                          \r\n                          {printer => (\r\n                            <div>\r\n                              <Route exact path=\"/\" render={ props => (                        \r\n                                <Home user={user} printer={printer} />        \r\n                              )} />\r\n  \r\n                              <Route exact path=\"/controls\" render={ props => (\r\n                                <Controls printer={printer} />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/files\" render={ props => (\r\n                                <Files />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings\" render={ props => (\r\n                                <Settings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/connection\" render={ props => (\r\n                                <ConnectionSettings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/printer\" render={ props => (\r\n                                <PrinterSettings />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/accounts\" render={ props => (\r\n                                <AccountSettings {...props} />\r\n                              )} />\r\n  \r\n                              <Route exact path=\"/settings/accounts/add\" render={ props => (\r\n                                <AddAccount {...props} />\r\n                              )} />\r\n\r\n                              <Route exact path=\"/settings/info\" render={ props => (\r\n                                <Info {...props} />\r\n                              )} />\r\n                            </div>\r\n                          )}\r\n\r\n                        </PrinterContext.Consumer> \r\n                      )}\r\n                    </UserContext.Consumer>\r\n                  </div>\r\n                ) : (<RedirectToLogin />)\r\n                }\r\n\r\n                <Route exact path=\"/login\" render={ props => (\r\n                  <UserContext.Consumer>\r\n                    { user => (\r\n                      <Login user={user} />\r\n                    )}\r\n                  </UserContext.Consumer>\r\n                )} />\r\n\r\n              </div>\r\n            </Router>\r\n          </PrinterContext.Provider>\r\n        </UserContext.Provider>\r\n      </MuiThemeProvider>\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}