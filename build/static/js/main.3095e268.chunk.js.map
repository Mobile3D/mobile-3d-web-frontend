{"version":3,"sources":["images/icon-white.svg","images/icon-blue.svg","helpers/api.helper.js","services/users.service.js","contexts/user.context.js","components/snackbar.component.js","pages/login.page.js","contexts/theme.context.js","components/sidedrawer.component.js","components/navbar.component.js","components/dashboard.component.js","components/actioncard.component.js","services/printer.service.js","components/spinner.component.js","components/status.component.js","services/uploads.service.js","helpers/upload.helper.js","components/uploaddialog.component.js","pages/home.page.js","components/settingscard.component.js","pages/settings.page.js","components/deletedialog.component.js","contexts/accounts.context.js","pages/accountsettings.page.js","services/connection.service.js","pages/connectionsettings.page.js","pages/addaccount.page.js","pages/files.page.js","components/axiscontrols.component.js","components/controlsettings.component.js","components/console.component.js","pages/controls.page.js","pages/info.page.js","pages/loading.page.js","contexts/printer.context.js","contexts/socket.context.js","pages/printersettings.page.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","apiHelper","getUrl","window","location","host","split","getDefaultHeaders","Content-Type","getHeaders","Authorization","localStorage","getItem","getFileUploadHeaders","checkToken","error","code","reload","checkAuth","sessionStorage","checkResponse","data","undefined","valid","type","message","userService","login","lookup","add","getAll","get","remove","_callee","body","regenerator_default","a","wrap","_context","prev","next","abrupt","fetch","method","headers","JSON","stringify","then","res","json","stop","_callee2","_context2","_callee3","_context3","_callee4","_context4","_callee5","id","_context5","_callee6","_context6","UserContext","React","createContext","authorized","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","useStyles1","makeStyles","theme","backgroundColor","green","palette","dark","primary","main","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","display","alignItems","MySnackbarContentWrapper","props","classes","className","onClose","variant","other","Object","objectWithoutProperties","Icon","react_default","createElement","SnackbarContent","assign","clsx","aria-describedby","action","IconButton","key","aria-label","color","onClick","Close_default","CustomizedSnackbar","forwardRef","ref","_React$useState","useState","_React$useState2","slicedToArray","open","setOpen","handleClose","event","reason","useImperativeHandle","handleOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","printAction","Button","handlePrintNowClick","useStyles","root","height","image","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","paper","margin","flexDirection","avatar","width","form","marginTop","submit","Login","user","useContext","_useState","_useState2","txtUsername","setTxtUsername","_useState3","_useState4","txtPassword","setTxtPassword","_useState5","_useState6","chkRememberMe","setChkRememberMe","_useState7","_useState8","txtUsernameError","setTxtUsernameError","_useState9","_useState10","txtPasswordError","setTxtPasswordError","_useState11","_useState12","snackbarMessage","setSnackbarMessage","snackbar","useRef","checkTxtUsername","username","validator","isEmpty","checkTxtPassword","password","react_router","exact","to","Grid","container","component","CssBaseline","item","xs","sm","md","lg","Paper","elevation","square","Avatar","src","Logo","alt","Typography","onSubmit","e","preventDefault","remember","responseCheck","setItem","token","current","noValidate","TextField","required","fullWidth","label","name","autoComplete","autoFocus","onChange","target","value","helperText","FormControlLabel","control","Checkbox","snackbar_component","ThemeContext","themeStyle","setThemeStyle","list","orangeAvatar","deepOrange","pinkAvatar","pink","link","textDecoration","text","&:focus","&:active","SideDrawer","themeContext","handleLogout","removeItem","handleDarkModeClick","Consumer","Drawer","onDrawerClose","tabIndex","role","List","ListItem","button","ListItemAvatar","firstname","substr","ListItemText","lastname","Divider","react_router_dom","selected","selectedPage","ListItemIcon","Home_default","ControlCamera_default","Folder_default","NightsStay_default","NightsStayOutlined_default","Settings_default","PowerSettingsNew_default","flexGrow","grow","menuButton","marginLeft","search","defineProperty","position","borderRadius","shape","fade","common","white","&:hover","breakpoints","up","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","Navbar","showDrawer","setShowDrawer","AppBar","Toolbar","backTo","ArrowBack_default","Menu_default","title","Dashboard","navTitle","children","cardActionArea","down","pos","marginBottom","SelectIcon","Print_default","style","CloudUpload_default","Launch_default","ActionCard","Card","CardActionArea","CardContent","align","description","CardActions","printerService","setInfo","getInfo","getStatus","getProgress","textAlign","transform","left","right","Spinner","CircularProgress","_root","controls","playIcon","buttonGroup","Status","loadedFile","setLoadedFile","printerStatus","setPrinterStatus","printStatus","setPrintStatus","printerStatusPromiseResolved","setPrinterStatusPromiseResolved","useEffect","socket","on","status","connected","ready","busy","connecting","card","details","content","printer","ButtonGroup","Tooltip","Delete_default","disabled","emit","PlayArrow_default","Stop_default","uploadService","checkFile","file","size","indexOf","parts","fileEnding","length","toLowerCase","top","appBar","flex","Transition","Slide","direction","UploadDialog","setFile","uploadStarted","setUploadStarted","setUpload","upload","onBeforeUploadError","onDrop","dataTransfer","files","Dialog","fullScreen","TransitionComponent","edge","FormData","append","onUploadFinish","originalname","secondary","LinearProgress","linearProgress","gutterBottom","InsertDriveFile_default","fullscreen","options","heroContent","maxWidth","padding","concat","inputFile","Home","uploadDialog","uploadField","onDragOver","justify","click","uploaddialog_component","SupervisorAccount_default","SignalCellularAlt_default","Info_default","SettingsCard","settingscard_component_SelectIcon","Settings","AlertDialog","onCancelDelete","aria-labelledby","DialogTitle","deleteType","deleteItemName","DialogContent","DialogContentText","DialogActions","onConfirmDelete","AccountsContext","new","tableRoot","table","fab","bottom","zIndex","centering","AccountSettings","accountsContext","accounts","setAccounts","userPromiseResolved","setUserPromiseResolved","setDeleteItemName","deleteItemId","setDeleteItemId","openDeleteDialog","setOpenDeleteDialog","_useState13","_useState14","update","setUpdate","Table","TableHead","TableRow","TableCell","Hidden","xsDown","TableBody","map","row","_id","scope","handleDeleteClick","Fab","Add_default","connectionService","setConnection","getConnection","textField","ConnectionSettings","txtPort","setTxtPort","txtBaudRate","setTxtBaudRate","txtPortError","setTxtPortError","txtBaudRateError","setTxtBaudRateError","checkTxtPort","port","checkTxtBaudRate","baudrate","isNumeric","paragraph","setTimeout","console","log","FormControl","AddAccount","userAdded","setUserAdded","txtFirstname","setTxtFirstname","txtLastname","setTxtLastname","txtFirstnameError","setTxtFirstnameError","txtLastnameError","setTxtLastnameError","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","checkTxtFirstname","checkTxtLastname","admin","history","back","Files","uploads","setUploads","uploadPromiseResolved","setUploadPromiseResolved","loadFiles","SaveAlt_default","lengthSet","AxisControls","selectedLength","setSelectedLength","handleSelectedLengthClick","b","handleMoveButtonClick","KeyboardArrowUp_default","KeyboardArrowLeft_default","KeyboardArrowRight_default","KeyboardArrowDown_default","settingsButton","ControlSettings","fanState","setFanState","numFanSpeed","setNumFanSpeed","numLength","setNumLength","numTemperature","setNumTemperature","handleFanState","state","gridItem","logBox","background","fontFamily","overflowY","Console","txtCommand","setTxtCommand","logCount","setLogCount","setLog","shift","toConsumableArray","controlWindow","listItem","Controls","openAxisControls","setOpenAxisControls","openControlSettings","setOpenControlSettings","openConsole","setOpenConsole","ExpandLess_default","ExpandMore_default","Collapse","in","timeout","unmountOnExit","Info","LoadingWithIcon","PrinterContext","setStatus","io","query","SocketContext","PrinterSettings","txtName","setTxtName","txtNameError","setTxtNameError","checkTxtName","theme_light","createMuiTheme","typography","useNextVariants","theme_dark","RedirectToLogin","App","setAuthorized","setUser","printerInfo","setPrinterInfo","Provider","MuiThemeProvider","path","render","home_page_Home","settings_page_Settings","info_page_Info","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","src_App","document","getElementById","URL","process","href","origin","addEventListener","response","contentType","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3095e268.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-white.3260c5c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-blue.5757a8ee.svg\";","export const apiHelper = {\r\n  getUrl,\r\n  getDefaultHeaders,\r\n  getHeaders,\r\n  getFileUploadHeaders,\r\n  checkToken,\r\n  checkAuth\r\n};\r\n\r\nfunction getUrl() {\r\n  return 'http://' + window.location.host.split(':')[0] + ':4000/api/v1';\r\n}\r\n\r\nfunction getDefaultHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n  }\r\n}\r\n\r\nfunction getHeaders() {\r\n  return {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction getFileUploadHeaders() {\r\n  return {\r\n    'Authorization': 'Bearer ' + window.localStorage.getItem('token'),\r\n  }\r\n}\r\n\r\nfunction checkToken(error) {\r\n  if (error.code === 'ER_TOKEN_EXPIRED') {\r\n    window.location.reload();\r\n  }\r\n}\r\n\r\nfunction checkAuth() {\r\n  if (window.localStorage.getItem('token') !== null || window.sessionStorage.getItem('token') !== null) {\r\n    return true;\r\n  } \r\n  return false;\r\n}\r\n\r\nexport function checkResponse(data) {\r\n  if (data.error === undefined) return { valid: true };\r\n  else {\r\n\r\n    if (data.error.code === 'ER_MISSING_PARAMS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Some parameters are missing.'\r\n      };\r\n    } else if (data.error.code === 'ER_USERNAME_TAKEN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The username you entered is already taken.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested user could not be found.'\r\n      };\r\n    } else if (data.error.code === 'ER_INVALID_LOGIN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Your username or password is invalid.'\r\n      };\r\n    } else if (data.error.code === 'ER_UNAUTHORIZED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You need to be signed in to use this service.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOKEN_EXPIRED') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'This session expired. Please reload the page and sign in again.'\r\n      };\r\n    } else if (data.error.code === 'ER_UPLOAD_NOT_FOUND') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'The requested upload could not be found. Please try to reload the page.'\r\n      };\r\n    } else if (data.error.code === 'ER_USER_TO_DELETE_SIGNED_IN') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'You cannot delete yourself.'\r\n      };\r\n    } else if (data.error.code === 'ER_TOO_MANY_REQUESTS') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'Too many requests. Please wait a few seconds and try again.'\r\n      };\r\n    } else if (data.error.code === 'ER_INTERNAL') {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An internal error occured. Please try again in a few seconds.'\r\n      };\r\n    } else {\r\n      return {\r\n        valid: false,\r\n        type: 'error',\r\n        message: 'An unknown error occured. Please try to reload the page.'\r\n      };\r\n    }\r\n  }\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const userService = {\r\n  login,\r\n  lookup,\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function login(body) {\r\n  return fetch(apiHelper.getUrl() + '/auth/login', {\r\n    method: 'POST',\r\n    headers: apiHelper.getDefaultHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function lookup() {\r\n  return fetch(apiHelper.getUrl() + '/user', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/users', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/users/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\n\r\nexport const user = { authorized: false }\r\nexport const UserContext = React.createContext(user);\r\n\r\nexport function checkAuth() {\r\n  if (window.localStorage.getItem('token') === null || window.sessionStorage.getItem('token') === null) {\r\n    window.location.reload();\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst useStyles1 = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nfunction MySnackbarContentWrapper(props) {\r\n  const classes = useStyles1();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nMySnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\r\n};\r\n\r\nconst CustomizedSnackbar = forwardRef((props, ref) => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    }\r\n\r\n  }));\r\n\r\n  function handleClose(event, reason) {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n      >\r\n        { props.printAction ? (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n            action={(<Button color=\"secondary\" onClick={props.handlePrintNowClick}>\r\n              Print Now\r\n            </Button>)}\r\n          />\r\n        ) : (\r\n          <MySnackbarContentWrapper\r\n            onClose={handleClose}\r\n            variant={props.variant}\r\n            message={props.message}\r\n          />\r\n        )}\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default CustomizedSnackbar;","import React, { useState, useContext, useRef } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Redirect } from 'react-router-dom';\r\nimport validator from 'validator';\r\n\r\nimport Logo from '../images/icon-white.svg';\r\nimport { userService } from '../services/users.service';\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(images/login-bg.jpg)',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main,\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const user = useContext(UserContext);\r\n\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [chkRememberMe, setChkRememberMe] = useState(false);\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const snackbar = useRef();\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleChkRememberMeChange(e) {\r\n    setChkRememberMe(!chkRememberMe);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    let valid = true;\r\n\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      \r\n      userService.login({\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        remember: chkRememberMe\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n        \r\n        if (responseCheck.valid) {\r\n          window.localStorage.setItem('token', data.token);\r\n          window.location.reload();\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter your username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter your password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  // loading\r\n  if (user.authorized === undefined) {\r\n    return (<div></div>);\r\n  } else if (user.authorized) {\r\n    return (<Redirect exact to=\"/\" />);\r\n  } else {\r\n    return (\r\n      <Grid container component=\"main\" className={classes.root}>\r\n        <CssBaseline />\r\n        <Grid item xs={false} sm={5} md={7} lg={8} className={classes.image} />\r\n        <Grid item xs={12} sm={7} md={5} lg={4} component={Paper} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <img src={Logo} alt=\"Logo\" width={27} />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign In\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"txtUsername\"\r\n                label=\"Username\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                autoFocus\r\n                onChange={handleTxtUsernameChange}\r\n                value={txtUsername}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"txtPassword\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"txtPassword\"\r\n                autoComplete=\"current-password\"\r\n                onChange={handleTxtPasswordChange}\r\n                value={txtPassword}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n              />\r\n              <FormControlLabel\r\n                control={<Checkbox color=\"primary\" onChange={handleChkRememberMeChange} value={chkRememberMe} />}\r\n                label=\"Remember me\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n              { /*}\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n              */}\r\n            </form>\r\n          </div>\r\n        </Grid>\r\n        <Snackbar \r\n          message={snackbarMessage.message} \r\n          variant={snackbarMessage.type}\r\n          ref={snackbar} \r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport const theme = { themeStyle: 'light', setThemeStyle: () => {} };\r\n\r\nexport const ThemeContext = React.createContext(theme);","import React, { useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport deepOrange from '@material-ui/core/colors/deepOrange';\r\nimport pink from '@material-ui/core/colors/pink';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport NightsStayIcon from '@material-ui/icons/NightsStay';\r\nimport NightsStayOutlinedIcon from '@material-ui/icons/NightsStayOutlined';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { UserContext } from '../contexts/user.context';\r\nimport { ThemeContext } from '../contexts/theme.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  list: {\r\n    width: 250,\r\n  },\r\n  orangeAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  pinkAvatar: {\r\n    margin: 10,\r\n    color: '#fff',\r\n    backgroundColor: pink[400],\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.text.primary,\r\n    '&:focus': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n    '&:active': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SideDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const themeContext = useContext(ThemeContext);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.reload();\r\n  }\r\n\r\n  const handleDarkModeClick = () => {\r\n    if (themeContext.themeStyle === 'light') {\r\n      themeContext.setThemeStyle('dark');\r\n      window.localStorage.setItem('themeMode', 'dark');\r\n    } else {\r\n      themeContext.setThemeStyle('light');\r\n      window.localStorage.setItem('themeMode', 'light');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserContext.Consumer>\r\n      {user => (\r\n        <Drawer open={props.open} onClose={ props.onDrawerClose }>\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n          >\r\n            <div className={classes.list}>\r\n              <List>\r\n                <ListItem button>\r\n                  <ListItemAvatar>\r\n                    <Avatar className={classes.pinkAvatar}>{user.firstname === undefined ? '' : user.firstname.substr(0, 1)}</Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={user.firstname + ' ' + user.lastname}\r\n                  />\r\n                </ListItem>\r\n              </List>\r\n              <Divider />\r\n              <List>\r\n                <Link to=\"/\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'home' }>\r\n                    <ListItemIcon><HomeIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Home\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/controls\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'controls' }>\r\n                    <ListItemIcon><ControlCameraIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Controls\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <Link to=\"/files\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'files' }>\r\n                    <ListItemIcon><FolderIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Files\" />\r\n                  </ListItem>\r\n                </Link>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <ListItem button onClick={handleDarkModeClick}>\r\n                  <ListItemIcon>{themeContext.themeStyle === 'dark' ? (<NightsStayIcon/>) : (<NightsStayOutlinedIcon/>)}</ListItemIcon>\r\n                  <ListItemText primary=\"Dark Mode\" />\r\n                </ListItem>\r\n              </List>\r\n              <Divider/>\r\n              <List>\r\n                <Link to=\"/settings\" className={classes.link} >\r\n                  <ListItem button selected={ props.selectedPage === 'settings' }>\r\n                    <ListItemIcon><SettingsIcon /></ListItemIcon>\r\n                    <ListItemText primary=\"Settings\" />\r\n                  </ListItem>\r\n                </Link>\r\n                <ListItem button onClick={handleLogout}>\r\n                  <ListItemIcon><PowerSettingsNewIcon /></ListItemIcon>\r\n                  <ListItemText primary=\"Logout\" />\r\n                </ListItem>\r\n              </List>\r\n            </div>\r\n          </div>\r\n        </Drawer>\r\n      )}\r\n    </UserContext.Consumer>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { Link } from 'react-router-dom';\r\nimport SideDrawer from './sidedrawer.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(9),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    paddingLeft: theme.spacing(10),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 120,\r\n      '&:focus': {\r\n        width: 200,\r\n      },\r\n    },\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#ffffff',\r\n    '&:focus': {\r\n      color: '#ffffff',\r\n    },\r\n    '&:active': {\r\n      color: '#ffffff',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Navbar(props) {\r\n  const classes = useStyles();\r\n\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n\r\n  function handleMenuButtonClick() {\r\n    setShowDrawer(true);\r\n  }\r\n\r\n  function handleDrawerClose() {\r\n    setShowDrawer(false);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          {props.backTo !== undefined ? (\r\n            <Link to={ props.backTo === 'settings' ? '/settings' : props.backTo === 'accountsettings' ? '/settings/accounts' : '/'} className={classes.link}>\r\n              <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Back\">\r\n                <ArrowBackIcon />\r\n              </IconButton> \r\n            </Link>\r\n          ) : (\r\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={ handleMenuButtonClick }>\r\n              <MenuIcon />\r\n            </IconButton>\r\n          )}\r\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n            { props.title }\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SideDrawer open={showDrawer} onDrawerClose={ handleDrawerClose } selectedPage={ props.selectedPage } />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Navbar from './navbar.component';\r\n\r\n/**\r\n * Includes the Navbar can be implemented in every view that needs a navbar\r\n */\r\nexport default function Dashboard(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Navbar title={ props.navTitle } selectedPage=\"not\" backTo={props.backTo} />\r\n      { props.children }\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport ControlCameraIcon from '@material-ui/icons/ControlCamera';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 400,\r\n    height: 250,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'print') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'home') {\r\n    return (<HomeIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'upload') {\r\n    return (<CloudUploadIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'files') {\r\n    return (<FolderIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'control') {\r\n    return (<ControlCameraIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'logout') {\r\n    return (<PowerSettingsNewIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 80 }} />);\r\n  }\r\n}\r\n\r\nexport default function ActionCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h5\" component=\"h5\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"subtitle1\" component=\"h6\" color=\"textSecondary\" align=\"center\">\r\n            { props.description }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const printerService = {\r\n  setInfo,\r\n  getInfo,\r\n  getStatus,\r\n  getProgress\r\n};\r\n\r\nasync function setInfo(body) {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getInfo() {\r\n  return fetch(apiHelper.getUrl() + '/printer/info', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getStatus() {\r\n  return fetch(apiHelper.getUrl() + '/printer/status', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getProgress() {\r\n  return fetch(apiHelper.getUrl() + '/printer/progress', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n}));\r\n\r\nexport default function Spinner() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n//import PauseIcon from '@material-ui/icons/Pause';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { printerService } from '../services/printer.service';\r\nimport Spinner from '../components/spinner.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 600,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    textAlign: 'center',\r\n  },\r\n  controls: {\r\n    alignItems: 'center',\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38,\r\n  },\r\n  buttonGroup: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#0078d7',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Status(props) {\r\n  const classes = useStyles();\r\n\r\n  const [loadedFile, setLoadedFile] = useState({ id: window.sessionStorage.getItem('print_file_id'), name: window.sessionStorage.getItem('print_file_name')});\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printStatus, setPrintStatus] = useState('');\r\n  const [printerStatusPromiseResolved, setPrinterStatusPromiseResolved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    printerService.getStatus().then((data) => {\r\n      setPrinterStatus(data);\r\n      setPrinterStatusPromiseResolved(true);\r\n    });\r\n  }, []);\r\n\r\n  const handlePlayButtonClick = (e) => {\r\n    props.socket.emit('printFile', window.sessionStorage.getItem('print_file_id'));\r\n    setPrinterStatus({\r\n      connected: printerStatus.connected,\r\n      ready: false,\r\n      busy: printerStatus.busy,\r\n      connecting: false\r\n    });\r\n  }\r\n\r\n  const handleStopButtonClick = (e) => {\r\n    props.socket.emit('cancelPrint');\r\n  }\r\n\r\n  props.socket.on('printLog', (e) => {\r\n    //console.log(e);\r\n  });\r\n\r\n  props.socket.on('printStatus', (status) => {\r\n    \r\n    if (status !== printStatus) {\r\n      setPrintStatus(status);\r\n      if (status === 'connected') {\r\n        setPrinterStatus({\r\n          connected: true,\r\n          ready: true,\r\n          busy: printerStatus.busy,\r\n          connecting: false\r\n        });\r\n      } else if (status === 'connecting') {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: printerStatus.ready,\r\n          busy: printerStatus.busy,\r\n          connecting: true\r\n        });\r\n      } else if (status === 'ready') {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: true,\r\n          busy: printerStatus.busy,\r\n          connecting: false\r\n        });\r\n      } else if (status === 'printing') {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: false,\r\n          busy: printerStatus.busy,\r\n          connecting: false\r\n        });\r\n      } else if (status === 'completed') {\r\n        window.sessionStorage.removeItem('print_file_id');\r\n        window.sessionStorage.removeItem('print_file_name');\r\n        setLoadedFile({\r\n          id: null,\r\n          name: null\r\n        });\r\n      } else if (status === 'stopped') {\r\n        setPrinterStatus({\r\n          connected: printerStatus.connected,\r\n          ready: true,\r\n          busy: printerStatus.busy,\r\n          connecting: false\r\n        });\r\n      } else if (status === 'disconnected') {\r\n        setPrinterStatus({\r\n          connected: false,\r\n          ready: false,\r\n          busy: printerStatus.busy,\r\n          connecting: false\r\n        });\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  const handleDeleteClick = () => {\r\n    window.sessionStorage.removeItem('print_file_id');\r\n    window.sessionStorage.removeItem('print_file_name');\r\n    setLoadedFile({\r\n      id: null,\r\n      name: null\r\n    });\r\n  }\r\n\r\n  if (!printerStatusPromiseResolved) {\r\n    return (\r\n      <div>\r\n        <Spinner />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <Typography component=\"h5\" variant=\"h5\">\r\n              {props.printer.info.name}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color={printerStatus.connected || printerStatus.connecting ? 'textSecondary' : 'error'}>\r\n              {printerStatus.connected && !printerStatus.connecting ? 'Connected' : 'Not Connected'}\r\n              {printerStatus.connecting ? 'Connecting...' : ''}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\">\r\n              {printerStatus.connected ? (<span>&nbsp;-&nbsp;</span>) : (<span></span>)}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color={printStatus === 'stopping' ? 'error' : 'primary'}>\r\n              {printerStatus.connected ? !printerStatus.ready ? printStatus === 'stopping' ? 'Stopping...' : 'Printing...' : 'Ready' : (<div></div>)}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" color={loadedFile.id !== null ? 'initial' : 'error'}>\r\n              { !printerStatus.connected || loadedFile.id !== null ? loadedFile.name : 'No file loaded' }\r\n            </Typography>\r\n            { !printerStatus.connected || loadedFile.id !== null ? (<div></div>): (\r\n              <ButtonGroup className={classes.buttonGroup} color=\"primary\" aria-label=\"outlined primary button group\">\r\n                <Button>\r\n                  <Link to=\"/files\" className={classes.link} >\r\n                    Choose From Files\r\n                  </Link>\r\n                </Button>\r\n              </ButtonGroup>\r\n            )}\r\n          </CardContent>\r\n          <div className={classes.controls}>\r\n            {/* <IconButton aria-label=\"pause\" disabled={!printerStatus.ready && !printerStatus.busy}>\r\n              <PauseIcon />\r\n            </IconButton> */}\r\n\r\n            { !printerStatus.connected || (printerStatus.ready && loadedFile.id !== null) ? (\r\n            <Tooltip title=\"Remove File\">\r\n              <span>\r\n                <IconButton className={classes.button} onClick={handleDeleteClick} aria-label=\"Delete\">\r\n                  <DeleteIcon fontSize=\"small\" />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>) : (<div></div>)}\r\n            \r\n            <Tooltip title=\"Start Printing\">\r\n              <span>\r\n                <IconButton aria-label=\"play\" disabled={!(printerStatus.connected && printerStatus.ready && loadedFile.id !== null)} onClick={handlePlayButtonClick}>\r\n                  <PlayArrowIcon className={classes.playIcon} />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n            <Tooltip title=\"Cancel\">\r\n              <span>\r\n                <IconButton aria-label=\"stop\" disabled={!(printerStatus.connected && !printerStatus.ready) || printStatus === 'stopping'} onClick={handleStopButtonClick}>\r\n                  <StopIcon />\r\n                </IconButton>\r\n              </span>\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n        {/* \r\n        <CardMedia\r\n          className={classes.cover}\r\n          image=\"/static/images/cards/live-from-space.jpg\"\r\n          title=\"Live from space album cover\"\r\n        />\r\n        */}\r\n      </Card>\r\n    </div>\r\n  );\r\n}","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const uploadService = {\r\n  add,\r\n  getAll,\r\n  get,\r\n  remove\r\n};\r\n\r\nasync function add(body) {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    method: 'POST',\r\n    headers: apiHelper.getFileUploadHeaders(),\r\n    body: body\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getAll() {\r\n  return fetch(apiHelper.getUrl() + '/uploads', {\r\n    headers: apiHelper.getHeaders(),\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function get(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function remove(id) {\r\n  return fetch(apiHelper.getUrl() + '/uploads/' + id, {\r\n    method: 'DELETE',\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","export function checkFile(file) {\r\n  if (file.size % 4096 !== 0 && file.size !== 0 && file.name.indexOf('.') !== -1) {\r\n    \r\n    let parts = file.name.split('.');\r\n    let fileEnding = parts[parts.length - 1].toLowerCase();\r\n\r\n    if(fileEnding === 'gcode' || fileEnding === 'gco' || fileEnding === 'gc' || fileEnding === 'g') {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}","import React, { forwardRef, useImperativeHandle, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { checkFile } from '../helpers/upload.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  icon: {\r\n    fontSize: 125,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst UploadDialog = forwardRef((props, ref) => {\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [uploadStarted, setUploadStarted] = useState(false);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    handleOpen() {\r\n      setOpen(true);\r\n    },\r\n\r\n    setUpload(upload) {\r\n      if (checkFile(upload)) {\r\n        setFile(upload);\r\n      } else {\r\n        handleClose();\r\n        props.onBeforeUploadError({\r\n          type: 'error',\r\n          message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n        });\r\n      }\r\n    }\r\n\r\n  }));\r\n\r\n  const handleClose = () => {\r\n    setFile(null);\r\n    setOpen(false);\r\n  }\r\n\r\n  const handleFileDrop = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (checkFile(e.dataTransfer.files[0])) {\r\n      setFile(e.dataTransfer.files[0]);\r\n    } else {\r\n      handleClose();\r\n      props.onBeforeUploadError({\r\n        type: 'error',\r\n        message: 'Files of this type cannot be uploaded. Please upload a GCODE file.'\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  const handleUploadButtonClick = () => {\r\n\r\n    if (file !== null) {\r\n\r\n      let body = new FormData();\r\n      body.append('file', file);\r\n      setUploadStarted(true);\r\n\r\n      uploadService.add(body)\r\n      .then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          props.onUploadFinish({\r\n            type: 'success',\r\n            message: 'File \"' + data.originalname + '\" successfully uploaded.'\r\n          });\r\n        } else {\r\n          props.onUploadFinish({\r\n            type: 'error',\r\n            message: 'Files of this type cannot be uploaded.'\r\n          });\r\n        }\r\n\r\n        setUploadStarted(false);\r\n\r\n        handleClose();\r\n\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div onDrop={handleFileDrop}>\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Upload Files\r\n            </Typography>\r\n            <Button color=\"inherit\" onClick={handleUploadButtonClick} disabled={uploadStarted}>\r\n              UPLOAD\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        { file !== null ? (\r\n          <List>             \r\n            <ListItem button>\r\n              <ListItemText primary={file.name} secondary={file.size / 1000 + ' KB'} />\r\n            </ListItem>\r\n            { uploadStarted ? (<LinearProgress className={classes.linearProgress} />) : (<Divider />) }\r\n          </List>\r\n\r\n        ) : (\r\n\r\n          <div className={classes.root}>\r\n            <Typography align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              <InsertDriveFileIcon className={classes.icon} />\r\n            </Typography>\r\n            <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textSecondary\" gutterBottom>\r\n              Drop your GCODE file here\r\n            </Typography>\r\n          </div>\r\n\r\n        )}\r\n\r\n      </Dialog>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default UploadDialog;","import React, { useState, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport ActionCard from '../components/actioncard.component';\r\nimport Status from '../components/status.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport Snackbar from '../components/snackbar.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Home(props) {\r\n  const classes = useStyles();\r\n\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = () => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen}>\r\n        <Dashboard navTitle=\"Home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Welcome Back, {props.user.firstname + ' ' + props.user.lastname}.\r\n            </Typography>\r\n          </div>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Status printer={props.printer} socket={props.socket} />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container className={classes.root} spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                <Grid item>\r\n                  <Link to=\"/controls\" className={classes.link} >\r\n                    <ActionCard action=\"control\" title=\"Controls\" description=\"Print files, control the printer, move the axis\" />\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <div onClick={handleUploadFileClick}>\r\n                    <ActionCard action=\"upload\" title=\"Upload\" description=\"Add files to the printing list\" />\r\n                  </div>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link to=\"/files\" className={classes.link} >\r\n                    <ActionCard action=\"files\" title=\"Files\" description=\"View uploaded files, load files, print them again\" />\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <input\r\n            className={classes.inputFile}\r\n            id=\"fleUpload\"\r\n            name=\"fleUpload\"\r\n            onChange={ handleFleUploadChange }\r\n            type=\"file\"\r\n            ref={uploadField}\r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            ref={snackbar} \r\n          />\r\n\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardActionArea: {\r\n    width: 300,\r\n    height: 180,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n  pos: {\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n}));\r\n\r\nfunction SelectIcon(props) {\r\n  if (props.action === 'accounts') {\r\n    return (<SupervisorAccountIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'settings') {\r\n    return (<SettingsIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'connection') {\r\n    return (<SignalCellularAltIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'info') {\r\n    return (<InfoIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else if (props.action === 'printer') {\r\n    return (<PrintIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  } else {\r\n    return (<LaunchIcon color=\"primary\" style={{ fontSize: 60 }} />);\r\n  }\r\n}\r\n\r\nexport default function SettingsCard(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card>\r\n      <CardActionArea className={classes.cardActionArea}>\r\n        <CardContent>\r\n          <Typography className={classes.pos} variant=\"h1\" component=\"h1\" align=\"center\">\r\n            <SelectIcon action={props.action} />\r\n          </Typography>\r\n          <Typography className={classes.pos} variant=\"h6\" component=\"h6\" align=\"center\">\r\n            { props.title }\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions>\r\n        </CardActions>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport SettingsCard from '../components/settingscard.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Settings() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Settings\" backTo=\"home\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Settings\r\n        </Typography>\r\n      </div>\r\n      <Grid container className={classes.root} spacing={4}>\r\n        <Grid item xs={12}>\r\n          <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n            <Grid item>\r\n              <Link to=\"/settings/connection\" className={classes.link} >\r\n                <SettingsCard action=\"connection\" title=\"Connection\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/printer\" className={classes.link} >\r\n                <SettingsCard action=\"printer\" title=\"Printer\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/accounts\" className={classes.link} >\r\n                <SettingsCard action=\"accounts\" title=\"Accounts\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/settings/info\" className={classes.link} >\r\n                <SettingsCard action=\"info\" title=\"Info\" />\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default function AlertDialog(props) {\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        onClose={props.onCancelDelete}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n            Are you sure you want to delete the {props.deleteType} \"{props.deleteItemName}\"?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            This action cannot be undone.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={props.onConfirmDelete} color=\"primary\">\r\n            Yes\r\n          </Button>\r\n          <Button onClick={props.onCancelDelete} autoFocus>\r\n            No\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n\r\n}","import React from 'react';\r\n\r\nexport const accounts = { \r\n  new: false,\r\n  username: ''  \r\n};\r\nexport const AccountsContext = React.createContext(accounts);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport { Hidden, Tooltip } from '@material-ui/core';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AccountSettings(props) {\r\n  const classes = useStyles();\r\n  const accountsContext = useContext(AccountsContext);\r\n\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [update, setUpdate] = useState(false);\r\n\r\n  const snackbar = useRef();\r\n\r\n  useEffect(() => {\r\n    userService.getAll().then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setAccounts(data);\r\n        \r\n        if (accountsContext.new) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'User \"' + accountsContext.username + '\" successfully added.'\r\n          });\r\n          accountsContext.new = false;\r\n          accountsContext.username = '';\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n      setUserPromiseResolved(true);\r\n      setUpdate(false);\r\n    });\r\n  }, [accountsContext.new, accountsContext.username, update]);\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.username);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n\r\n    userService.remove(deleteItemId).then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUpdate(true);\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"settings\">\r\n      <div className={classes.heroContent}>\r\n        <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Account Settings\r\n        </Typography>\r\n      </div>\r\n      <div className={classes.tableRoot}>\r\n        <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n          Accounts\r\n        </Typography>\r\n        { userPromiseResolved && accounts.length > 0 ? (\r\n          <Paper className={classes.table}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Username</TableCell>\r\n                  <Hidden xsDown={true}>\r\n                    <TableCell>Firstname</TableCell>\r\n                    <TableCell>Lastname</TableCell>\r\n                  </Hidden>\r\n                  <TableCell align=\"right\">Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n\r\n                {accounts.map(row => (\r\n                  <TableRow key={row._id}>\r\n                    <TableCell component=\"th\" scope=\"row\">\r\n                      {row.username}\r\n                    </TableCell>\r\n                    <Hidden xsDown={true}>\r\n                      <TableCell>{row.firstname}</TableCell>\r\n                      <TableCell>{row.lastname}</TableCell>\r\n                    </Hidden>\r\n                    <TableCell align=\"right\">\r\n                      <Tooltip title=\"Delete\">\r\n                        <IconButton onClick={() => handleDeleteClick(row)} aria-label=\"Delete\">\r\n                          <DeleteIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        ) : (\r\n          <Spinner/>\r\n        )}\r\n        \r\n        <Link to=\"/settings/accounts/add\" className={classes.link} >\r\n          <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab}>\r\n            <AddIcon />\r\n            Add User\r\n          </Fab>\r\n        </Link>\r\n      </div>\r\n\r\n      <DeleteDialog \r\n        open={openDeleteDialog} \r\n        deleteItemName={deleteItemName}\r\n        deleteType=\"user\"\r\n        onCancelDelete={handleDeleteCancel} \r\n        onConfirmDelete={handleDeleteConfirm} \r\n      />\r\n\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n\r\n    </Dashboard>\r\n  );\r\n}\r\n\r\n","import { apiHelper } from '../helpers/api.helper';\r\n\r\nexport const connectionService = {\r\n  setConnection,\r\n  getConnection\r\n};\r\n\r\nasync function setConnection(body) {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    method: 'POST',\r\n    headers: apiHelper.getHeaders(),\r\n    body: JSON.stringify(body)\r\n  })\r\n  .then(res => res.json());\r\n}\r\n\r\nasync function getConnection() {\r\n  return fetch(apiHelper.getUrl() + '/connection', {\r\n    headers: apiHelper.getHeaders()\r\n  })\r\n  .then(res => res.json());\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { connectionService } from '../services/connection.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function ConnectionSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n\r\n  const [txtPort, setTxtPort] = useState('');\r\n  const [txtBaudRate, setTxtBaudRate] = useState('');\r\n  const [txtPortError, setTxtPortError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtBaudRateError, setTxtBaudRateError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    connectionService.getConnection().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setTxtPort(data.port);\r\n        setTxtBaudRate(data.baudrate);\r\n      }\r\n\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleTxtPortChange(e) {\r\n    setTxtPort(e.target.value);\r\n    checkTxtPort(e.target.value);\r\n  }\r\n\r\n  function handleTxtBaudRateChange(e) {\r\n    setTxtBaudRate(e.target.value);\r\n    checkTxtBaudRate(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtPort(txtPort)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtBaudRate(txtBaudRate)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      connectionService.setConnection({\r\n        port: txtPort,\r\n        baudrate: txtBaudRate\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Connection details successfully set. The server will restart now.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n          setTimeout(() => {\r\n            console.log('restarting...');\r\n            window.location.reload();\r\n          }, 2000);\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtPort(port) {\r\n    if (validator.isEmpty(port)) {\r\n      setTxtPortError({\r\n        error: true,\r\n        message: 'Please enter a port.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPortError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPortError() {\r\n    setTxtPortError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtBaudRate(baudrate) {\r\n    if (validator.isEmpty(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Please enter a valid baudrate.'\r\n      });\r\n      return false;\r\n    } else if (!validator.isNumeric(baudrate)) {\r\n      setTxtBaudRateError({\r\n        error: true,\r\n        message: 'Baudrate must be a number.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtBaudRateError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtBaudRateError() {\r\n    setTxtBaudRateError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Connection Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Connection\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtPort\"\r\n                autoComplete=\"port\"\r\n                margin=\"normal\"\r\n                label=\"Port\"\r\n                variant=\"outlined\" \r\n                value={txtPort}\r\n                onChange={handleTxtPortChange}\r\n                error={txtPortError.error}\r\n                helperText={txtPortError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtBaudRate\"\r\n                autoComplete=\"Baudrate\"\r\n                margin=\"normal\"\r\n                label=\"Baudrate\"\r\n                variant=\"outlined\" \r\n                value={txtBaudRate}\r\n                onChange={handleTxtBaudRateChange}\r\n                error={txtBaudRateError.error}\r\n                helperText={txtBaudRateError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { userService } from '../services/users.service';\r\nimport { AccountsContext } from '../contexts/accounts.context';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function AddAccount() {\r\n  const classes = useStyles();\r\n  const accounts = useContext(AccountsContext);\r\n  const snackbar = useRef();\r\n\r\n  const [userAdded, setUserAdded] = useState(false);\r\n  const [txtFirstname, setTxtFirstname] = useState('');\r\n  const [txtLastname, setTxtLastname] = useState('');\r\n  const [txtUsername, setTxtUsername] = useState('');\r\n  const [txtPassword, setTxtPassword] = useState('');\r\n  const [txtFirstnameError, setTxtFirstnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtLastnameError, setTxtLastnameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtUsernameError, setTxtUsernameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [txtPasswordError, setTxtPasswordError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  function handleTxtFirstnameChange(e) {\r\n    setTxtFirstname(e.target.value);\r\n    checkTxtFirstname(e.target.value);\r\n  }\r\n\r\n  function handleTxtLastnameChange(e) {\r\n    setTxtLastname(e.target.value);\r\n    checkTxtLastname(e.target.value);\r\n  }\r\n\r\n  function handleTxtUsernameChange(e) {\r\n    setTxtUsername(e.target.value);\r\n    checkTxtUsername(e.target.value);\r\n  }\r\n\r\n  function handleTxtPasswordChange(e) {\r\n    setTxtPassword(e.target.value);\r\n    checkTxtPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtFirstname(txtFirstname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtLastname(txtLastname)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtUsername(txtUsername)) {\r\n      valid = false;\r\n    }\r\n    if (!checkTxtPassword(txtPassword)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      userService.add({\r\n        firstname: txtFirstname,\r\n        lastname: txtLastname,\r\n        username: txtUsername,\r\n        password: txtPassword,\r\n        admin: true\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          accounts.new = true;\r\n          accounts.username = data.username;\r\n          setUserAdded({\r\n            success: true,\r\n            username: data.username\r\n          });\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtFirstname(firstname) {\r\n    if (validator.isEmpty(firstname)) {\r\n      setTxtFirstnameError({\r\n        error: true,\r\n        message: 'Please enter a firstname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtFirstnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtFirstnameError() {\r\n    setTxtFirstnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtLastname(lastname) {\r\n    if (validator.isEmpty(lastname)) {\r\n      setTxtLastnameError({\r\n        error: true,\r\n        message: 'Please enter a lastname.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtLastnameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtLastnameError() {\r\n    setTxtLastnameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtUsername(username) {\r\n    if (validator.isEmpty(username)) {\r\n      setTxtUsernameError({\r\n        error: true,\r\n        message: 'Please enter a username.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtUsernameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtUsernameError() {\r\n    setTxtUsernameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  function checkTxtPassword(password) {\r\n    if (validator.isEmpty(password)) {\r\n      setTxtPasswordError({\r\n        error: true,\r\n        message: 'Please enter a password.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtPasswordError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtPasswordError() {\r\n    setTxtPasswordError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return userAdded ? (<Redirect exact to=\"/settings/accounts\"/>\r\n  ) : (\r\n    <Dashboard navTitle=\"Account Settings\" backTo=\"accountsettings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Add Account\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtFirstname\"\r\n                autoComplete=\"firstname\"\r\n                margin=\"normal\"\r\n                label=\"Firstname\"\r\n                variant=\"outlined\" \r\n                value={txtFirstname}\r\n                onChange={handleTxtFirstnameChange}\r\n                error={txtFirstnameError.error}\r\n                helperText={txtFirstnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtLastname\"\r\n                autoComplete=\"Lastname\"\r\n                margin=\"normal\"\r\n                label=\"Lastname\"\r\n                variant=\"outlined\" \r\n                value={txtLastname}\r\n                onChange={handleTxtLastnameChange}\r\n                error={txtLastnameError.error}\r\n                helperText={txtLastnameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtUsername\"\r\n                autoComplete=\"username\"\r\n                margin=\"normal\"\r\n                label=\"Username\"\r\n                variant=\"outlined\" \r\n                value={txtUsername}\r\n                onChange={handleTxtUsernameChange}\r\n                error={txtUsernameError.error}\r\n                helperText={txtUsernameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"password\"\r\n                name=\"txtPassword\"\r\n                autoComplete=\"password\"\r\n                margin=\"normal\"\r\n                label=\"Password\"\r\n                variant=\"outlined\" \r\n                value={txtPassword}\r\n                onChange={handleTxtPasswordChange}\r\n                error={txtPasswordError.error}\r\n                helperText={txtPasswordError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n          <div className={classes.centering}>\r\n            <Button className={classes.button} onClick={() => {window.history.back()}} >Back</Button>\r\n          </div>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport PrintIcon from '@material-ui/icons/Print';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Hidden } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport Spinner from '../components/spinner.component';\r\nimport DeleteDialog from '../components/deletedialog.component';\r\nimport UploadDialog from '../components/uploaddialog.component';\r\nimport { uploadService } from '../services/uploads.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  fullscreen: {\r\n    width: '100%',\r\n    height: '100vh',    \r\n  },\r\n  options: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  tableRoot: {\r\n    margin: 0,\r\n    width: '100%',\r\n    marginBottom: theme.spacing(13),\r\n  },\r\n  table: {\r\n    margin: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(20),\r\n      marginRight: theme.spacing(20),\r\n    },\r\n  },\r\n  fab: {\r\n    margin: 0,\r\n    top: 'auto',\r\n    right: 20,\r\n    bottom: 20,\r\n    left: 'auto',\r\n    position: 'fixed',\r\n    \r\n    zIndex: 2,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    '&:focus': {\r\n      color: '#0078d7',\r\n    },\r\n    '&:active': {\r\n      color: '#0078d7',\r\n    },\r\n  },\r\n  inputFile: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default function Files(props) {\r\n  const classes = useStyles();\r\n\r\n  const [uploads, setUploads] = useState([]);\r\n  const [uploadPromiseResolved, setUploadPromiseResolved] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n  const [deleteItemName, setDeleteItemName] = useState('');\r\n  const [deleteItemId, setDeleteItemId] = useState(0);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n\r\n  const snackbar = useRef();\r\n  const uploadDialog = useRef();\r\n  const uploadField = useRef();\r\n\r\n  useEffect(() => {\r\n    loadFiles();\r\n  }, []);\r\n\r\n  const loadFiles = () => {\r\n    uploadService.getAll().then((data) => {\r\n      \r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        setUploads(data);\r\n      }\r\n      setUploadPromiseResolved(true);\r\n    });\r\n  }\r\n\r\n  const handleDeleteClick = (row) => {\r\n    setDeleteItemId(row._id);\r\n    setDeleteItemName(row.originalname);\r\n    setOpenDeleteDialog(true);\r\n  }\r\n\r\n  const handleDeleteCancel = () => {\r\n    setOpenDeleteDialog(false);\r\n  }\r\n\r\n  const handleDeleteConfirm = () => {\r\n    setOpenDeleteDialog(false);\r\n\r\n    uploadService.remove(deleteItemId).then((data) => {\r\n\r\n      const responseCheck = checkResponse(data);\r\n\r\n      if (responseCheck.valid) {\r\n        loadFiles();\r\n      } else {\r\n        setSnackbarMessage({\r\n          type: responseCheck.type,\r\n          message: responseCheck.message,\r\n        });\r\n        snackbar.current.handleOpen();\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  const handleUploadDialogOpen = (e) => {\r\n    e.preventDefault();\r\n    uploadDialog.current.handleOpen();\r\n  }\r\n\r\n  const handleUploadFileClick = (e) => {\r\n    uploadField.current.click();\r\n  }\r\n\r\n  const handleFleUploadChange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      uploadDialog.current.handleOpen();\r\n      uploadDialog.current.setUpload(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const handleUploadFinish = (res) => {\r\n    \r\n    if (res.type !== 'success') {\r\n      setSnackbarMessage({\r\n        type: res.type,\r\n        message: res.message\r\n      }); \r\n      snackbar.current.handleOpen();\r\n    }\r\n\r\n    loadFiles();\r\n  }\r\n\r\n  const handleBeforeUploadError = (res) => {\r\n    setSnackbarMessage({\r\n      type: res.type,\r\n      message: res.message\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handlePrintIconClick = (id, name) => {\r\n    window.sessionStorage.setItem('print_file_id', id);\r\n    window.sessionStorage.setItem('print_file_name', name);\r\n    setSnackbarMessage({\r\n      type: 'info',\r\n      message: '\"' + name + '\" is ready to be printed. You can make some adjustments in the control panel.',\r\n      printAction: true\r\n    });\r\n    snackbar.current.handleOpen();\r\n  }\r\n\r\n  const handlePrintNowClick = () => {\r\n    props.socket.emit('printFile', window.sessionStorage.getItem('print_file_id'));\r\n  }\r\n\r\n  return (\r\n    <div onDragOver={handleUploadDialogOpen}>\r\n      <div className={classes.fullscreen} >\r\n        <Dashboard navTitle=\"Files\" backTo=\"home\">\r\n          <div className={classes.heroContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n              Files\r\n            </Typography>\r\n          </div>\r\n          <div className={classes.tableRoot}>\r\n\r\n            { uploadPromiseResolved && uploads.length === 0 ? (\r\n              <Typography component=\"h5\" variant=\"h5\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n                Upload some files to print them.\r\n              </Typography>\r\n            ) : uploadPromiseResolved && uploads.length > 0 ? (\r\n              <Paper className={classes.table}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Name</TableCell>\r\n                      <Hidden xsDown={true}>\r\n                        <TableCell>Size</TableCell>\r\n                      </Hidden>\r\n                      <TableCell align=\"right\">Actions</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {uploads.map(row => (\r\n                      <TableRow key={row._id}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                          {row.originalname}\r\n                        </TableCell>\r\n                        <Hidden xsDown={true}>\r\n                          <TableCell>{(row.size / 1000) + ' KB'}</TableCell>\r\n                        </Hidden>\r\n                        <TableCell align=\"right\">\r\n                          <Tooltip title=\"Print\">\r\n                            <IconButton className={classes.button} aria-label=\"Print\" onClick={() => handlePrintIconClick(row._id, row.originalname)}>\r\n                              <PrintIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Download\">\r\n                            <IconButton className={classes.button} aria-label=\"Download\">\r\n                              <SaveAltIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Delete\">\r\n                            <IconButton className={classes.button} onClick={() => handleDeleteClick(row)} aria-label=\"Delete\">\r\n                              <DeleteIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            ) : !uploadPromiseResolved ? (\r\n              <Spinner/>\r\n            ) : ''}\r\n            \r\n            <input\r\n              className={classes.inputFile}\r\n              id=\"fleUpload\"\r\n              name=\"fleUpload\"\r\n              onChange={ handleFleUploadChange }\r\n              type=\"file\"\r\n              ref={uploadField}\r\n            />\r\n\r\n            <Fab variant=\"extended\" size=\"large\" color=\"primary\" aria-label=\"Add\" className={classes.fab} onClick={handleUploadFileClick}>\r\n              <AddIcon />\r\n              Upload File\r\n            </Fab>\r\n          </div>\r\n\r\n          <DeleteDialog \r\n            open={openDeleteDialog} \r\n            deleteItemName={deleteItemName}\r\n            deleteType=\"file\"\r\n            onCancelDelete={handleDeleteCancel} \r\n            onConfirmDelete={handleDeleteConfirm} \r\n          />\r\n\r\n          <UploadDialog\r\n            ref={uploadDialog}\r\n            onUploadFinish={handleUploadFinish}\r\n            onBeforeUploadError={handleBeforeUploadError}\r\n          />\r\n\r\n          <Snackbar \r\n            message={snackbarMessage.message} \r\n            variant={snackbarMessage.type}\r\n            printAction={snackbarMessage.printAction}\r\n            handlePrintNowClick={handlePrintNowClick}\r\n            ref={snackbar} \r\n          />\r\n\r\n        </Dashboard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Button from '@material-ui/core/Button';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function AxisControls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [selectedLength, setSelectedLength] = useState(1);\r\n\r\n  const handleSelectedLengthClick = (b) => {\r\n    setSelectedLength(b);\r\n  }\r\n\r\n  const handleMoveButtonClick = (direction) => {\r\n    props.socket.emit(direction, selectedLength);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n\r\n        {/* XY */}\r\n        <Grid container item sm={6} spacing={1}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveForward')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveLeft')}>\r\n                <KeyboardArrowLeftIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveXYHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveRight')}>\r\n                <KeyboardArrowRightIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveBack')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Z */}\r\n        <Grid container item spacing={1} sm={6}>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveUp')}>\r\n                <KeyboardArrowUpIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={false}>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveZHome')}>\r\n                <HomeIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={12} spacing={1} justify=\"center\">\r\n            <Grid item xs={4}>\r\n              <Button variant=\"contained\" className={classes.button} onClick={() => handleMoveButtonClick('moveDown')}>\r\n                <KeyboardArrowDownIcon />\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n      <Grid className={classes.lengthSet} container justify=\"center\">\r\n        <ButtonGroup\r\n          size=\"large\"\r\n          variant=\"contained\"\r\n          aria-label=\"large contained button group\"\r\n        >\r\n          <Button color={ selectedLength === 1 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(1)}>1mm</Button>\r\n          <Button color={ selectedLength === 10 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(10)}>10mm</Button>\r\n          <Button color={ selectedLength === 100 ? 'primary' : 'default'} onClick={() => handleSelectedLengthClick(100)}>100mm</Button>\r\n        </ButtonGroup>\r\n        </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n    width: '100%'\r\n  },\r\n  button: {\r\n    width: 80,\r\n    height: 80,\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 60,\r\n      height: 60,\r\n    }\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  lengthSet: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  settingsButton: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  card: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ControlSettings(props) {\r\n  const classes = useStyles();\r\n\r\n  const [fanState, setFanState] = useState(0);\r\n  const [numFanSpeed, setNumFanSpeed] = useState(1);\r\n  const [numLength, setNumLength] = useState(1);\r\n  const [numTemperature, setNumTemperature] = useState(0);\r\n  \r\n\r\n  const handleFanState = (state) => {\r\n    setFanState(state);\r\n\r\n    if (state === 0) {\r\n      props.socket.emit('fanOff');\r\n    } else {\r\n      props.socket.emit('fanOn', numFanSpeed);\r\n    }\r\n\r\n  }\r\n\r\n  const handleNumFanSpeedChange = (e) => {\r\n    if (e.target.value > 0 && e.target.value <= 100) {\r\n      setNumFanSpeed(e.target.value);\r\n      if (fanState === 1) {\r\n        props.socket.emit('fanOn', numFanSpeed);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleNumLengthChange = (e) => {\r\n    if (e.target.value > 0 && e.target.value <= 100) {\r\n      setNumLength(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleNumTemperatureChange = (e) => {\r\n    if (e.target.value === '') {\r\n      setNumFanSpeed(numFanSpeed);\r\n    } else if (e.target.value >= 0 && e.target.value <= 200) {\r\n      setNumTemperature(e.target.value);\r\n    }\r\n  }\r\n\r\n  const handleExtrudeClick = () => {\r\n    props.socket.emit('extrude', numLength);\r\n  }\r\n\r\n  const handleRetractClick = () => {\r\n    props.socket.emit('retract', numLength);\r\n  }\r\n\r\n  const handleSetHeatbedClick = () => {\r\n    props.socket.emit('setHeatbedTemperature', numTemperature);\r\n  }\r\n\r\n  const handleSetHotendClick = () => {\r\n    props.socket.emit('setHotendTemperature', numTemperature);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4} justify=\"center\">\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Fan\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"fanSpeed\"\r\n                  className={classes.textField}\r\n                  label=\"Speed (%)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumFanSpeedChange}\r\n                  value={numFanSpeed}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" color={ fanState === 1 ? 'primary' : 'default'} onClick={() => handleFanState(1)} fullWidth>On</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" color={ fanState === 0 ? 'primary' : 'default'} onClick={() => handleFanState(0)} fullWidth>Off</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Extrude/Retract\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"length\"\r\n                  className={classes.textField}\r\n                  label=\"Length (mm)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumLengthChange}\r\n                  value={numLength}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleExtrudeClick}>Extrude</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleRetractClick}>Retract</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item>\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <Typography className={classes.title} color=\"textPrimary\" gutterBottom>\r\n                Temperature\r\n              </Typography>\r\n              <div className={classes.settingsButton}>\r\n                <TextField\r\n                  id=\"temp\"\r\n                  className={classes.textField}\r\n                  label=\"Temperature (°C)\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  onChange={handleNumTemperatureChange}\r\n                  value={numTemperature}\r\n                />\r\n              </div>\r\n              <div className={classes.settingsButton}><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHeatbedClick}>Set Heatbed</Button></div>\r\n              <div><Button variant=\"contained\" size=\"small\" fullWidth onClick={handleSetHotendClick}>Set Hotend</Button></div>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 800,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90vw'\r\n    },\r\n    flexGrow: 1,\r\n    margin: 0,\r\n    textAlign: 'center',\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  gridItem: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n    },\r\n  },\r\n  button: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      padding: '15.5px 14px',\r\n    },\r\n  },\r\n  logBox: {\r\n    height: 300,\r\n    marginBottom: '16px',\r\n    borderRadius: 5,\r\n    background: '#e0e0e0',\r\n    fontFamily: 'Consolas',\r\n    padding: '10px',\r\n    color: '#000000',\r\n    textAlign: 'left',\r\n    overflowY: 'scroll',\r\n  },\r\n}));\r\n\r\nexport default function Console(props) {\r\n  const classes = useStyles();\r\n\r\n  const [txtCommand, setTxtCommand] = useState('');\r\n  const [logCount, setLogCount] = useState(0);\r\n  const [log, setLog] = useState([]);\r\n\r\n  props.socket.on('printLog', (e) => {\r\n    if (log[log.length - 1] !== e) {\r\n      if (log.length > 20) log.shift();\r\n      setLogCount(logCount + 1);\r\n      setLog([...log, e]);\r\n    }\r\n  });\r\n\r\n  props.socket.on('printStatus', (e) => {\r\n    if (log[log.length - 1] !== e) {\r\n      if (log.length > 20) log.shift();\r\n      setLogCount(logCount + 1);\r\n      setLog([...log, e]);\r\n    }\r\n  });\r\n\r\n  const handleTxtCommandChange = (e) => {\r\n    setTxtCommand(e.target.value);\r\n  }\r\n\r\n  const handleBtnSendClick = (e) => {\r\n    if (txtCommand !== '') {\r\n      props.socket.emit('sendManualCommand', txtCommand);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.details}>\r\n          <CardContent className={classes.content}>\r\n            <div className={classes.logBox}>\r\n              { log.map(text => (\r\n                <span key={logCount}>{text}<br/></span>\r\n              ))}\r\n            </div>\r\n            <Grid container spacing={1} justify=\"center\">\r\n              <Grid item sm={10} className={classes.gridItem}>\r\n                <TextField\r\n                  id=\"command\"\r\n                  className={classes.textField}\r\n                  label=\"Command\"\r\n                  variant=\"outlined\"\r\n                  type=\"text\"\r\n                  fullWidth\r\n                  onChange={handleTxtCommandChange}\r\n                  value={txtCommand}\r\n                />\r\n              </Grid>  \r\n              <Grid item sm={2} className={classes.gridItem}>\r\n                <Button className={classes.button} variant=\"contained\" color=\"primary\" fullWidth onClick={handleBtnSendClick}>Send</Button>\r\n              </Grid>            \r\n            </Grid>            \r\n          </CardContent>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Status from '../components/status.component';\r\nimport AxisControls from '../components/axiscontrols.component';\r\nimport ControlSettings from '../components/controlsettings.component';\r\nimport Console from '../components/console.component';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    /* to fix x-scroll with grid */\r\n    margin: 0,\r\n    width: '100%',\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(1)}px`,\r\n  },\r\n  controlWindow: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  listItem: {\r\n    textAlign: 'center',\r\n  },\r\n}));\r\n\r\nexport default function Controls(props) {\r\n  const classes = useStyles();\r\n\r\n  const [openAxisControls, setOpenAxisControls] = useState(true);\r\n  const [openControlSettings, setOpenControlSettings] = useState(false);\r\n  const [openConsole, setOpenConsole] = useState(false);\r\n\r\n  const handleOpenAxisControl = () => {\r\n    setOpenAxisControls(!openAxisControls);\r\n  }\r\n\r\n  const handleOpenControlSettings = () => {\r\n    setOpenControlSettings(!openControlSettings);\r\n  }\r\n\r\n  const handleOpenConsole = () => {\r\n    setOpenConsole(!openConsole);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dashboard navTitle=\"Controls\" backTo=\"home\">\r\n        <div className={classes.heroContent}>\r\n          <Typography component=\"h1\" variant=\"h3\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n            Controls\r\n          </Typography>\r\n        </div>\r\n        <Grid container className={classes.root} spacing={4}>\r\n          <Grid item xs={12}>\r\n            <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n              <Grid item>\r\n                <Status printer={props.printer} socket={props.socket} />\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <List>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenConsole}>\r\n            <ListItemText primary=\"Console\" secondary=\"Watch the log and send manual commands\" />\r\n            {openConsole ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openConsole} timeout=\"auto\" unmountOnExit>\r\n            <div className={classes.controlWindow}>\r\n              <Grid container className={classes.root} spacing={4}>\r\n                <Grid item xs={12}>\r\n                  <Grid container className={classes.options} justify=\"center\" spacing={4}>\r\n                    <Grid item>\r\n                      <Console socket={props.socket} />\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenControlSettings}>\r\n            <ListItemText primary=\"Control Settings\" secondary=\"Set the fan speed, the temperature and extrude or retract\" />\r\n            {openControlSettings ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openControlSettings} timeout=\"auto\" unmountOnExit>\r\n            <div className={classes.controlWindow}>\r\n              <ControlSettings socket={props.socket} />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n          <ListItem button className={classes.listItem} onClick={handleOpenAxisControl}>\r\n            <ListItemText primary=\"Axis Controls\" secondary=\"Move the axis of the printer\" />\r\n            {openAxisControls ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={openAxisControls} timeout=\"auto\" unmountOnExit>\r\n            <div className={classes.controlWindow}>\r\n              <AxisControls socket={props.socket} />\r\n            </div>\r\n          </Collapse>\r\n          <Divider/>\r\n        </List>\r\n\r\n      </Dashboard>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Dashboard from '../components/dashboard.component';\r\n\r\nexport default function Info() {\r\n  return (\r\n    <Dashboard navTitle=\"Info\" backTo=\"settings\">\r\n      Info page\r\n    </Dashboard>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nimport Logo from '../images/icon-blue.svg';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '50vh',\r\n    transform: 'translateY(-50%)',\r\n    left: '0px',\r\n    right: '0px',\r\n    margin: 'auto',\r\n  },\r\n  linearProgress: {\r\n    marginTop: 50,\r\n    margin: '0 25%',\r\n  },\r\n}));\r\n\r\nexport default function LoadingWithIcon() {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <img src={Logo} alt=\"Logo\" width={150} />\r\n      <LinearProgress className={classes.linearProgress} />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport const printer = { status: null, setStatus: () => {}, info: null, setInfo: () => {} }\r\nexport const PrinterContext = React.createContext(printer);","import React from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nexport const socket = io('http://' + window.location.host.split(':')[0] + ':4000', {\r\n  query: {\r\n    token: 'Bearer ' + window.localStorage.getItem('token')\r\n  }\r\n});\r\nexport const SocketContext = React.createContext(socket);","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport validator from 'validator';\r\n\r\nimport Dashboard from '../components/dashboard.component';\r\nimport Snackbar from '../components/snackbar.component';\r\nimport { printerService } from '../services/printer.service';\r\nimport { checkResponse } from '../helpers/api.helper';\r\nimport { PrinterContext } from '../contexts/printer.context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n    marginTop: theme.spacing(12),\r\n    [theme.breakpoints.up(500 + theme.spacing(3) * 2)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1/4),\r\n    marginRight: theme.spacing(1/4),\r\n    marginBottom: 0,\r\n    marginTop: 0\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  heroContent: {\r\n    marginTop: theme.spacing(8),\r\n    maxWidth: 600,\r\n    margin: '0 auto',\r\n    padding: `${theme.spacing(8)}px 0 ${theme.spacing(6)}px`,\r\n  },\r\n  icon: {\r\n    fontSize: 35,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  centering: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default function PrinterSettings() {\r\n  const classes = useStyles();\r\n  const snackbar = useRef();\r\n  const printer = useContext(PrinterContext);\r\n\r\n  const [txtName, setTxtName] = useState('');\r\n  const [txtNameError, setTxtNameError] = useState({\r\n    error: false,\r\n    message: ''\r\n  });\r\n  const [snackbarMessage, setSnackbarMessage] = useState({\r\n    type: 'info',\r\n    message: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    printerService.getInfo().then((data) => {\r\n\r\n      if (checkResponse(data)) {\r\n        setTxtName(data.name);\r\n      }\r\n\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleTxtNameChange(e) {\r\n    setTxtName(e.target.value);\r\n    checkTxtName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let valid = true;\r\n\r\n    if (!checkTxtName(txtName)) {\r\n      valid = false;\r\n    }\r\n    \r\n    if (valid) {\r\n      printerService.setInfo({\r\n        name: txtName,\r\n      }).then((data) => {\r\n\r\n        const responseCheck = checkResponse(data);\r\n\r\n        if (responseCheck.valid) {\r\n          printer.setInfo({\r\n            name: data.name\r\n          });\r\n\r\n          setSnackbarMessage({\r\n            type: 'success',\r\n            message: 'Printer Details successfully set.'\r\n          });\r\n\r\n          snackbar.current.handleOpen();\r\n\r\n        } else {\r\n          setSnackbarMessage({\r\n            type: responseCheck.type,\r\n            message: responseCheck.message\r\n          });\r\n          snackbar.current.handleOpen();\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  function checkTxtName(name) {\r\n    if (validator.isEmpty(name)) {\r\n      setTxtNameError({\r\n        error: true,\r\n        message: 'Please enter a name.'\r\n      });\r\n      return false;\r\n    } else {\r\n      resetTxtNameError();\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function resetTxtNameError() {\r\n    setTxtNameError({\r\n      error: false,\r\n      message: ''\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Dashboard navTitle=\"Printer Settings\" backTo=\"settings\">\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Typography variant=\"h5\" align=\"center\" color=\"textPrimary\" paragraph>\r\n          Printer Details\r\n        </Typography>\r\n        <Paper className={classes.paper}>\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <FormControl margin=\"normal\" required fullWidth>\r\n              <TextField  \r\n                className={classes.textField}\r\n                type=\"text\"\r\n                name=\"txtName\"\r\n                autoComplete=\"name\"\r\n                margin=\"normal\"\r\n                label=\"Name\"\r\n                variant=\"outlined\" \r\n                value={txtName}\r\n                onChange={handleTxtNameChange}\r\n                error={txtNameError.error}\r\n                helperText={txtNameError.message}\r\n\r\n              />\r\n            </FormControl>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={false}\r\n            >\r\n              {'Save'/*this.state.loading ? 'Bitte warten...' : 'Speichern'*/}\r\n            </Button>\r\n          </form>\r\n          </Paper>\r\n      </main>\r\n      <Snackbar \r\n        message={snackbarMessage.message} \r\n        variant={snackbarMessage.type}\r\n        ref={snackbar} \r\n      />\r\n    </Dashboard>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport Login from './pages/login.page';\r\nimport Home from './pages/home.page';\r\nimport Settings from './pages/settings.page';\r\nimport AccountSettings from './pages/accountsettings.page';\r\nimport ConnectionSettings from './pages/connectionsettings.page';\r\nimport AddAccount from './pages/addaccount.page';\r\nimport Files from './pages/files.page';\r\nimport Controls from './pages/controls.page';\r\nimport Info from './pages/info.page';\r\nimport LoadingWithIcon from './pages/loading.page';\r\n\r\nimport { userService } from './services/users.service';\r\nimport { printerService } from './services/printer.service';\r\nimport { UserContext } from './contexts/user.context';\r\nimport { PrinterContext } from './contexts/printer.context';\r\nimport { SocketContext } from './contexts/socket.context';\r\nimport { ThemeContext } from './contexts/theme.context';\r\nimport PrinterSettings from './pages/printersettings.page';\r\n\r\n\r\n//create consistent theme styling for app\r\nconst theme_light = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'light'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nconst theme_dark = createMuiTheme({\r\n  palette: {\r\n      primary:  {\r\n          main: '#0078d7',\r\n      },\r\n      secondary: {\r\n          main: '#ffffff',\r\n      },\r\n      type: 'dark'\r\n  },\r\n  typography: {\r\n      useNextVariants: true,\r\n  },\r\n});\r\n\r\nfunction RedirectToLogin() {\r\n  return (\r\n    <Redirect exact to=\"/login\" />\r\n  );\r\n}\r\n\r\nfunction App() {\r\n\r\n  const [authorized, setAuthorized] = useState(window.localStorage.getItem('token') !== null ? true : false);\r\n  const [userPromiseResolved, setUserPromiseResolved] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [printerStatus, setPrinterStatus] = useState({});\r\n  const [printerInfo, setPrinterInfo] = useState({});\r\n  const [themeStyle, setThemeStyle] = useState(window.localStorage.getItem('themeMode') !== null ? window.localStorage.getItem('themeMode') : 'light');\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage.getItem('token') !== null) {\r\n\r\n      printerService.getStatus().then((data) => {\r\n        setPrinterStatus(data);\r\n      });\r\n      \r\n      userService.lookup().then((data) => {\r\n\r\n        if (data._id === undefined) {\r\n          setAuthorized(false);\r\n          setUser({\r\n            authorized: false\r\n          });\r\n          setUserPromiseResolved(true);\r\n        } else {\r\n          setAuthorized(true);\r\n          data.authorized = true;\r\n          setUser(data);\r\n          setUserPromiseResolved(true);\r\n        }\r\n\r\n      });\r\n\r\n      printerService.getInfo().then((data) => {\r\n        setPrinterInfo(data);\r\n      });\r\n\r\n    } else {\r\n      setUser({\r\n        authorized: false\r\n      });\r\n      setUserPromiseResolved(true);\r\n    }\r\n\r\n  }, []);\r\n\r\n  // if data has not been fetched yet\r\n  if (!userPromiseResolved) {\r\n    return (\r\n      <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n        <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n          <CssBaseline />\r\n          <LoadingWithIcon />\r\n        </MuiThemeProvider>\r\n      </ThemeContext.Provider>\r\n    );\r\n  }\r\n\r\n  // otherwise\r\n  return (\r\n    <ThemeContext.Provider value={{themeStyle: themeStyle, setThemeStyle: setThemeStyle}}>\r\n      <MuiThemeProvider theme={themeStyle !== 'dark' ? theme_light : theme_dark}>\r\n        <UserContext.Provider value={user}>\r\n          <PrinterContext.Provider value={{ status: printerStatus, setStatus: setPrinterStatus, info: printerInfo, setInfo: setPrinterInfo }}>\r\n            <Router>\r\n              <div>\r\n                <CssBaseline />\r\n\r\n                { authorized ? (\r\n                  <div>  \r\n                    <SocketContext.Consumer>\r\n                      { socket => (\r\n                        \r\n                        <UserContext.Consumer>\r\n                          {user => (\r\n                            <PrinterContext.Consumer>\r\n                              \r\n                              {printer => (\r\n                                <div>\r\n                                  <Route exact path=\"/\" render={ props => (                        \r\n                                    <Home user={user} socket={socket} printer={printer} />        \r\n                                  )} />\r\n      \r\n                                  <Route exact path=\"/controls\" render={ props => (\r\n                                    <Controls socket={socket} printer={printer} />\r\n                                  )} />\r\n      \r\n                                  <Route exact path=\"/files\" render={ props => (\r\n                                    <Files socket={socket} />\r\n                                  )} />\r\n      \r\n                                  <Route exact path=\"/settings\" render={ props => (\r\n                                    <Settings />\r\n                                  )} />\r\n      \r\n                                  <Route exact path=\"/settings/connection\" render={ props => (\r\n                                    <ConnectionSettings />\r\n                                  )} />\r\n      \r\n                                  <Route exact path=\"/settings/printer\" render={ props => (\r\n                                    <PrinterSettings />\r\n                                  )} />\r\n      \r\n                                  <Route exact path=\"/settings/accounts\" render={ props => (\r\n                                    <AccountSettings {...props} />\r\n                                  )} />\r\n      \r\n                                  <Route exact path=\"/settings/accounts/add\" render={ props => (\r\n                                    <AddAccount {...props} />\r\n                                  )} />\r\n\r\n                                  <Route exact path=\"/settings/info\" render={ props => (\r\n                                    <Info {...props} />\r\n                                  )} />\r\n                                </div>\r\n                              )}\r\n\r\n                            </PrinterContext.Consumer> \r\n                          )}\r\n                        </UserContext.Consumer>\r\n                      )}\r\n                    </SocketContext.Consumer>\r\n\r\n                  </div>\r\n                ) : (<RedirectToLogin />)\r\n                }\r\n\r\n                <Route exact path=\"/login\" render={ props => (\r\n                  <UserContext.Consumer>\r\n                    { user => (\r\n                      <Login user={user} />\r\n                    )}\r\n                  </UserContext.Consumer>\r\n                )} />\r\n\r\n              </div>\r\n            </Router>\r\n          </PrinterContext.Provider>\r\n        </UserContext.Provider>\r\n      </MuiThemeProvider>\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}